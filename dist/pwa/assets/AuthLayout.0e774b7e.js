import{Q as g,a as l}from"./QCard.16a5fd4d.js";import{Q as u}from"./QInput.39c087d0.js";import{u as v,r as y,c as Q,o as c,a as h,w as a,e,f as d,g as x,Q as V,h as _,P as k}from"./index.5ced3e40.js";import{Q as S}from"./QForm.a5d85d3b.js";import{Q as C}from"./QPage.d7ba5a03.js";import{Q as b,a as B}from"./QLayout.21c8a301.js";import{u as w}from"./VDB.daf2eb22.js";import{u as N}from"./use-quasar.6d58fe31.js";import{C as P}from"./index.70a36b3d.js";import"./use-key-composition.33c3d238.js";import"./uid.937d8ee7.js";import"./QResizeObserver.3dcb8e42.js";import"./_commonjsHelpers.88e99c8f.js";const D={key:0,class:"text-center"},R={__name:"AuthLayout",setup(J){const n=w(),i=N(),p=v(),t=y({nick:"",pass:""}),f=Q(()=>t.value.nick&&t.value.pass),m=()=>{console.log("Iniciando sesion ...",t.value);const r=n.findByNick(t.value.nick);if(r)if(P.MD5(t.value.pass).toString()==r.credentials.hash){let o=JSON.parse(JSON.stringify(r));delete o.credentials.pass,k.set("auth",o),n.setSession(o),p.replace("/")}else i.notify({message:"Credenciales erroneas",color:"negative",icon:"fas fa-bugs"});else i.notify({message:"Credenciales erroneas",color:"negative",icon:"fas fa-bugs"})};return(r,s)=>(c(),h(b,{view:"hHh Lpr fFf"},{default:a(()=>[e(B,null,{default:a(()=>[e(C,{padding:"",class:"flex flex-center"},{default:a(()=>[e(g,{flat:"",class:"bg-transparent"},{default:a(()=>[e(l,{class:"row items-center justify-between"},{default:a(()=>s[2]||(s[2]=[d("div",{class:"fs-inc4"},"Acceso",-1),d("div",{class:"text-right fw-xbold text-primary fs-dec2"},"VH v1.0",-1)])),_:1}),e(l,{horizontal:""},{default:a(()=>[e(l,null,{default:a(()=>[e(S,{onSubmit:m,class:"q-gutter-lg"},{default:a(()=>[e(u,{outlined:"",rounded:"",standout:"text-primary",placeholder:"nick","input-class":"fs-inc2 text-center",modelValue:t.value.nick,"onUpdate:modelValue":s[0]||(s[0]=o=>t.value.nick=o),type:"text",autofocus:"",autocapitalize:"off",autocomplete:"off"},null,8,["modelValue"]),e(u,{outlined:"",rounded:"",placeholder:"nip","input-class":"fs-inc2 text-center",modelValue:t.value.pass,"onUpdate:modelValue":s[1]||(s[1]=o=>t.value.pass=o),type:"password"},null,8,["modelValue"]),f.value?(c(),x("div",D,[e(V,{label:"Entrar",type:"submit",color:"primary"})])):_("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{R as default};
