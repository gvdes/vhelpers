import{Q as E,c as S}from"./QSeparator.7ec8c57d.js";import{Q as D}from"./QHeader.87ea7a2a.js";import{u as B,r as f,o as r,a as L,w as s,e,f as l,a6 as h,E as P,g as n,a0 as i,h as p,a3 as Q,a4 as N}from"./index.976e3998.js";import{Q as A}from"./QToolbar.71334663.js";import{u as H,Q as x,a as u}from"./use-quasar.c265db13.js";import{Q as c}from"./QBadge.30c4c7df.js";import{Q as g}from"./QLinearProgress.6a05ebaa.js";import{Q as I}from"./QSpinnerFacebook.836e6235.js";import{Q as $}from"./QTooltip.0a3d8bf0.js";import{Q as q}from"./QPage.e2f3091e.js";import{Q as z,a as j}from"./QLayout.24e59574.js";import{u as K}from"./VDB.37e8ee37.js";import{_ as M}from"./UserToolbar.ce5c1a90.js";import{b as O}from"./axios.0d2bd0f9.js";import"./QResizeObserver.4208a21a.js";import"./QSelect.21e80e71.js";import"./QScrollObserver.0dd615d0.js";import"./QList.16c3b3bc.js";import"./QDrawer.36009e26.js";import"./QCardActions.1738e728.js";import"./ClosePopup.03538f37.js";import"./auth.47587533.js";const R={key:0,class:"row justify-between"},U={class:"text-h4 text-center"},G={class:"text-h4 text-center"},J={class:"text-h4 text-center"},W={class:"text-h4 text-center"},X={class:"text-h4 text-center"},Y={class:"text-h4 text-center"},Z={class:"text-h4 text-center"},ee={key:1},te={class:"absolute-full flex flex-center"},ae={key:2},se={class:"absolute-full flex flex-center"},le={key:0},Fe={__name:"SaleLayout",setup(oe){const V=B(),d=K(),T=H(),k=f(!1),v=f(!1),b=f(!1),a=f(null),m=f(!1),C=async()=>{m.value=!0;let t=`http://${d.session.store.ip_address}/access/public/reports/getSales`;O.get(t).then(o=>{console.log(o.data),a.value=o.data,console.log("datos obt"),k.value=!0,v.value=!0,m.value=!1}).catch(o=>{console.log(o.response.data.message)})},F=()=>{v.value=!1,b.value=!0},_=()=>{v.value=!0,b.value=!1};return d.session.rol=="root"||d.session.rol=="gen"||d.session.rol=="aud"||d.session.rol=="rrhh"?C():(T.notify({message:"No tienes acceso a esta pagina",type:"negative",position:"center"}),V.replace("/")),(w,t)=>(r(),L(z,{view:"hHh Lpr fFf"},{default:s(()=>[e(D,{class:"transparent text-dark",bordered:""},{default:s(()=>[e(M),e(E)]),_:1}),e(j,null,{default:s(()=>[e(q,{padding:""},{default:s(()=>[e(A,{class:"justify-between"},{default:s(()=>[l("div",null,[t[1]||(t[1]=h("Helpers ")),e(P,{name:"navigate_next",color:"primary"}),t[2]||(t[2]=h()),t[3]||(t[3]=l("span",{class:"text-h6"},"Consulta Ventas",-1))])]),_:1}),k.value?(r(),n("div",R,[e(x,{class:"my-card",onClick:_},{default:s(()=>[e(u,null,{default:s(()=>[t[4]||(t[4]=l("div",{class:"text-h6 text-center"},"Ventas 2024",-1)),l("div",U,i(Number(a.value.salesant/a.value.salesant*100)+"%"),1)]),_:1}),e(u,null,{default:s(()=>[t[5]||(t[5]=l("div",{class:"text-h6 text-center"},"Tickets 2024",-1)),l("div",G,i(a.value.tiketsant),1)]),_:1})]),_:1}),e(x,{class:"my-card",onClick:_},{default:s(()=>[e(u,null,{default:s(()=>[t[6]||(t[6]=l("div",{class:"text-h6 text-center"},"Ventas 2025",-1)),l("div",J,i(Number(a.value.salesact/Number(a.value.salesant*1.1)*100).toFixed(2)+"%"),1)]),_:1}),e(u,null,{default:s(()=>[t[7]||(t[7]=l("div",{class:"text-h6 text-center"},"Tickets 2025",-1)),l("div",W,i(a.value.tiketsact),1)]),_:1})]),_:1}),e(x,{class:"my-card",onClick:_},{default:s(()=>[e(u,null,{default:s(()=>[t[8]||(t[8]=l("div",{class:"text-h6 text-center"},"Diferencia",-1)),l("div",X,i(Number(Number(a.value.salesact/Number(a.value.salesant*1.1)*100)-Number(Number(a.value.salesant*1.1)/Number(a.value.salesant*1.1)*100)).toFixed(2)+"%"),1)]),_:1}),e(u,null,{default:s(()=>[t[9]||(t[9]=l("div",{class:"text-h6 text-center"},"Tickets Diferencia",-1)),l("div",Y,i(a.value.tiketsact-a.value.tiketsant),1)]),_:1})]),_:1}),e(x,{class:"my-card",onClick:F},{default:s(()=>[e(u,null,{default:s(()=>[t[10]||(t[10]=l("div",{class:"text-h6 text-center"},"Tickets Hoy",-1)),l("div",Z,i(a.value.hoytck),1)]),_:1})]),_:1})])):p("",!0),v.value?(r(),n("div",ee,[(r(!0),n(Q,null,N(a.value.ventasdepmonth,(o,y)=>(r(),n("div",{class:"q-pa-md",key:y},[e(g,{size:"25px",stripe:"",rounded:"",value:o.VENTA/a.value.salesact,color:"primary"},{default:s(()=>[l("div",te,[e(c,{color:"white","text-color":"accent",label:o.NOMDEP},null,8,["label"]),e(c,{color:"white","text-color":"accent",label:"   (% "+Number.parseFloat(o.VENTA/a.value.salesact*100).toFixed(2)+")"},null,8,["label"]),e(c,{color:"white","text-color":"accent",label:"   ("+Number.parseFloat(o.TICKETS).toFixed(0)+" tcks)"},null,8,["label"])])]),_:2},1032,["value"])]))),128))])):p("",!0),b.value?(r(),n("div",ae,[(r(!0),n(Q,null,N(a.value.ventasdepday,(o,y)=>(r(),n("div",{class:"q-pa-md",key:y},[e(g,{size:"25px",stripe:"",rounded:"",value:o.VENTA/a.value.saleshoy,color:"primary"},{default:s(()=>[l("div",se,[e(c,{color:"white","text-color":"accent",label:o.NOMDEP},null,8,["label"]),e(c,{color:"white","text-color":"accent",label:"   (% "+Number.parseFloat(o.VENTA/a.value.saleshoy*100).toFixed(2)+")"},null,8,["label"]),e(c,{color:"white","text-color":"accent",label:"   ("+Number.parseFloat(o.TICKETS).toFixed(0)+" tcks)"},null,8,["label"])])]),_:2},1032,["value"])]))),128))])):p("",!0),e(S,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=o=>m.value=o),persistent:""},{default:s(()=>[m.value?(r(),n("div",le,[e(I,{color:"primary",size:"7.5em"}),e($,{offset:[0,8]},{default:s(()=>t[11]||(t[11]=[h("Cargando Informacion")])),_:1})])):p("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{Fe as default};
