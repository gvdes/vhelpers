import{Q as y}from"./QHeader.09cc9bf6.js";import{Q as V,a as d}from"./QSelect.844c57c0.js";import{Q as b,a as c}from"./QItemSection.d2690b27.js";import{u as w,r as f,o as n,a as m,w as e,e as a,h as S,f as u,g as L,a0 as k,a1 as B,a2 as C,a3 as g,a4 as v,a5 as D,a6 as I}from"./index.5fd56673.js";import{Q as N}from"./QList.befb6864.js";import{Q as R}from"./QPage.4b5156cc.js";import{Q as q,a as A}from"./QLayout.3d85a506.js";import{u as F}from"./VDB.f0615c4a.js";import{_ as H}from"./UserToolbar.fb5bd25a.js";import{a as P}from"./auth.fd07a0d9.js";import{u as $}from"./use-quasar.6f063f50.js";import"./QResizeObserver.934530db.js";import"./use-key-composition.977fa0e4.js";import"./uid.937d8ee7.js";import"./QCard.596e448f.js";import"./position-engine.99a3d7e6.js";import"./QDialog.59a4ddef.js";import"./rtl.276c3f1b.js";import"./QCardActions.bb2bd605.js";import"./ClosePopup.00d00a9f.js";import"./axios.2f5f6197.js";import"./axios.9ab26c22.js";const me={__name:"LauncherLayout",setup(E){const s=F();w();const _=s.session,l=$(),p=f([]),t=f({val:s.session,opts:[]}),Q=async()=>{l.loading.show({message:"Obteniendo Informacion"});const r=await P.getResources(_.credentials.id);r.fail?console.log(r):(t.value.opts=r.stores,p.value=r.rol.modules,l.loading.hide())},h=()=>{l.loading.show({message:"Cambiando sucursal"}),s.session.store=t.value.val.store,s.setSession({...s.session,store:t.value.val.store}),console.log(s.session),l.loading.hide()};return Q(),(r,i)=>(n(),m(q,{view:"hHh Lpr fFf"},{default:e(()=>[a(y,{bordered:"",class:"bg-grey-3"},{default:e(()=>[a(H)]),_:1}),a(A,null,{default:e(()=>[a(R,{class:"flex flex-center",padding:""},{default:e(()=>[a(N,{separator:""},{default:e(()=>[t.value.opts.length>1?(n(),m(V,{key:0,modelValue:t.value.val,"onUpdate:modelValue":[i[0]||(i[0]=o=>t.value.val=o),h],options:t.value.opts,label:"Selecciona Sucursal","option-label":o=>o.store.name,filled:""},null,8,["modelValue","options","option-label"])):S("",!0),i[1]||(i[1]=u("div",{class:"q-py-md text-center"},[u("div",{class:"text-h4 text-indigo-10"},"Menu"),u("div",{class:"text-grey-5"},"Vhelpers")],-1)),(n(!0),L(B,null,k(p.value,(o,x)=>C((n(),m(b,{clickable:"",key:x,to:o.module.path},{default:e(()=>[a(c,null,{default:e(()=>[a(d,{class:"text-h6"},{default:e(()=>[g(v(o.module.name),1)]),_:2},1024),a(d,{caption:""},{default:e(()=>[g(v(o.module.desc),1)]),_:2},1024)]),_:2},1024),a(c,{avatar:""},{default:e(()=>[a(D,{flat:"",color:"transparent","text-color":"primary",icon:"arrow_forward"})]),_:1})]),_:2},1032,["to"])),[[I]])),128))]),_:1})]),_:1})]),_:1})]),_:1}))}};export{me as default};
