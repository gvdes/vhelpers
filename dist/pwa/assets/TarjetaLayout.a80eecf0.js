import{Q as R}from"./position-engine.84fa17b7.js";import{r as m,o as b,a as N,w as l,e,i as n,a3 as s,U as C,g,h as V,a4 as r,a2 as F,Q as y}from"./index.4fe6a4af.js";import{a as T,Q as D}from"./axios.1c26dc3a.js";import{_ as L,Q as B,a as U,C as O}from"./UserToolbar.69dbeaf6.js";import{Q as P}from"./QInput.48d72a7a.js";import{Q as H}from"./QTable.5ee91fe2.js";import{Q as $}from"./QSpinnerFacebook.ee034136.js";import{Q as j}from"./QTooltip.6dde715b.js";import{Q}from"./QDialog.11c1c64d.js";import{Q as q,a as K,b as E,c as p,d as J}from"./QLayout.93b495d7.js";import{Q as z,a as x,b as d}from"./QList.d3fd3b29.js";import{Q as M}from"./QSelect.d1b8967e.js";import{Q as G}from"./QForm.d88e16e9.js";import{u as W}from"./VDB.8dc0c696.js";import{u as X}from"./use-quasar.6cd5c45c.js";import"./QLinearProgress.cb95ee20.js";const Y=n("span",{class:"text-h6"},"Consulta de Pagos",-1),Z={key:0},ee={key:0},le={class:"text-h4"},ae={class:"text-subtitle2"},te={class:"text-h5"},oe={class:"text-h5 text-center"},se={class:"text-h5 text-center"},ue=n("div",{class:"text-h6 text-center"},"Impresora",-1),Te={__name:"TarjetaLayout",setup(re){const h=W();X();const I=m({val:null,body:null}),u=m({state:!1,val:null,body:null}),i=m({val:null,filter:null,state:!1,body:null}),f=m(!1),o=m({state:!1,body:null}),v=m(!1),w=()=>{let c=o.value.body.TICKET.split("-"),a={type:"Reimpresion",serie:c[0],folio:c[1],print:u.value.val.ip};v.value=!0;let A=`http://${h.session.store.ip}/access/public/modify/newmod`;T.post(A,a).then(_=>{console.log(_),v.value=!1,u.value.val=null,u.value.state=!1}).catch(_=>_)},k=async()=>{console.log("Recibiendo Datos :)"),f.value=!0;let a=`http://${h.session.store.ip}/access/public/reports/getCash`;T.get(a).then(t=>{I.value.body=t.data.terminales,i.value.body=t.data.formaspagos,u.value.body=t.data.impresoras,i.value.state=!0,f.value=!1,console.log("ya lo recibi que no te enganen :)"),console.log("Impresoras listas :)")}).catch(t=>console.log(t))},S=(c,a)=>{console.log("aqui se podra reimprimir"),console.log(a.TICKET),o.value.state=!0,o.value.body=a};return k(),(c,a)=>(b(),N(q,{view:"hHh Lpr fFf"},{default:l(()=>[e(B,{class:"transparent text-dark",bordered:""},{default:l(()=>[e(L),e(R),e(D,{class:"justify-between"},{default:l(()=>[n("div",null,[s("Helpers "),e(C,{name:"navigate_next",color:"primary"}),s(),Y])]),_:1})]),_:1}),e(J,null,{default:l(()=>[e(K,{padding:""},{default:l(()=>[i.value.state?(b(),g("div",Z,[e(H,{class:"my-sticky-header-table",title:"Fromas de Pago",rows:i.value.body,"row-key":"name",filter:i.value.filter,separator:"cell",onRowClick:S},{"top-right":l(()=>[e(P,{borderless:"",dense:"",debounce:"300",modelValue:i.value.filter,"onUpdate:modelValue":a[0]||(a[0]=t=>i.value.filter=t),placeholder:"Search"},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","filter"])])):V("",!0),e(Q,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=t=>f.value=t),persistent:""},{default:l(()=>[f.value?(b(),g("div",ee,[e($,{color:"primary",size:"7.5em"}),e(j,{offset:[0,8]},{default:l(()=>[s("Cargando Informacion")]),_:1})])):V("",!0)]),_:1},8,["modelValue"]),e(Q,{modelValue:o.value.state,"onUpdate:modelValue":a[3]||(a[3]=t=>o.value.state=t),persistent:""},{default:l(()=>[e(E,{style:{width:"700px","max-width":"70vw"}},{default:l(()=>[e(p,{class:"row justify-between"},{default:l(()=>[n("div",le,"Ticket : "+r(o.value.body.TICKET),1),n("div",ae,r(o.value.body.TERMINAL),1)]),_:1}),e(p,null,{default:l(()=>[n("div",te,r(o.value.body.CNOFAC),1)]),_:1}),e(p,null,{default:l(()=>[n("div",oe,r(o.value.body.CLIENTE),1),n("div",se,r(o.value.body.FECHA),1)]),_:1}),e(p,null,{default:l(()=>[e(z,{bordered:""},{default:l(()=>[e(x,null,{default:l(()=>[e(d,null,{default:l(()=>[s("EFECTIVO")]),_:1}),e(d,null,{default:l(()=>[s("TARJETA")]),_:1}),e(d,null,{default:l(()=>[s("TRANSFERENCIA")]),_:1}),e(d,null,{default:l(()=>[s("VALE")]),_:1}),e(d,null,{default:l(()=>[s("CREDITO")]),_:1})]),_:1}),e(x,null,{default:l(()=>[e(d,null,{default:l(()=>[s(r(o.value.body.EFECTIVO),1)]),_:1}),e(d,null,{default:l(()=>[s(r(o.value.body.TARJETAS),1)]),_:1}),e(d,null,{default:l(()=>[s(r(o.value.body.TRANSFERENCIAS),1)]),_:1}),e(d,null,{default:l(()=>[s(r(o.value.body.VALES),1)]),_:1}),e(d,null,{default:l(()=>[s(r(o.value.body.CREDITOS),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(U,{align:"center"},{default:l(()=>[F(e(y,{flat:"",color:"negative",icon:"close"},null,512),[[O]]),e(y,{flat:"",color:"primary",icon:"print",onClick:a[2]||(a[2]=t=>u.value.state=!u.value.state)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:u.value.state,"onUpdate:modelValue":a[5]||(a[5]=t=>u.value.state=t)},{default:l(()=>[e(E,{class:"my-card"},{default:l(()=>[e(p,null,{default:l(()=>[ue]),_:1}),e(p,null,{default:l(()=>[e(G,{onSubmit:w,class:"q-gutter-md"},{default:l(()=>[e(M,{dense:"","option-label":"name",modelValue:u.value.val,"onUpdate:modelValue":a[4]||(a[4]=t=>u.value.val=t),options:u.value.body,label:"Impresora",filled:"",autofocus:"",style:{width:"200px"}},null,8,["modelValue","options"]),n("div",null,[e(y,{label:"Enviar",type:"submit",color:"primary",style:{width:"200px"},disable:u.value.val===null||v.value},null,8,["disable"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{Te as default};
