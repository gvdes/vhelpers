import{b as p}from"./QList.f70732a6.js";import{Q}from"./QHeader.053f76c5.js";import{u as h,a as w,aH as x,r as y,a$ as P,o as k,d as b,w as l,e as s,f as i,ak as S,S as V,a0 as L,a1 as A,Q as B}from"./index.beb848e1.js";import{Q as I}from"./QToolbar.f9760362.js";import{Q as q}from"./QSelect.bf04a8de.js";import{Q as C,a as F}from"./QLayout.b38037fa.js";import{_ as H}from"./UserToolbar.0947b131.js";import{u as U}from"./use-quasar.4432aaa8.js";import"./dayjs.min.cbcf888d.js";import{u as $}from"./layoutStore.7275407e.js";import{a as m}from"./axios.01640772.js";import"./use-key-composition.e0c84726.js";import"./QResizeObserver.d56b972b.js";import"./QScrollObserver.b86a1cda.js";import"./QDrawer.4a93d500.js";import"./QCardSection.390d801e.js";import"./QCardActions.4ffdcc8c.js";import"./QCard.ec3a5fed.js";import"./ClosePopup.001c94f4.js";import"./auth.de96a3cf.js";import"./_commonjsHelpers.88e99c8f.js";var d={getPrints(n){return m.get(`/cashier/getPrinters/${n}`).then(t=>t.data).catch(t=>({fail:t}))},PrintAttention(n){return m.post("/prints/PrintAttention",n).then(t=>t.data).catch(t=>({fail:t}))}};const D={class:"row items-center"},N={class:"text-center"},T={class:"q-ml-lg q-mr-lg"},j={class:"flex justify-center"},pe={__name:"FileAttentionLYT",setup(n){const t=h();$(),w(),x();const a=U(),o=y({val:null,opts:[]}),u=async()=>{let r=t.session.store.id;console.log(r);const e=await d.getPrints(r);e.fail?console.log(e):(console.log(e),o.value.opts=e,console.log("Impresoras listas :)"))},f=async()=>{a.loading.show({message:"Imprimiendo"});let r={print:o.value.val.ip_address,staff:t.session.credentials.staff};const e=await d.PrintAttention(r);e.fail?console.log(e):(console.log(e),a.loading.hide(),a.notify({type:"positive",icon:"check"}))},v=()=>{a.localStorage.set("LUP",{wkp:t.session.store,printer:o.value.val})},c=a.localStorage.getItem("LUP");return c&&(o.value.val=c.printer),u(),(r,e)=>{const _=P("router-view");return k(),b(C,{view:"hHh Lpr fFf"},{default:l(()=>[s(Q,{class:"transparent text-dark",bordered:""},{default:l(()=>[s(H),s(p)]),_:1}),s(F,null,{default:l(()=>[s(I,{class:"justify-between"},{default:l(()=>[i("div",D,[e[1]||(e[1]=S(" Helpers ")),s(V,{name:"navigate_next",color:"primary",class:"q-mx-sm"}),e[2]||(e[2]=i("span",{class:"text-h6"},"Ficha Atencion ",-1))])]),_:1}),i("div",N,L(A(t).session.credentials.staff.complete_name),1),s(p,{spaced:"",inset:"",vertical:"",dark:""}),i("div",T,[s(q,{modelValue:o.value.val,"onUpdate:modelValue":[e[0]||(e[0]=g=>o.value.val=g),v],options:o.value.opts,label:"Impresora",filled:"","option-label":"name"},null,8,["modelValue","options"])]),s(p,{spaced:"",inset:"",vertical:"",dark:""}),i("div",j,[s(B,{rounded:"",flat:"",color:"primary",icon:"print",size:"xl",disabled:!o.value.val,onClick:f},null,8,["disabled"])]),s(_)]),_:1})]),_:1})}}};export{pe as default};
