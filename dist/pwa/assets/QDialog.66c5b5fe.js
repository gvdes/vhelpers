import{an as Me,r as w,ag as ce,X as ee,p as F,ao as te,n as x,t as fe,q as C,m as $,ap as Pe,K as U,aq as $e,ar as A,S as Be,v as Le,k as q,as as _e,at as ze,au as We,c as y,y as me,A as he,$ as X,O as Ae,av as ne,aw as Fe,j as De,_ as ie,l as Ve,ai as Oe}from"./index.369716fd.js";import{d as le,e as Re,b as je}from"./QCard.c13ab44c.js";function Ke(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Me.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const ht={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function vt({showing:e,avoidEmit:t,configureAnchorEl:i}){const{props:n,proxy:l,emit:d}=$(),o=w(null);let s=null;function u(a){return o.value===null?!1:a===void 0||a.touches===void 0||a.touches.length<=1}const r={};i===void 0&&(Object.assign(r,{hide(a){l.hide(a)},toggle(a){l.toggle(a),a.qAnchorHandled=!0},toggleKey(a){ce(a,13)===!0&&r.toggle(a)},contextClick(a){l.hide(a),ee(a),F(()=>{l.show(a),a.qAnchorHandled=!0})},prevent:ee,mobileTouch(a){if(r.mobileCleanup(a),u(a)!==!0)return;l.hide(a),o.value.classList.add("non-selectable");const h=a.target;te(r,"anchor",[[h,"touchmove","mobileCleanup","passive"],[h,"touchend","mobileCleanup","passive"],[h,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,l.show(a),a.qAnchorHandled=!0},300)},mobileCleanup(a){o.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&a!==void 0&&Ke()}}),i=function(a=n.contextMenu){if(n.noParentEvent===!0||o.value===null)return;let h;a===!0?l.$q.platform.is.mobile===!0?h=[[o.value,"touchstart","mobileTouch","passive"]]:h=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:h=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],te(r,"anchor",h)});function c(){Pe(r,"anchor")}function g(a){for(o.value=a;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;i()}function p(){if(n.target===!1||n.target===""||l.$el.parentNode===null)o.value=null;else if(n.target===!0)g(l.$el.parentNode);else{let a=n.target;if(typeof n.target=="string")try{a=document.querySelector(n.target)}catch{a=void 0}a!=null?(o.value=a.$el||a,i()):(o.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return x(()=>n.contextMenu,a=>{o.value!==null&&(c(),i(a))}),x(()=>n.target,()=>{o.value!==null&&c(),p()}),x(()=>n.noParentEvent,a=>{o.value!==null&&(a===!0?c():i())}),fe(()=>{p(),t!==!0&&n.modelValue===!0&&o.value===null&&d("update:modelValue",!1)}),C(()=>{s!==null&&clearTimeout(s),c()}),{anchorEl:o,canShow:u,anchorEvents:r}}function gt(e,t){const i=w(null);let n;function l(s,u){const r=`${u!==void 0?"add":"remove"}EventListener`,c=u!==void 0?u:n;s!==window&&s[r]("scroll",c,U.passive),window[r]("scroll",c,U.passive),n=u}function d(){i.value!==null&&(l(i.value),i.value=null)}const o=x(()=>e.noParentEvent,()=>{i.value!==null&&(d(),t())});return C(o),{localScrollTarget:i,unconfigureScrollTarget:d,changeScrollEvent:l}}const Qe={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Ie=["beforeShow","show","beforeHide","hide"];function Ne({showing:e,canShow:t,hideOnRouteChange:i,handleShow:n,handleHide:l,processOnMount:d}){const o=$(),{props:s,emit:u,proxy:r}=o;let c;function g(m){e.value===!0?h(m):p(m)}function p(m){if(s.disable===!0||m!==void 0&&m.qAnchorHandled===!0||t!==void 0&&t(m)!==!0)return;const b=s["onUpdate:modelValue"]!==void 0;b===!0&&(u("update:modelValue",!0),c=m,F(()=>{c===m&&(c=void 0)})),(s.modelValue===null||b===!1)&&a(m)}function a(m){e.value!==!0&&(e.value=!0,u("beforeShow",m),n!==void 0?n(m):u("show",m))}function h(m){if(s.disable===!0)return;const b=s["onUpdate:modelValue"]!==void 0;b===!0&&(u("update:modelValue",!1),c=m,F(()=>{c===m&&(c=void 0)})),(s.modelValue===null||b===!1)&&B(m)}function B(m){e.value!==!1&&(e.value=!1,u("beforeHide",m),l!==void 0?l(m):u("hide",m))}function M(m){s.disable===!0&&m===!0?s["onUpdate:modelValue"]!==void 0&&u("update:modelValue",!1):m===!0!==e.value&&(m===!0?a:B)(c)}x(()=>s.modelValue,M),i!==void 0&&$e(o)===!0&&x(()=>r.$route.fullPath,()=>{i.value===!0&&e.value===!0&&h()}),d===!0&&fe(()=>{M(s.modelValue)});const L={show:p,hide:h,toggle:g};return Object.assign(r,L),L}const S=[];function pt(e){return S.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Ue(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return A(e)}else if(e.__qPortal===!0){const i=A(e);return i!==void 0&&i.$options.name==="QPopupProxy"?(e.hide(t),i):e}e=A(e)}while(e!=null)}function bt(e,t,i){for(;i!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(i--,e.$options.name==="QMenu"){e=Ue(e,t);continue}e.hide(t)}e=A(e)}}function Ge(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Xe(e,t,i,n){const l=w(!1),d=w(!1);let o=null;const s={},u=n==="dialog"&&Ge(e);function r(g){if(g===!0){le(s),d.value=!0;return}d.value=!1,l.value===!1&&(u===!1&&o===null&&(o=ze(!1,n)),l.value=!0,S.push(e.proxy),Re(s))}function c(g){if(d.value=!1,g!==!0)return;le(s),l.value=!1;const p=S.indexOf(e.proxy);p!==-1&&S.splice(p,1),o!==null&&(We(o),o=null)}return Be(()=>{c(!0)}),e.proxy.__qPortal=!0,Le(e.proxy,"contentEl",()=>t.value),{showPortal:r,hidePortal:c,portalIsActive:l,portalIsAccessible:d,renderPortal:()=>u===!0?i():l.value===!0?[q(_e,{to:o},i())]:void 0}}const Ye={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Je(e,t=()=>{},i=()=>{}){return{transitionProps:y(()=>{const n=`q-transition--${e.transitionShow||t()}`,l=`q-transition--${e.transitionHide||i()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:y(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Ze(){let e;const t=$();function i(){e=void 0}return me(i),C(i),{removeTick:i,registerTick(n){e=n,F(()=>{e===n&&(he(t)===!1&&e(),e=void 0)})}}}function et(){let e=null;const t=$();function i(){e!==null&&(clearTimeout(e),e=null)}return me(i),C(i),{removeTimeout:i,registerTimeout(n,l){i(),he(t)===!1&&(e=setTimeout(n,l))}}}const T=[];let H;function tt(e){H=e.keyCode===27}function nt(){H===!0&&(H=!1)}function it(e){H===!0&&(H=!1,ce(e,27)===!0&&T[T.length-1](e))}function ve(e){window[e]("keydown",tt),window[e]("blur",nt),window[e]("keyup",it),H=!1}function lt(e){X.is.desktop===!0&&(T.push(e),T.length===1&&ve("addEventListener"))}function oe(e){const t=T.indexOf(e);t>-1&&(T.splice(t,1),T.length===0&&ve("removeEventListener"))}const E=[];function ge(e){E[E.length-1](e)}function ot(e){X.is.desktop===!0&&(E.push(e),E.length===1&&document.body.addEventListener("focusin",ge))}function ae(e){const t=E.indexOf(e);t>-1&&(E.splice(t,1),E.length===0&&document.body.removeEventListener("focusin",ge))}const{notPassiveCapture:D}=U,k=[];function V(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let i=S.length-1;for(;i>=0;){const n=S[i].$;if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;i--}for(let n=k.length-1;n>=0;n--){const l=k[n];if((l.anchorEl.value===null||l.anchorEl.value.contains(t)===!1)&&(t===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(t)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function xt(e){k.push(e),k.length===1&&(document.addEventListener("mousedown",V,D),document.addEventListener("touchstart",V,D))}function yt(e){const t=k.findIndex(i=>i===e);t>-1&&(k.splice(t,1),k.length===0&&(document.removeEventListener("mousedown",V,D),document.removeEventListener("touchstart",V,D)))}let se,ue;function wt(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Tt(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const G={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{G[`${e}#ltr`]=e,G[`${e}#rtl`]=e});function Et(e,t){const i=e.split(" ");return{vertical:i[0],horizontal:G[`${i[1]}#${t===!0?"rtl":"ltr"}`]}}function at(e,t){let{top:i,left:n,right:l,bottom:d,width:o,height:s}=e.getBoundingClientRect();return t!==void 0&&(i-=t[1],n-=t[0],d+=t[1],l+=t[0],o+=t[0],s+=t[1]),{top:i,bottom:d,height:s,left:n,right:l,width:o,middle:n+(l-n)/2,center:i+(d-i)/2}}function st(e,t,i){let{top:n,left:l}=e.getBoundingClientRect();return n+=t.top,l+=t.left,i!==void 0&&(n+=i[1],l+=i[0]),{top:n,bottom:n+1,height:1,left:l,right:l+1,width:1,middle:l,center:n}}function ut(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function re(e,t,i){return{top:e[i.anchorOrigin.vertical]-t[i.selfOrigin.vertical],left:e[i.anchorOrigin.horizontal]-t[i.selfOrigin.horizontal]}}function kt(e){if(X.is.ios===!0&&window.visualViewport!==void 0){const s=document.body.style,{offsetLeft:u,offsetTop:r}=window.visualViewport;u!==se&&(s.setProperty("--q-pe-left",u+"px"),se=u),r!==ue&&(s.setProperty("--q-pe-top",r+"px"),ue=r)}const{scrollLeft:t,scrollTop:i}=e.el,n=e.absoluteOffset===void 0?at(e.anchorEl,e.cover===!0?[0,0]:e.offset):st(e.anchorEl,e.absoluteOffset,e.offset);let l={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(l.minWidth=n.width+"px",e.cover===!0&&(l.minHeight=n.height+"px")),Object.assign(e.el.style,l);const d=ut(e.el);let o=re(n,d,e);if(e.absoluteOffset===void 0||e.offset===void 0)N(o,n,d,e.anchorOrigin,e.selfOrigin);else{const{top:s,left:u}=o;N(o,n,d,e.anchorOrigin,e.selfOrigin);let r=!1;if(o.top!==s){r=!0;const c=2*e.offset[1];n.center=n.top-=c,n.bottom-=c+2}if(o.left!==u){r=!0;const c=2*e.offset[0];n.middle=n.left-=c,n.right-=c+2}r===!0&&(o=re(n,d,e),N(o,n,d,e.anchorOrigin,e.selfOrigin))}l={top:o.top+"px",left:o.left+"px"},o.maxHeight!==void 0&&(l.maxHeight=o.maxHeight+"px",n.height>o.maxHeight&&(l.minHeight=l.maxHeight)),o.maxWidth!==void 0&&(l.maxWidth=o.maxWidth+"px",n.width>o.maxWidth&&(l.minWidth=l.maxWidth)),Object.assign(e.el.style,l),e.el.scrollTop!==i&&(e.el.scrollTop=i),e.el.scrollLeft!==t&&(e.el.scrollLeft=t)}function N(e,t,i,n,l){const d=i.bottom,o=i.right,s=Ae(),u=window.innerHeight-s,r=document.body.clientWidth;if(e.top<0||e.top+d>u)if(l.vertical==="center")e.top=t[n.vertical]>u/2?Math.max(0,u-d):0,e.maxHeight=Math.min(d,u);else if(t[n.vertical]>u/2){const c=Math.min(u,n.vertical==="center"?t.center:n.vertical===l.vertical?t.bottom:t.top);e.maxHeight=Math.min(d,c),e.top=Math.max(0,c-d)}else e.top=Math.max(0,n.vertical==="center"?t.center:n.vertical===l.vertical?t.top:t.bottom),e.maxHeight=Math.min(d,u-e.top);if(e.left<0||e.left+o>r)if(e.maxWidth=Math.min(o,r),l.horizontal==="middle")e.left=t[n.horizontal]>r/2?Math.max(0,r-o):0;else if(t[n.horizontal]>r/2){const c=Math.min(r,n.horizontal==="middle"?t.middle:n.horizontal===l.horizontal?t.right:t.left);e.maxWidth=Math.min(o,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?t.middle:n.horizontal===l.horizontal?t.left:t.right),e.maxWidth=Math.min(o,r-e.left)}function rt(e,t,i){let n;function l(){n!==void 0&&(ne.remove(n),n=void 0)}return C(()=>{e.value===!0&&l()}),{removeFromHistory:l,addToHistory(){n={condition:()=>i.value===!0,handler:t},ne.add(n)}}}function dt(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Fe(t))}}}let W=0;const ct={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},de={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var qt=De({name:"QDialog",inheritAttrs:!1,props:{...Qe,...Ye,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Ie,"shake","click","escapeKey"],setup(e,{slots:t,emit:i,attrs:n}){const l=$(),d=w(null),o=w(!1),s=w(!1);let u=null,r=null,c,g;const p=y(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:a}=dt(),{registerTimeout:h}=et(),{registerTick:B,removeTick:M}=Ze(),{transitionProps:L,transitionStyle:m}=Je(e,()=>de[e.position][0],()=>de[e.position][1]),{showPortal:b,hidePortal:Y,portalIsAccessible:pe,renderPortal:be}=Xe(l,d,Ce,"dialog"),{hide:_}=Ne({showing:o,hideOnRouteChange:p,handleShow:ke,handleHide:qe,processOnMount:!0}),{addToHistory:xe,removeFromHistory:ye}=rt(o,_,p),we=y(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${ct[e.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),z=y(()=>o.value===!0&&e.seamless!==!0),Te=y(()=>e.autoClose===!0?{onClick:Se}:{}),Ee=y(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${z.value===!0?"modal":"seamless"}`,n.class]);x(()=>e.maximized,f=>{o.value===!0&&j(f)}),x(z,f=>{a(f),f===!0?(ot(K),lt(R)):(ae(K),oe(R))});function ke(f){xe(),r=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,j(e.maximized),b(),s.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),B(P)):M(),h(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:v,bottom:Q}=document.activeElement.getBoundingClientRect(),{innerHeight:Z}=window,I=window.visualViewport!==void 0?window.visualViewport.height:Z;v>0&&Q>I/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-I,Q>=Z?1/0:Math.ceil(document.scrollingElement.scrollTop+Q-I/2))),document.activeElement.scrollIntoView()}g=!0,d.value.click(),g=!1}b(!0),s.value=!1,i("show",f)},e.transitionDuration)}function qe(f){M(),ye(),J(!0),s.value=!0,Y(),r!==null&&(((f&&f.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),h(()=>{Y(!0),s.value=!1,i("hide",f)},e.transitionDuration)}function P(f){je(()=>{let v=d.value;v===null||v.contains(document.activeElement)===!0||(v=(f!==""?v.querySelector(f):null)||v.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||v.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||v.querySelector("[autofocus], [data-autofocus]")||v,v.focus({preventScroll:!0}))})}function O(f){f&&typeof f.focus=="function"?f.focus({preventScroll:!0}):P(),i("shake");const v=d.value;v!==null&&(v.classList.remove("q-animate--scale"),v.classList.add("q-animate--scale"),u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,d.value!==null&&(v.classList.remove("q-animate--scale"),P())},170))}function R(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&O():(i("escapeKey"),_()))}function J(f){u!==null&&(clearTimeout(u),u=null),(f===!0||o.value===!0)&&(j(!1),e.seamless!==!0&&(a(!1),ae(K),oe(R))),f!==!0&&(r=null)}function j(f){f===!0?c!==!0&&(W<1&&document.body.classList.add("q-body--dialog"),W++,c=!0):c===!0&&(W<2&&document.body.classList.remove("q-body--dialog"),W--,c=!1)}function Se(f){g!==!0&&(_(f),i("click",f))}function He(f){e.persistent!==!0&&e.noBackdropDismiss!==!0?_(f):e.noShake!==!0&&O()}function K(f){e.allowFocusOutside!==!0&&pe.value===!0&&Oe(d.value,f.target)!==!0&&P('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:P,shake:O,__updateRefocusTarget(f){r=f||null}}),C(J);function Ce(){return q("div",{role:"dialog","aria-modal":z.value===!0?"true":"false",...n,class:Ee.value},[q(ie,{name:"q-transition--fade",appear:!0},()=>z.value===!0?q("div",{class:"q-dialog__backdrop fixed-full",style:m.value,"aria-hidden":"true",tabindex:-1,onClick:He}):null),q(ie,L.value,()=>o.value===!0?q("div",{ref:d,class:we.value,style:m.value,tabindex:-1,...Te.value},Ve(t.default)):null)])}return be}});export{dt as A,qt as Q,Qe as a,Ye as b,Tt as c,Ie as d,Ze as e,et as f,Je as g,gt as h,vt as i,Ne as j,Xe as k,ot as l,yt as m,oe as n,Ue as o,Et as p,lt as q,ae as r,kt as s,xt as t,ht as u,wt as v,pt as w,bt as x,Ke as y,rt as z};
