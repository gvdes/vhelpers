import{Q as h}from"./position-engine.fd623bc6.js";import{j as R,y as D,k as Y,W as z,aT as K,aU as U,r as I,c as W,o as T,a as S,w as t,aE as G,u as X,aV as J,e,i,U as P,Q as H,f as A,a4 as o,h as C,aW as M,a3 as c,a2 as Z,aX as ee,g as te}from"./index.44dbc2cb.js";import{a as ae,Q as se}from"./axios.c46be797.js";import{Q as le,_ as ne}from"./UserToolbar.4c0fdbbc.js";import{Q as re,a as q,b as E,c as ie}from"./QLayout.726fffbd.js";import{Q as oe}from"./QInput.8fdfb4a9.js";import{Q as B,a as Q,b as u}from"./QItem.a597ffc3.js";import{Q as ce}from"./QList.adb66623.js";import{Q as ue}from"./QTable.1243e618.js";import{u as de}from"./use-quasar.145a8b78.js";import"./dayjs.min.25545ff6.js";import{a as me}from"./axios.7d435516.js";import{u as fe}from"./VDB.fb63336f.js";import"./QDialog.9609c466.js";import"./QSelect.08a6b6d1.js";import"./QLinearProgress.9a667220.js";import"./QCheckbox.cb1987cf.js";import"./_commonjsHelpers.88e99c8f.js";var _e=R({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(l,{slots:_,emit:v}){let w=!1,d,k,f=null,g=null,p,x;function b(){d&&d(),d=null,w=!1,f!==null&&(clearTimeout(f),f=null),g!==null&&(clearTimeout(g),g=null),k!==void 0&&k.removeEventListener("transitionend",p),p=null}function $(s,y,N){y!==void 0&&(s.style.height=`${y}px`),s.style.transition=`height ${l.duration}ms cubic-bezier(.25, .8, .50, 1)`,w=!0,d=N}function a(s,y){s.style.overflowY=null,s.style.height=null,s.style.transition=null,b(),y!==x&&v(y)}function n(s,y){let N=0;k=s,w===!0?(b(),N=s.offsetHeight===s.scrollHeight?0:void 0):(x="hide",s.style.overflowY="hidden"),$(s,N,y),f=setTimeout(()=>{f=null,s.style.height=`${s.scrollHeight}px`,p=F=>{g=null,(Object(F)!==F||F.target===s)&&a(s,"show")},s.addEventListener("transitionend",p),g=setTimeout(p,l.duration*1.1)},100)}function r(s,y){let N;k=s,w===!0?b():(x="show",s.style.overflowY="hidden",N=s.scrollHeight),$(s,N,y),f=setTimeout(()=>{f=null,s.style.height=0,p=F=>{g=null,(Object(F)!==F||F.target===s)&&a(s,"hide")},s.addEventListener("transitionend",p),g=setTimeout(p,l.duration*1.1)},100)}return D(()=>{w===!0&&b()}),()=>Y(z,{css:!1,appear:l.appear,onEnter:n,onLeave:r},_.default)}});const V={};function ve(l){Object.assign(m,{request:l,exit:l,toggle:l})}function j(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||null}function O(){const l=m.activeEl=m.isActive===!1?null:j();U(l===null||l===document.documentElement?document.body:l)}function he(){m.isActive=m.isActive===!1,O()}function L(l,_){try{const v=l[_]();return v===void 0?Promise.resolve():v}catch(v){return Promise.reject(v)}}const m=K({isActive:!1,activeEl:null},{isCapable:!1,install({$q:l}){l.fullscreen=this}});V.request=["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"].find(l=>document.documentElement[l]!==void 0),m.isCapable=V.request!==void 0,m.isCapable===!1?ve(()=>Promise.reject("Not capable")):(Object.assign(m,{request(l){const _=l||document.documentElement,{activeEl:v}=m;return _===v?Promise.resolve():(v!==null&&_.contains(v)===!0?m.exit():Promise.resolve()).finally(()=>L(_,V.request))},exit(){return m.isActive===!0?L(document,V.exit):Promise.resolve()},toggle(l){return m.isActive===!0?m.exit():m.request(l)}}),V.exit=["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"].find(l=>document[l]),m.isActive=Boolean(j()),m.isActive===!0&&O(),["onfullscreenchange","onmsfullscreenchange","onwebkitfullscreenchange"].forEach(l=>{document[l]=he}));var xe={index(){return me.get("/sales/getSale").then(l=>l.data).catch(l=>({fail:l}))}};const ge=i("span",{class:"text-grey"},"Helpers",-1),pe=i("span",{class:"text-h6"},"Ventas Sucursales",-1),be=i("div",{class:"text-h6 text-center"},"Ventas 2023",-1),ke={class:"text-h4 text-center"},ye=i("div",{class:"text-h6 text-center"},"Tickets 2023",-1),we={class:"text-h4 text-center"},Ee=i("div",{class:"text-h6 text-center"},"Ventas 2024",-1),Ne={class:"text-h4 text-center"},Fe=i("div",{class:"text-h6 text-center"},"Tickets 2024",-1),Te={class:"text-h4 text-center"},Qe=i("div",{class:"text-h6 text-center"},"Diferencia",-1),Se={class:"text-h4 text-center"},Ce=i("div",{class:"text-h6 text-center"},"Diferencia Tickets",-1),$e={class:"text-h4 text-center"},Ae=i("div",{class:"text-h6 text-center"},"VENTAS HOY",-1),Ve={class:"text-h4 text-center"},qe=i("div",{class:"text-h6 text-center"},"Tickets HOY",-1),Ie={class:"text-h4 text-center"},Pe={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition"},He=i("div",null,null,-1),Be={key:0,class:""},st={__name:"SaleStore",setup(l){const _=de();G();const v=X(),w=fe(),d=I([]),k=I({pagination:{rowsPerPage:0},filter:""}),f=W(()=>_.platform.is.mobile),g=async()=>{_.loading.show({message:"Cargando Informacion"}),console.log("se inicia el init");const x=await xe.index();x.error?console.log(x):(console.log(x),d.value=x,p(d.value))},p=async x=>{x.forEach(b=>{let a=`http://${b.ip_address}/access/public/reports/getSales`;ae.get(a).then(n=>{b.sales=n.data==null?null:n.data}).catch(n=>{console.log(n.response.data.message)})}),_.loading.hide()};return w.session.rol=="root"?g():(_.notify({message:"No tienes acceso a esta pagina",type:"negative",position:"center"}),v.replace("/")),(x,b)=>{const $=J("router-view");return T(),S(re,{view:"hHh Lpr fFf"},{default:t(()=>[e(ie,null,{default:t(()=>[e(le,{class:"bg-grey-3 text-dark",bordered:""},{default:t(()=>[e(ne),e(h),e(se,{class:"justify-between"},{default:t(()=>[i("div",null,[ge,e(P,{name:"navigate_next",color:"primary"}),pe]),e(H,{dense:"",flat:"",color:"primary",icon:"autorenew",onClick:g})]),_:1})]),_:1}),e(h,{spaced:"",inset:"",vertical:"",dark:""}),i("div",{class:M(A(f)?"":"row")},[A(f)?C("",!0):(T(),S(q,{key:0,class:"my-card col",bordered:"",dense:""},{default:t(()=>[e(E,null,{default:t(()=>[be,i("div",ke,o(Number(d.value.reduce((a,n)=>{var r;return a+Number(((r=n.sales)==null?void 0:r.salesant)*1.1||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1}),e(E,null,{default:t(()=>[ye,i("div",we,o(Number(d.value.reduce((a,n)=>{var r;return a+Number(((r=n.sales)==null?void 0:r.tiketsant)||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1})]),_:1})),e(h,{spaced:"",inset:"",vertical:"",dark:""}),A(f)?C("",!0):(T(),S(q,{key:1,class:"my-card col",bordered:"",dense:""},{default:t(()=>[e(E,null,{default:t(()=>[Ee,i("div",Ne,o(Number(d.value.reduce((a,n)=>{var r;return a+Number(((r=n.sales)==null?void 0:r.salesact)||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1}),e(E,null,{default:t(()=>[Fe,i("div",Te,o(Number(d.value.reduce((a,n)=>{var r;return a+Number(((r=n.sales)==null?void 0:r.tiketsact)||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1})]),_:1})),e(h,{spaced:"",inset:"",vertical:"",dark:""}),A(f)?C("",!0):(T(),S(q,{key:2,class:"my-card col",bordered:"",dense:""},{default:t(()=>[e(E,null,{default:t(()=>[Qe,i("div",Se,o(Number(d.value.reduce((a,n)=>{var r,s;return a+Number(((r=n.sales)==null?void 0:r.salesact)-((s=n.sales)==null?void 0:s.salesant)*1.1||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1}),e(E,null,{default:t(()=>[Ce,i("div",$e,o(Number(d.value.reduce((a,n)=>{var r,s;return a+Number(((r=n.sales)==null?void 0:r.tiketsact)-((s=n.sales)==null?void 0:s.tiketsant)||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1})]),_:1})),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(q,{class:"my-card col",bordered:"",dense:""},{default:t(()=>[e(E,null,{default:t(()=>[Ae,i("div",Ve,o(Number(d.value.reduce((a,n)=>{var r;return a+Number(((r=n.sales)==null?void 0:r.saleshoy)||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1}),e(E,null,{default:t(()=>[qe,i("div",Ie,o(d.value.reduce((a,n)=>{var r;return a+Number(((r=n.sales)==null?void 0:r.hoytck)||0)},0)),1)]),_:1})]),_:1})],2),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(ue,{title:"Sucursales",rows:d.value,"row-key":"id",pagination:k.value.pagination,filter:k.value.filter,"hide-header":""},{"top-right":t(()=>[e(oe,{borderless:"",dense:"",debounce:"300",modelValue:k.value.filter,"onUpdate:modelValue":b[0]||(b[0]=a=>k.value.filter=a),placeholder:"Buscar"},{append:t(()=>[e(P,{name:"search"})]),_:1},8,["modelValue"])]),body:t(a=>[i("div",Pe,[e(ce,{bordered:"",dense:""},{default:t(()=>[e(B,null,{default:t(()=>[e(Q,null,{default:t(()=>[e(u,{overline:""},{default:t(()=>[c(o(a.row.name),1)]),_:2},1024),e(u,{caption:""},{default:t(()=>[c(o(a.row.alias),1)]),_:2},1024),He]),_:2},1024),a.expand?C("",!0):(T(),S(Q,{key:0,class:"text-right"},{default:t(()=>[e(u,{overline:""},{default:t(()=>{var n;return[c("$ "+o(Number((n=a.row.sales)==null?void 0:n.saleshoy).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]}),_:2},1024),e(u,{caption:""},{default:t(()=>{var n;return[c("tickets: "+o((n=a.row.sales)==null?void 0:n.hoytck),1)]}),_:2},1024)]),_:2},1024)),A(f)?C("",!0):(T(),S(Q,{key:1,avatar:""},{default:t(()=>[e(H,{color:"grey",flat:"",dense:"",icon:a.expand?"keyboard_arrow_up":"keyboard_arrow_down",onClick:n=>a.expand=!a.expand},null,8,["icon","onClick"])]),_:2},1024))]),_:2},1024),e(_e,null,{default:t(()=>[a.row.sales?Z((T(),te("div",Be,[e(h),e(B,{class:"text-center",dense:""},{default:t(()=>[e(Q,null,{default:t(()=>[e(u,{overline:""},{default:t(()=>[c("VENTAS 2023")]),_:1}),e(u,{caption:""},{default:t(()=>[c(o(Number(a.row.sales.salesant*1.1).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:2},1024),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(u,{overline:""},{default:t(()=>[c("TICKETS 2023")]),_:1}),e(u,{caption:""},{default:t(()=>[c(o(a.row.sales.tiketsant),1)]),_:2},1024)]),_:2},1024),e(Q,null,{default:t(()=>[e(u,{overline:""},{default:t(()=>[c("VENTAS 2024")]),_:1}),e(u,{caption:""},{default:t(()=>[c(o(Number(a.row.sales.salesact).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:2},1024),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(u,{overline:""},{default:t(()=>[c("TICKETS 2024")]),_:1}),e(u,{caption:""},{default:t(()=>[c(o(a.row.sales.tiketsact),1)]),_:2},1024)]),_:2},1024),e(Q,null,{default:t(()=>[e(u,{overline:""},{default:t(()=>[c("DIFERENCIA")]),_:1}),e(u,{caption:""},{default:t(()=>[c(o((Number(a.row.sales.salesact).toFixed(2)-Number(a.row.sales.salesant*1.1).toFixed(2)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:2},1024),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(u,{overline:""},{default:t(()=>[c("DIFERENCIA TICKETS")]),_:1}),e(u,{caption:""},{default:t(()=>[c(o(a.row.sales.tiketsact-a.row.sales.tiketsant),1)]),_:2},1024)]),_:2},1024),e(Q,null,{default:t(()=>[e(u,{overline:""},{default:t(()=>[c("VENTA HOY ")]),_:1}),e(u,{caption:""},{default:t(()=>[c(o(Number(a.row.sales.saleshoy).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:2},1024),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(u,{overline:""},{default:t(()=>[c("TICKETS HOY")]),_:1}),e(u,{caption:""},{default:t(()=>[c(o(a.row.sales.hoytck),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)],512)),[[ee,a.expand]]):C("",!0)]),_:2},1024)]),_:2},1024),e(h,{spaced:"",inset:"",vertical:"",dark:""})])]),_:1},8,["rows","pagination","filter"]),e($)]),_:1})]),_:1})}}};export{st as default};
