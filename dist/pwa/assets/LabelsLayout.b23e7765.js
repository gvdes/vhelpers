import{Q as oe,c as ge,a as Se,b as pe}from"./QSeparator.a685c464.js";import{Q as Xe}from"./QHeader.cc416a08.js";import{i as _e,c as te,j as Fe,k as Ne,s as Ye,M as ve,N as Ae,q as Be,r as K,o as j,a as le,w as h,e as c,f as z,a6 as ae,E as ye,Q as V,a9 as Ue,a1 as je,g as se,a3 as ce,h as me,a0 as G,a4 as fe,a7 as ze,a5 as he}from"./index.ebb5d6f0.js";import{u as Je,Q as ne,a as ee}from"./use-quasar.f631986c.js";import{Q as Ze}from"./QOptionGroup.8f55d530.js";import{a as Ke}from"./QDrawer.b855ad24.js";import{Q as et}from"./QInput.a5b115d2.js";import{q as tt,Q as at,a as xe}from"./QSelect.55b984df.js";import{Q as de}from"./QCardActions.3018f561.js";import{Q as ot}from"./QTable.143fe6c7.js";import{Q as $e}from"./QList.8c156a7a.js";import{Q as lt}from"./QPage.1b726e91.js";import{Q as st,a as nt}from"./QLayout.013eafb2.js";import{C as be}from"./ClosePopup.16a3e09e.js";import{u as it}from"./VDB.96be1380.js";import{_ as rt}from"./UserToolbar.abec38a6.js";import{P as ct,d as dt}from"./ProductsAutocomplete.b6116c88.js";import{E as Y}from"./jspdf.plugin.autotable.43c2403b.js";import"./axios.0d2bd0f9.js";import{E as ut}from"./exceljs.min.9e24d01d.js";import"./browser.a927a609.js";import"./QResizeObserver.de9e7aa1.js";import"./QRadio.87ee7193.js";import"./QCheckbox.5d9b3f79.js";import"./QScrollObserver.853189d3.js";import"./QLinearProgress.d4aa19f9.js";import"./auth.47587533.js";/* empty css                                                                         */import"./_commonjsHelpers.88e99c8f.js";var we=_e({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(M,{slots:I}){const P=te(()=>{const _=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(O=>M[O]===!0).map(O=>`q-btn-group--${O}`).join(" ");return`q-btn-group row no-wrap${_.length!==0?" "+_:""}`+(M.spread===!0?" q-btn-group--spread":" inline")});return()=>Fe("div",{class:P.value},Ne(I.default))}});const gt={position:{type:String,default:"bottom-right",validator:M=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(M)},offset:{type:Array,validator:M=>M.length===2},expand:Boolean};function pt(){const{props:M,proxy:{$q:I}}=Be(),P=Ye(Ae,ve);if(P===ve)return console.error("QPageSticky needs to be child of QLayout"),ve;const _=te(()=>{const D=M.position;return{top:D.indexOf("top")!==-1,right:D.indexOf("right")!==-1,bottom:D.indexOf("bottom")!==-1,left:D.indexOf("left")!==-1,vertical:D==="top"||D==="bottom",horizontal:D==="left"||D==="right"}}),O=te(()=>P.header.offset),A=te(()=>P.right.offset),u=te(()=>P.footer.offset),W=te(()=>P.left.offset),ie=te(()=>{let D=0,J=0;const X=_.value,re=I.lang.rtl===!0?-1:1;X.top===!0&&O.value!==0?J=`${O.value}px`:X.bottom===!0&&u.value!==0&&(J=`${-u.value}px`),X.left===!0&&W.value!==0?D=`${re*W.value}px`:X.right===!0&&A.value!==0&&(D=`${-re*A.value}px`);const Z={transform:`translate(${D}, ${J})`};return M.offset&&(Z.margin=`${M.offset[1]}px ${M.offset[0]}px`),X.vertical===!0?(W.value!==0&&(Z[I.lang.rtl===!0?"right":"left"]=`${W.value}px`),A.value!==0&&(Z[I.lang.rtl===!0?"left":"right"]=`${A.value}px`)):X.horizontal===!0&&(O.value!==0&&(Z.top=`${O.value}px`),u.value!==0&&(Z.bottom=`${u.value}px`)),Z}),Q=te(()=>`q-page-sticky row flex-center fixed-${M.position} q-page-sticky--${M.expand===!0?"expand":"shrink"}`);function ue(D){const J=Ne(D.default);return Fe("div",{class:Q.value,style:ie.value},M.expand===!0?J:[Fe("div",J)])}return{$layout:P,getStickyContent:ue}}var vt=_e({name:"QPageSticky",props:gt,setup(M,{slots:I}){const{getStickyContent:P}=pt();return()=>P(I)}});const mt={class:"flex jutify-between row"},ft={class:"col"},ht={class:"q-pa-md"},xt={class:"q-pa-md"},bt={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Ft={class:"text-h5 text-bold text-center"},Pt={class:"text-subtitle2 text-bold text-center"},St={class:"text-subtitle2 text-bold text-center"},yt={class:"text-subtitle2 text-bold text-center"},zt={class:"text-subtitle2 text-bold text-center"},$t={class:"row"},wt={class:"text-center"},_t={class:"text-center"},Nt={class:"text-bold q-pb-sm text-center"},kt={class:"row q-pt-xs"},Ct={class:"text-negative"},na={__name:"LabelsLayout",setup(M){const I=it(),P=Je(),_=K([]),O=K({filter:"",pagination:{rowsPerPage:9}}),A=K({state:!1}),u=K({state:!1,val:null,opts:[{id:1,label:"Navidad Extra Grande"},{id:2,label:"Navidad Grande"},{id:3,label:"Navidad Mediano"},{id:4,label:"Navidad Pequeno"},{id:5,label:"Navidad Vertical"},{id:6,label:"Juguete Ni\xF1o"},{id:7,label:"Juguete Ni\xF1a"},{id:8,label:"Juguete Extra Ni\xF1a"},{id:9,label:"Juguete Extra Ni\xF1o"},{id:10,label:"Juguete Horizontal Ni\xF1o"},{id:11,label:"Juguete Horizontal Ni\xF1a"},{id:12,label:"Rectangular 2 x 4"}]}),W=K({val:[0,1,2,4],opts:[{label:"Menudeo",value:1},{label:"Mayoreo",value:2},{label:"Docena",value:3},{label:"Caja",value:4}]}),ie=K(null),Q=K({state:!1,wndGetRows:[],wndNoDataFound:[],wndTotal:[],wndGetAdded:[],_supply_by:0,message:"",messageRepeat:"",wndNotExist:[]}),ue=r=>{let n=[],l=[],d=new Object;return r.products.map(v=>D(v.prices)?n.push(v):l.push(v)),console.log(r),d.notFound=n,d.add=l,d},D=r=>{let n=!0;return r.map((l,d)=>{n=l.pivot.price==0}),n},J=r=>{console.log(r)},X=K({state:!1}),re=r=>{let n=_.value.findIndex(l=>l.id==r.id);if(console.log(n),n>=0)P.notify({message:"El Producto ya esta agregado",type:"negative",position:"center"});else{let l=Pe(r.prices,r.pieces);r._copies=1,r.type=l.type,r.usedPrices=l.prices,r._copies=1,_.value.push(r),console.log(r)}},Z=r=>{let n=_.value.findIndex(l=>l.id==r.id);_.value.splice(n,1)},ke=()=>{_.value=[],A.value.state=!1},Ce=()=>{ie.value.click()},Ee=async()=>{let r=document.getElementById("inputFile").files[0],n=new ut.Workbook,l=[],d=[],v=0;n.xlsx.load(r).then(y=>{if(n.worksheets[0].getColumn("A").eachCell({includeEmpty:!0},function(T,R){T.value&&l.push(T.value)}),d=l.filter((T,R,$)=>$.indexOf(T)==R),l.length){let T={codes:l,_workpoint:I.session.store.id_viz};console.log(T),P.loading.show({message:"Procesando archivo, espera.."}),dt.getMassive(T).then(R=>{let $=R.data,w=0,f=ue($);if($.fails.notFound.map(x=>Q.value.wndNotExist.push(x)),Q.value.wndGetRows=f.add.length,Q.value.state=!Q.value.state,Q.value.wndGetAdded=f.add,Q.value.wndNoDataFound=f.notFound,Q.value.wndNoDataFound.length>0){let x=Q.value.wndNoDataFound.length;Q.value.message=x<=1?"El producto no contiene precios.":"Los productos no contienen precios."}f.add.map(x=>{let N=Pe(x.prices,x.pieces);x._copies=1,x.type=N.type,x.usedPrices=N.prices,_.value.push(x),w++}),w&&!$.fails.notFound.length&&d.length==l.length?P.notify({message:`Etiquetas generadas: ${w}`,color:"positive",icon:"done",timeout:1e3}):(v=l.length-d.length,Q.value.messageRepeat=v<=1?`${v} producto se repitio. Favor de validar su documento antes de subirlo.`:`${v} productos se repitieron. Favor de validar su documento antes de subirlo.`),console.log(Q.value),P.loading.hide()}).catch(R=>{console.log(R),P.notify({message:"Hay un problema con obtener los datos :/.",icon:"fas fa-grin-beam-sweat",color:"negative"})})}else P.notify({message:"Vaya!! Al parecer este archivo esta vacio.",icon:"fas fa-grin-beam-sweat",color:"negative"})})},Pe=(r,n)=>{let l=[...r];const d=l.find(y=>y.pivot._type==4),v=l.find(y=>y.pivot._type==1);if(d.pivot.price==v.pivot.price){let y={id:0,alias:"OFERTA",name:"Oferta",pivot:{price:l[0].pivot.price},used:!0};return console.log("oferta"),{type:"off",prices:[y]}}else return console.log("estandar"),{type:"std",prices:l}},qe=r=>{switch(r){case"off":return"orange-9";case"std":return"green-9"}},He=()=>{P.loading.show({message:"Generando Etiquetas"}),u.value.val.id==1?Ie(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==2?Le(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==3?We(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==4?Qe(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==5?Te(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==6?Re(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==7?Ve(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==8?Me(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==9?De(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==10?Ge(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==11&&Oe(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")})},Le=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Navidad/Navidad6(2).png",E="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=100,x=85,N=5,q=5,b=2,S=b*3;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(30),e.setFont("helvetica","bold"),e.text(a.name,t+61,o+77),e.setFontSize(14),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+10,o+25),e.setFontSize(12);let g=o+39,p=7;a.usedPrices.filter(s=>W.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(22),e.setFont("helvetica","bold"),e.text("Unico Precio",t+30,g+m*p+5),e.setFontSize(28),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+34,g+m*p+20)):(e.setFontSize(22),e.setFont("helvetica","bold"),e.text(s.alias,t+23,g+m*p),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+45,g+m*p))}),e.setFontSize(16),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+10,o+12),e.text(a.large,t+18,o+74),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+70,o+12),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+19,o+77)}),e.save(`${I.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Ie=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Navidad/Navidad6(2).png",E="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=205,x=125,N=5,q=5,b=1,S=b*2;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(70),e.setFont("helvetica","bold"),e.text(a.name,t+120,o+112),e.setFontSize(20),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+18,o+31),e.setFontSize(12);let g=o+39,p=12;a.usedPrices.filter(s=>W.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(35),e.setFont("helvetica","bold"),e.text("Unico Precio",t+60,g+m*p+10),e.setFontSize(50),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+64,g+m*p+35)):(e.setFontSize(35),e.setFont("helvetica","bold"),e.text(s.alias,t+60,g+m*p+15),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+93,g+m*p+15))}),e.setFontSize(45),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+18,o+23),e.text(a.large,t+35,o+112),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+185,o+23,{align:"right"}),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+38,o+114)}),e.save(`${I.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),We=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Navidad/Navidad9(1).png",E="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=65,x=85,N=5,q=5,b=3,S=b*3;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+37,o+77),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+5,o+25),e.setFontSize(12);let g=o+40,p=7;a.usedPrices.filter(s=>W.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(18),e.setFont("helvetica","bold"),e.text("Unico Precio",t+13,g+m*p),e.setFontSize(26),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+13,g+m*p+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+10,g+m*p),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+30,g+m*p))}),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+25,o+20),e.text(a.large,t+18,o+77),e.text(`${a.pieces} PZS`,t+20,o+73),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+79)}),e.save(`${I.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Qe=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Navidad/NaviSan(1).png",E="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=67,x=63,N=0,q=3,b=3,S=b*4;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(a.name,t+23,o+37),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(a.label.substring(0,25),t+15,o+43),e.setFontSize(10);let k=o+36,C=12;a.usedPrices.filter(g=>W.value.val.includes(g.id)).forEach((g,p)=>{g.alias=="OFERTA"?(e.setFontSize(10),e.setFont("helvetica","bold"),e.text("Unico Precio",t+23,k+p*C+12),e.setFontSize(14),e.text(`$ ${Number(g.pivot.price).toFixed(0)}`,t+27,k+p*C+17)):(e.setFontSize(10),e.setFont("helvetica","bold"),e.text(g.alias,t+p*C+10,k+12),e.text(`$ ${Number(g.pivot.price).toFixed(0)}`,t+p*C+10,k+16))}),e.setFontSize(6),e.setFont("helvetica","bold"),e.text(`(${a.code})`,t+28,o+40),e.text(a.large,t+40,o+55),e.text(`${a.pieces} PZS`,t+40,o+57)}),e.save(`${I.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Te=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Navidad/NavidadVer(2).png",E="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=48,x=85,N=5,q=5,b=4,S=b*4;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+20,o+80),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-15,C=e.splitTextToSize(a.label,k);e.text(C,t+5,o+22),e.setFontSize(12);let g=o+35,p=7;a.usedPrices.filter(s=>W.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(18),e.setFont("helvetica","bold"),e.text("Unico Precio",t+5,g+m*p),e.setFontSize(26),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+10,g+m*p+15)):(e.setFontSize(16),e.setFont("helvetica","bold"),e.text(s.alias,t+5,g+m*p),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+20,g+m*p))}),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+24,o+17,{align:"center"}),e.text(a.large,t+20,o+68),e.text(`${a.pieces} PZS`,t+20,o+73),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+81)}),e.save(`${I.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Re=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/Ninio.png",E="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=65,x=85,N=5,q=5,b=3,S=b*3;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+15,o+10),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+3,o+25),e.setFontSize(12);let g=o+40,p=7;a.usedPrices.filter(s=>W.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+5,g+m*p),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+5,g+m*p+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+2,g+m*p),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+19,g+m*p))}),e.setFontSize(10),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+45,o+40),e.text(a.large,t+45,o+52),e.text(`${a.pieces} PZS`,t+45,o+46),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${I.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Ve=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/Ninia.png",E="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=65,x=85,N=5,q=5,b=3,S=b*3;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+15,o+20),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+5,o+25),e.setFontSize(12);let g=o+40,p=7;a.usedPrices.filter(s=>W.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+15,g+m*p),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+15,g+m*p+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+15,g+m*p),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+32,g+m*p))}),e.setFontSize(13),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+62,o+70,{align:"right"}),e.setFont("helvetica","normal"),e.text(a.large,t+15,o+65),e.text(`${a.pieces} PZS`,t+15,o+70),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${I.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Me=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/xlargeninia.png",E="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=205,x=125,N=5,q=5,b=1,S=b*2;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(70),e.setFont("helvetica","bold"),e.text(a.name,t+120,o+112),e.setFontSize(20),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+18,o+31),e.setFontSize(12);let g=o+39,p=12;a.usedPrices.filter(s=>W.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(35),e.setFont("helvetica","bold"),e.text("Unico Precio",t+60,g+m*p+10),e.setFontSize(50),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+64,g+m*p+35)):(e.setFontSize(35),e.setFont("helvetica","bold"),e.text(s.alias,t+60,g+m*p+15),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+93,g+m*p+15))}),e.setFontSize(45),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+18,o+23),e.text(a.large,t+35,o+112),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+185,o+23,{align:"right"}),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+38,o+114)}),e.save(`${I.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),De=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/xlargeninio.png",E="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=205,x=125,N=5,q=5,b=1,S=b*2;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(70),e.setFont("helvetica","bold"),e.text(a.name,t+120,o+112),e.setFontSize(20),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+18,o+31),e.setFontSize(12);let g=o+39,p=12;a.usedPrices.filter(s=>W.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(35),e.setFont("helvetica","bold"),e.text("Unico Precio",t+60,g+m*p+10),e.setFontSize(50),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+64,g+m*p+35)):(e.setFontSize(35),e.setFont("helvetica","bold"),e.text(s.alias,t+60,g+m*p+15),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+93,g+m*p+15))}),e.setFontSize(45),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+18,o+23),e.text(a.large,t+35,o+112),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+185,o+23,{align:"right"}),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+38,o+114)}),e.save(`${I.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Ge=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/Ninio.png",E="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=100,x=60,N=5,q=5,b=2,S=b*4;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+5,o+10),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+5,o+15),e.setFontSize(12);let g=o+25,p=7;a.usedPrices.filter(s=>W.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+15,g+m*p),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+15,g+m*p+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+15,g+m*p),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+32,g+m*p))}),e.setFontSize(13),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+70,o+25),e.text(a.large,t+45,o+52),e.text(`${a.pieces} PZS`,t+70,o+30),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${I.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Oe=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/Ninia.png",E="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=100,x=60,N=5,q=5,b=2,S=b*4;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+5,o+20),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+5,o+25),e.setFontSize(12);let g=o+32,p=7;a.usedPrices.filter(s=>W.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+20,g+m*p),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+20,g+m*p+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+20,g+m*p),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+37,g+m*p))}),e.setFontSize(13),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+70,o+32),e.text(a.large,t+45,o+52),e.text(`${a.pieces} PZS`,t+70,o+37),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${I.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}});return(r,n)=>(j(),le(st,{view:"hHh Lpr fFf"},{default:h(()=>[c(Xe,{class:"transparent text-dark",bordered:""},{default:h(()=>[c(rt),c(oe)]),_:1}),c(nt,null,{default:h(()=>[c(lt,{padding:""},{default:h(()=>[z("div",mt,[z("div",ft,[n[10]||(n[10]=ae("Helpers ")),c(ye,{name:"navigate_next",color:"primary"}),n[11]||(n[11]=ae()),n[12]||(n[12]=z("span",{class:"text-h6"},"Creacion de Etiquetas",-1))]),c(V,{class:"flex justify-end",flat:"",onClick:n[0]||(n[0]=l=>X.value.state=!X.value.state),round:"",dense:"",icon:"menu"})]),c(ne,{class:"my-card"},{default:h(()=>[c(ct,{checkState:!1,onInput:J,with_prices:"",onAgregar:re,with_locations:""})]),_:1}),c(oe,{spaced:"",inset:"",vertical:"",dark:""}),c(Ke,{modelValue:X.value.state,"onUpdate:modelValue":n[4]||(n[4]=l=>X.value.state=l),width:200,breakpoint:500,bordered:"",class:Ue(je(P).dark.isActive?"bg-grey-9":"bg-grey-3")},{default:h(()=>[z("div",null,[c(oe,{spaced:"",inset:"",vertical:"",dark:""}),n[13]||(n[13]=z("div",{class:"text-center text-bold"},"Precios",-1)),z("div",ht,[c(Ze,{options:W.value.opts,type:"checkbox",modelValue:W.value.val,"onUpdate:modelValue":n[1]||(n[1]=l=>W.value.val=l)},null,8,["options","modelValue"])])]),c(oe,{spaced:"",inset:"",vertical:"",dark:""}),n[14]||(n[14]=z("div",{class:"text-center text-bold"}," Opciones ",-1)),z("div",xt,[c(we,{spread:""},{default:h(()=>[c(V,{color:"primary",icon:"upload_file",flat:"",title:"Subir Etiquetas",onClick:Ce}),_.value.length?(j(),se(ce,{key:0},[c(V,{color:"primary",icon:"delete",flat:"",title:"Eliminar Etiquetas",onClick:n[2]||(n[2]=l=>A.value.state=!A.value.state)}),c(V,{color:"primary",icon:"download",flat:"",title:"Descargar Etquetas",onClick:n[3]||(n[3]=l=>u.value.state=!u.value.state)})],64)):me("",!0)]),_:1}),z("input",{type:"file",ref_key:"inputFile",ref:ie,id:"inputFile",onInput:Ee,hidden:"",accept:".xlsx,.xls"},null,544)])]),_:1},8,["modelValue","class"]),c(ot,{rows:_.value,"row-key":"name",grid:"",filter:O.value.filter,pagination:O.value.pagination,"no-data-label":"''"},{"top-right":h(()=>[c(et,{borderless:"",dense:"",debounce:"300",modelValue:O.value.filter,"onUpdate:modelValue":n[5]||(n[5]=l=>O.value.filter=l),placeholder:"Buscar"},{append:h(()=>[c(ye,{name:"search"})]),_:1},8,["modelValue"])]),item:h(l=>[z("div",bt,[c(ne,{class:"my-card"},{default:h(()=>[c(ee,null,{default:h(()=>{var d;return[c(tt,{size:"sm",class:"fixed-right absolute-right text-bold text-white text-uppercase",color:qe(l.row.type)},{default:h(()=>[ae(G(l.row.type),1)]),_:2},1032,["color"]),z("div",Ft,G(l.row.code),1),z("div",Pt,G(l.row.name),1),z("div",St,G(l.row.label),1),z("div",yt,"Longitud: "+G(l.row.large),1),z("div",zt,"Ubicacion: "+G((d=l.row.locations)==null?void 0:d.map(v=>v.path).join("/")),1),c(oe,{spaced:"",inset:"",vertical:"",dark:""}),z("div",$t,[(j(!0),se(ce,null,fe(l.row.usedPrices.filter(v=>W.value.val.includes(v.id)),(v,y)=>(j(),se("div",{class:"col items-start",key:y},[z("div",wt,G(v.alias),1),z("div",_t,G(v.pivot.price),1)]))),128))])]}),_:2},1024),c(de,{align:"center"},{default:h(()=>[c(V,{flat:"",icon:"delete",color:"negative",onClick:d=>Z(l.row)},null,8,["onClick"]),c(V,{flat:"",icon:"add",onClick:d=>l.row._copies++},null,8,["onClick"]),z("div",null,[n[15]||(n[15]=z("div",{class:"text-caption text--2"},"copias",-1)),z("div",Nt,G(l.row._copies),1)]),c(V,{flat:"",icon:"remove",onClick:d=>l.row._copies<=1?"":l.row._copies--},null,8,["onClick"])]),_:2},1024)]),_:2},1024)])]),bottom:h(l=>[c(vt,{position:"bottom",class:"full-width",offset:[0,18]},{default:h(()=>[z("div",kt,[c(we,{rounded:"",flat:"",color:"primary"},{default:h(()=>[l.pagesNumber>2?(j(),le(V,{key:0,icon:"first_page",round:"",dense:"",flat:"",disable:l.isFirstPage,onClick:l.firstPage,class:"q-px-sm"},null,8,["disable","onClick"])):me("",!0),c(V,{icon:"chevron_left",round:"",dense:"",flat:"",disable:l.isFirstPage,onClick:l.prevPage,class:"q-px-sm"},null,8,["disable","onClick"]),c(V,{flat:"",disable:"","no-caps":""},{default:h(()=>[ae(G(l.pagination.page)+" / "+G(l.pagesNumber),1)]),_:2},1024),c(V,{icon:"chevron_right",round:"",dense:"",flat:"",disable:l.isLastPage,onClick:l.nextPage,class:"q-px-sm"},null,8,["disable","onClick"]),l.pagesNumber>2?(j(),le(V,{key:1,icon:"last_page",round:"",dense:"",flat:"",onClick:l.lastPage,class:"q-px-sm"},null,8,["onClick"])):me("",!0)]),_:2},1024)])]),_:2},1024)]),"no-data":h(()=>n[16]||(n[16]=[])),_:1},8,["rows","filter","pagination"]),c(ge,{modelValue:A.value.state,"onUpdate:modelValue":n[6]||(n[6]=l=>A.value.state=l),persistent:""},{default:h(()=>[c(ne,null,{default:h(()=>[c(ee,{class:"row items-center"},{default:h(()=>[c(ze,{icon:"warning",color:"white","text-color":"negative"}),n[17]||(n[17]=z("div",{class:"q-ml-sm"},"Se eliminaran todos los articulos de la lista ",-1))]),_:1}),c(ee,null,{default:h(()=>n[18]||(n[18]=[z("div",{class:"q-ml-sm"},"Deseas Continuar?",-1)])),_:1}),c(de,{align:"right"},{default:h(()=>[he(c(V,{flat:"",label:"No",color:"positive"},null,512),[[be]]),c(V,{flat:"",label:"Si",color:"negative",onClick:ke})]),_:1})]),_:1})]),_:1},8,["modelValue"]),c(ge,{modelValue:u.value.state,"onUpdate:modelValue":n[8]||(n[8]=l=>u.value.state=l),persistent:""},{default:h(()=>[c(ne,null,{default:h(()=>[c(ee,{class:"row items-center"},{default:h(()=>[c(ze,{icon:"picture_as_pdf",color:"white","text-color":"red"}),n[19]||(n[19]=z("div",{class:"q-ml-sm"},"En que Formato deseas las etiquetas?",-1))]),_:1}),c(ee,null,{default:h(()=>[c(at,{modelValue:u.value.val,"onUpdate:modelValue":n[7]||(n[7]=l=>u.value.val=l),options:u.value.opts,label:"Etiquetas",filled:""},null,8,["modelValue","options"])]),_:1}),c(de,{align:"right"},{default:h(()=>[he(c(V,{flat:"",label:"Cancel",color:"negative"},null,512),[[be]]),c(V,{flat:"",label:"Generar",color:"positive",onClick:He,disable:u.value.val==null},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),c(ge,{modelValue:Q.value.state,"onUpdate:modelValue":n[9]||(n[9]=l=>Q.value.state=l)},{default:h(()=>[c(ne,{class:"my-card",style:{width:"70%"}},{default:h(()=>[c(ee,{class:"items-center"},{default:h(()=>[n[20]||(n[20]=z("div",{class:"text-center text-bold"},"Repetidos",-1)),z("div",Ct,G(Q.value.messageRepeat),1)]),_:1}),c(ee,null,{default:h(()=>[n[21]||(n[21]=z("div",{class:"text-center"},"Productos Sin Precio",-1)),c($e,null,{default:h(()=>[(j(!0),se(ce,null,fe(Q.value.wndNoDataFound,(l,d)=>(j(),le(Se,{key:d},{default:h(()=>[c(pe,null,{default:h(()=>[c(xe,{overline:""},{default:h(()=>[ae(G(l.code),1)]),_:2},1024)]),_:2},1024),c(pe,null,{default:h(()=>[c(xe,{caption:""},{default:h(()=>[ae(G(l.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),c(ee,null,{default:h(()=>[n[22]||(n[22]=z("div",{class:"text-center"},"Productos Sin Existencia",-1)),c($e,null,{default:h(()=>[(j(!0),se(ce,null,fe(Q.value.wndNotExist,(l,d)=>(j(),le(Se,{key:d},{default:h(()=>[c(pe,null,{default:h(()=>[c(xe,{overline:""},{default:h(()=>[ae(G(l),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),c(de,{align:"right"},{default:h(()=>[he(c(V,{flat:"",label:"OK",color:"primary"},null,512),[[be]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{na as default};
