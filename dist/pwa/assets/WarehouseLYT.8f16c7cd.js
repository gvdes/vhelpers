import{u as L,r as S,g as N,$ as O,a as b,h as T,i as l,d as o,a4 as d,k as y,j as _,ah as D,a1 as H,a7 as g,c as k,n as u,p as w}from"./index.0d286209.js";import{Q as $}from"./QHeader.bdd66876.js";import{e as C,Q as v}from"./QSelect.75fb6875.js";import{Q as h,a as p}from"./QList.c6b82b90.js";import{Q as j}from"./QToolbar.15a381c5.js";import{Q as z,a as A}from"./QLayout.5d95cffe.js";import{_ as E}from"./UserToolbar.abe3d599.js";import{u as I}from"./warehousStore.c6bd66e7.js";import"./axios.641704b8.js";import{u as W}from"./use-quasar.99736a50.js";import"./jspdf.plugin.autotable.1bc3e9d3.js";import{r as M}from"./reportApi.3087488e.js";import{l as x}from"./locationsApi.e94b08eb.js";import"./exceljs.min.9e24d01d.js";import"./JsBarcode.cb858474.js";import"./browser.c61f550a.js";import{r as c}from"./reports.c69d5218.js";import"./QTd.0c1c96ae.js";import"./QTr.32a97f86.js";import"./QTable.6a34fccc.js";import"./QDate.9c856ba6.js";import"./QPage.c6de2f38.js";import"./Restock.5b6cf2ef.js";import"./dayjs.min.cbcf888d.js";import"./QResizeObserver.b173e2da.js";import"./QScrollObserver.24fbe5fa.js";import"./QImg.f121d2fb.js";import"./QSpace.f0ea4fd4.js";import"./QExpansionItem.9fa686a6.js";import"./favorites.28144d1a.js";import"./ClosePopup.b1db4109.js";import"./auth.e905e1b7.js";import"./_commonjsHelpers.88e99c8f.js";import"./QLinearProgress.325ed038.js";import"./use-render-cache.3aae9b27.js";import"./date.142480ff.js";import"./QForm.bf2df794.js";import"./QPopupEdit.f9e3de21.js";/* empty css                                                       */const q={class:"text-h6"},F={key:0,class:"row"},P={key:1,class:"row"},To={__name:"WarehouseLYT",setup(Y){const m=L(),n=W(),f=I(),t=S({type:{val:{id:1,label:"Con Stock Sin Ubicacion",alias:"CSSU"},opts:[{id:1,label:"Con Stock Sin Ubicacion",alias:"CSSU"},{id:2,label:"Sin Stock Con Ubicacion",alias:"SSCU"},{id:3,label:"Con Stock Con Ubicacion",alias:"CSCU"}]},seccion:{val:null,opts:[]}}),i=S({type:{val:{id:2,label:"Con Stock Sin Min y Max",alias:"CSCMM"},opts:[{id:1,label:"Con Stock Con Min y Max",alias:"CSCMM"},{id:2,label:"Con Stock Sin Min y Max",alias:"CSSMM"},{id:3,label:"Sin Stock Con Min y Max",alias:"SSCMM"}]},seccion:{val:null,opts:[]}}),V=async()=>{n.loading.show({message:"Obteniendo Secciones"});const a=await M.index();a.error?console.log(a):(console.log(a),n.loading.hide(),t.value.seccion.opts=a.seccion)},Q=async()=>{n.loading.show({message:"Obteniendo Secciones"});const a=await M.index();a.error?console.log(a):(console.log(a),n.loading.hide(),i.value.seccion.opts=a.seccion)},U=async()=>{n.loading.show({message:"Obteniendo Reporte"}),console.log(t.value);let a={_rol:m.session.credentials._rol,workpoint:m.session.store.id_viz,_type:t.value.type.val.id,section:t.value.seccion.val.id};console.log(a);const e=await x.reportLocations(a);if(e.fail)console.log(e);else if(n.loading.hide(),e.length>0){let s={key:t.value.type.val.alias,value:e};switch(console.log(s),t.value.type.val.id){case 1:c.conStockSinUbicar(s);break;case 2:c.sinStockUbicados(s);break;case 3:c.conStockUbicados(s);break}}else n.notify({message:"No hay productos por mostrar",type:"positive",position:"top"})},R=async()=>{n.loading.show({message:"Obteniendo Reporte"}),console.log(t.value);let a={_rol:m.session.credentials._rol,workpoint:m.session.store.id_viz,_type:i.value.type.val.id,section:i.value.seccion.val.id};console.log(a);const e=await x.reportMinMax(a);if(e.fail)console.log(e);else if(n.loading.hide(),console.log(e),e.length>0){let s={key:i.value.type.val.alias,value:e};switch(console.log(s),i.value.type.val.id){case 1:c.conMaximos(s);break;case 2:c.sinMaximos(s);break;case 3:c.conMaximos(s);break}}else n.notify({message:"No hay productos por mostrar",type:"positive",position:"top"})},B=N(()=>f.title);return(a,e)=>{const s=O("router-view");return b(),T(z,{view:"hHh Lpr fFf"},{default:l(()=>[o($,{class:"transparent text-dark",bordered:""},{default:l(()=>[o(E),o(d)]),_:1}),o(A,null,{default:l(()=>[o(j,{class:"justify-between"},{default:l(()=>[y("div",null,[e[4]||(e[4]=_("Helpers ")),o(D,{name:"navigate_next",color:"primary"}),e[5]||(e[5]=_()),y("span",q,H(B.value),1)]),g(f).showReportLocations?(b(),k("div",F,[o(u,{color:"primary",title:"Sin Stock Con Ubicacion",icon:"show_chart",outline:""},{default:l(()=>[o(C,{onShow:V},{default:l(()=>[o(h,{style:{"min-width":"250px"}},{default:l(()=>[o(p,null,{default:l(()=>[o(v,{modelValue:t.value.type.val,"onUpdate:modelValue":e[0]||(e[0]=r=>t.value.type.val=r),options:t.value.type.opts,label:"Tipo Reporte",filled:"",dense:""},null,8,["modelValue","options"])]),_:1}),o(d),o(p,null,{default:l(()=>[o(v,{modelValue:t.value.seccion.val,"onUpdate:modelValue":e[1]||(e[1]=r=>t.value.seccion.val=r),options:t.value.seccion.opts,label:"Seccion","option-label":"name",filled:"",dense:"",style:{width:"200px"}},null,8,["modelValue","options"])]),_:1}),o(d),o(p,null,{default:l(()=>[o(u,{label:"Obtener",onClick:U,flat:"",disable:!t.value.seccion.val},null,8,["disable"])]),_:1})]),_:1})]),_:1})]),_:1})])):w("",!0),g(f).showReportMinMax?(b(),k("div",P,[o(u,{color:"primary",title:"Sin Stock Con Ubicacion",icon:"show_chart",outline:""},{default:l(()=>[o(C,{onShow:Q},{default:l(()=>[o(h,{style:{"min-width":"250px"}},{default:l(()=>[o(p,null,{default:l(()=>[o(v,{modelValue:i.value.type.val,"onUpdate:modelValue":e[2]||(e[2]=r=>i.value.type.val=r),options:i.value.type.opts,label:"Tipo Reporte",filled:"",dense:""},null,8,["modelValue","options"])]),_:1}),o(d),o(p,null,{default:l(()=>[o(v,{modelValue:i.value.seccion.val,"onUpdate:modelValue":e[3]||(e[3]=r=>i.value.seccion.val=r),options:i.value.seccion.opts,label:"Seccion","option-label":"name",filled:"",dense:"",style:{width:"200px"}},null,8,["modelValue","options"])]),_:1}),o(d),o(p,null,{default:l(()=>[o(u,{label:"Obtener",onClick:R,flat:"",disable:!i.value.seccion.val},null,8,["disable"])]),_:1})]),_:1})]),_:1})]),_:1})])):w("",!0)]),_:1}),o(s)]),_:1})]),_:1})}}};export{To as default};
