import{Q as h}from"./position-engine.8a5fecf0.js";import{j as R,y as D,k as Y,W as z,aT as K,aU as U,r as q,c as W,o as F,a as S,w as t,aE as G,u as X,aV as J,e,i as o,U as I,Q as P,f as $,a4 as c,h as C,aW as M,a3 as d,a2 as Z,aX as ee,g as te}from"./index.c4b9327c.js";import{a as ae,Q as se}from"./axios.e7189e97.js";import{Q as le,_ as ne}from"./UserToolbar.2560633f.js";import{Q as re,a as V,b as k,c as ie}from"./QLayout.21c6a1ca.js";import{Q as oe}from"./QInput.30592296.js";import{Q as H,a as T,b as u}from"./QItem.89350a53.js";import{Q as ce}from"./QList.cd9d8774.js";import{Q as de}from"./QTable.fcb9be3e.js";import{u as ue}from"./use-quasar.8f326cb7.js";import"./dayjs.min.25545ff6.js";import{a as me}from"./axios.c82d4e7b.js";import{u as fe}from"./VDB.3be4aa9b.js";import"./QDialog.08f96de1.js";import"./QSelect.65c317a9.js";import"./QLinearProgress.dfccc3e5.js";import"./QCheckbox.596ab849.js";import"./_commonjsHelpers.88e99c8f.js";var _e=R({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(l,{slots:v,emit:i}){let x=!1,g,y,p=null,f=null,_,Q;function a(){g&&g(),g=null,x=!1,p!==null&&(clearTimeout(p),p=null),f!==null&&(clearTimeout(f),f=null),y!==void 0&&y.removeEventListener("transitionend",_),_=null}function s(r,b,E){b!==void 0&&(r.style.height=`${b}px`),r.style.transition=`height ${l.duration}ms cubic-bezier(.25, .8, .50, 1)`,x=!0,g=E}function n(r,b){r.style.overflowY=null,r.style.height=null,r.style.transition=null,a(),b!==Q&&i(b)}function w(r,b){let E=0;y=r,x===!0?(a(),E=r.offsetHeight===r.scrollHeight?0:void 0):(Q="hide",r.style.overflowY="hidden"),s(r,E,b),p=setTimeout(()=>{p=null,r.style.height=`${r.scrollHeight}px`,_=N=>{f=null,(Object(N)!==N||N.target===r)&&n(r,"show")},r.addEventListener("transitionend",_),f=setTimeout(_,l.duration*1.1)},100)}function O(r,b){let E;y=r,x===!0?a():(Q="show",r.style.overflowY="hidden",E=r.scrollHeight),s(r,E,b),p=setTimeout(()=>{p=null,r.style.height=0,_=N=>{f=null,(Object(N)!==N||N.target===r)&&n(r,"hide")},r.addEventListener("transitionend",_),f=setTimeout(_,l.duration*1.1)},100)}return D(()=>{x===!0&&a()}),()=>Y(z,{css:!1,appear:l.appear,onEnter:w,onLeave:O},v.default)}});const A={};function he(l){Object.assign(m,{request:l,exit:l,toggle:l})}function L(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||null}function j(){const l=m.activeEl=m.isActive===!1?null:L();U(l===null||l===document.documentElement?document.body:l)}function ve(){m.isActive=m.isActive===!1,j()}function B(l,v){try{const i=l[v]();return i===void 0?Promise.resolve():i}catch(i){return Promise.reject(i)}}const m=K({isActive:!1,activeEl:null},{isCapable:!1,install({$q:l}){l.fullscreen=this}});A.request=["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"].find(l=>document.documentElement[l]!==void 0),m.isCapable=A.request!==void 0,m.isCapable===!1?he(()=>Promise.reject("Not capable")):(Object.assign(m,{request(l){const v=l||document.documentElement,{activeEl:i}=m;return v===i?Promise.resolve():(i!==null&&v.contains(i)===!0?m.exit():Promise.resolve()).finally(()=>B(v,A.request))},exit(){return m.isActive===!0?B(document,A.exit):Promise.resolve()},toggle(l){return m.isActive===!0?m.exit():m.request(l)}}),A.exit=["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"].find(l=>document[l]),m.isActive=Boolean(L()),m.isActive===!0&&j(),["onfullscreenchange","onmsfullscreenchange","onwebkitfullscreenchange"].forEach(l=>{document[l]=ve}));var xe={index(){return me.get("/sales/getSale").then(l=>l.data).catch(l=>({fail:l}))}};const ge=o("span",{class:"text-grey"},"Helpers",-1),pe=o("span",{class:"text-h6"},"Ventas Sucursales",-1),be=o("div",{class:"text-h6 text-center"},"Ventas 2023",-1),ke={class:"text-h4 text-center"},ye=o("div",{class:"text-h6 text-center"},"Tickets 2023",-1),we={class:"text-h4 text-center"},Ee=o("div",{class:"text-h6 text-center"},"Ventas 2024",-1),Ne={class:"text-h4 text-center"},Fe=o("div",{class:"text-h6 text-center"},"Tickets 2024",-1),Te={class:"text-h4 text-center"},Qe=o("div",{class:"text-h6 text-center"},"Diferencia",-1),Se={class:"text-h4 text-center"},Ce=o("div",{class:"text-h6 text-center"},"Diferencia Tickets",-1),$e={class:"text-h4 text-center"},Ae=o("div",{class:"text-h6 text-center"},"VENTAS HOY",-1),Ve={class:"text-h4 text-center"},qe=o("div",{class:"text-h6 text-center"},"Tickets HOY",-1),Ie={class:"text-h4 text-center"},Pe={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition"},He=o("div",null,null,-1),Be={key:0,class:""},st={__name:"SaleStore",setup(l){const v=ue();G(),X(),fe();const i=q([]),x=q({pagination:{rowsPerPage:0},filter:""}),g=W(()=>v.platform.is.mobile),y=async()=>{v.loading.show({message:"Cargando Informacion"}),console.log("se inicia el init");const f=await xe.index();f.error?console.log(f):(console.log(f),i.value=f,p(i.value))},p=async f=>{f.forEach(_=>{let a=`http://${_.ip_address}/access/public/reports/getSales`;ae.get(a).then(s=>{_.sales=s.data==null?null:s.data}).catch(s=>{console.log(s.response.data.message)})}),v.loading.hide()};return y(),(f,_)=>{const Q=J("router-view");return F(),S(re,{view:"hHh Lpr fFf"},{default:t(()=>[e(ie,null,{default:t(()=>[e(le,{class:"bg-grey-3 text-dark",bordered:""},{default:t(()=>[e(ne),e(h),e(se,{class:"justify-between"},{default:t(()=>[o("div",null,[ge,e(I,{name:"navigate_next",color:"primary"}),pe]),e(P,{dense:"",flat:"",color:"primary",icon:"autorenew",onClick:y})]),_:1})]),_:1}),e(h,{spaced:"",inset:"",vertical:"",dark:""}),o("div",{class:M($(g)?"":"row")},[$(g)?C("",!0):(F(),S(V,{key:0,class:"my-card col",bordered:"",dense:""},{default:t(()=>[e(k,null,{default:t(()=>[be,o("div",ke,c(Number(i.value.reduce((a,s)=>{var n;return a+Number(((n=s.sales)==null?void 0:n.salesant)*1.1||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1}),e(k,null,{default:t(()=>[ye,o("div",we,c(Number(i.value.reduce((a,s)=>{var n;return a+Number(((n=s.sales)==null?void 0:n.tiketsant)||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1})]),_:1})),e(h,{spaced:"",inset:"",vertical:"",dark:""}),$(g)?C("",!0):(F(),S(V,{key:1,class:"my-card col",bordered:"",dense:""},{default:t(()=>[e(k,null,{default:t(()=>[Ee,o("div",Ne,c(Number(i.value.reduce((a,s)=>{var n;return a+Number(((n=s.sales)==null?void 0:n.salesact)||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1}),e(k,null,{default:t(()=>[Fe,o("div",Te,c(Number(i.value.reduce((a,s)=>{var n;return a+Number(((n=s.sales)==null?void 0:n.tiketsact)||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1})]),_:1})),e(h,{spaced:"",inset:"",vertical:"",dark:""}),$(g)?C("",!0):(F(),S(V,{key:2,class:"my-card col",bordered:"",dense:""},{default:t(()=>[e(k,null,{default:t(()=>[Qe,o("div",Se,c(Number(i.value.reduce((a,s)=>{var n,w;return a+Number(((n=s.sales)==null?void 0:n.salesact)-((w=s.sales)==null?void 0:w.salesant)*1.1||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1}),e(k,null,{default:t(()=>[Ce,o("div",$e,c(Number(i.value.reduce((a,s)=>{var n,w;return a+Number(((n=s.sales)==null?void 0:n.tiketsact)-((w=s.sales)==null?void 0:w.tiketsant)||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1})]),_:1})),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(V,{class:"my-card col",bordered:"",dense:""},{default:t(()=>[e(k,null,{default:t(()=>[Ae,o("div",Ve,c(Number(i.value.reduce((a,s)=>{var n;return a+Number(((n=s.sales)==null?void 0:n.saleshoy)||0)},0)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:1}),e(k,null,{default:t(()=>[qe,o("div",Ie,c(i.value.reduce((a,s)=>{var n;return a+Number(((n=s.sales)==null?void 0:n.hoytck)||0)},0)),1)]),_:1})]),_:1})],2),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(de,{title:"Sucursales",rows:i.value,"row-key":"id",pagination:x.value.pagination,filter:x.value.filter,"hide-header":""},{"top-right":t(()=>[e(oe,{borderless:"",dense:"",debounce:"300",modelValue:x.value.filter,"onUpdate:modelValue":_[0]||(_[0]=a=>x.value.filter=a),placeholder:"Buscar"},{append:t(()=>[e(I,{name:"search"})]),_:1},8,["modelValue"])]),body:t(a=>[o("div",Pe,[e(ce,{bordered:"",dense:""},{default:t(()=>[e(H,null,{default:t(()=>[e(T,null,{default:t(()=>[e(u,{overline:""},{default:t(()=>[d(c(a.row.name),1)]),_:2},1024),e(u,{caption:""},{default:t(()=>[d(c(a.row.alias),1)]),_:2},1024),He]),_:2},1024),a.expand?C("",!0):(F(),S(T,{key:0,class:"text-right"},{default:t(()=>[e(u,{overline:""},{default:t(()=>{var s;return[d("$ "+c(Number((s=a.row.sales)==null?void 0:s.saleshoy).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]}),_:2},1024),e(u,{caption:""},{default:t(()=>{var s;return[d("tickets: "+c((s=a.row.sales)==null?void 0:s.hoytck),1)]}),_:2},1024)]),_:2},1024)),$(g)?C("",!0):(F(),S(T,{key:1,avatar:""},{default:t(()=>[e(P,{color:"grey",flat:"",dense:"",icon:a.expand?"keyboard_arrow_up":"keyboard_arrow_down",onClick:s=>a.expand=!a.expand},null,8,["icon","onClick"])]),_:2},1024))]),_:2},1024),e(_e,null,{default:t(()=>[a.row.sales?Z((F(),te("div",Be,[e(h),e(H,{class:"text-center",dense:""},{default:t(()=>[e(T,null,{default:t(()=>[e(u,{overline:""},{default:t(()=>[d("VENTAS 2023")]),_:1}),e(u,{caption:""},{default:t(()=>[d(c(Number(a.row.sales.salesant*1.1).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:2},1024),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(u,{overline:""},{default:t(()=>[d("TICKETS 2023")]),_:1}),e(u,{caption:""},{default:t(()=>[d(c(a.row.sales.tiketsant),1)]),_:2},1024)]),_:2},1024),e(T,null,{default:t(()=>[e(u,{overline:""},{default:t(()=>[d("VENTAS 2024")]),_:1}),e(u,{caption:""},{default:t(()=>[d(c(Number(a.row.sales.salesact).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:2},1024),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(u,{overline:""},{default:t(()=>[d("TICKETS 2024")]),_:1}),e(u,{caption:""},{default:t(()=>[d(c(a.row.sales.tiketsact),1)]),_:2},1024)]),_:2},1024),e(T,null,{default:t(()=>[e(u,{overline:""},{default:t(()=>[d("DIFERENCIA")]),_:1}),e(u,{caption:""},{default:t(()=>[d(c((Number(a.row.sales.salesact).toFixed(2)-Number(a.row.sales.salesant*1.1).toFixed(2)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:2},1024),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(u,{overline:""},{default:t(()=>[d("DIFERENCIA TICKETS")]),_:1}),e(u,{caption:""},{default:t(()=>[d(c(a.row.sales.tiketsact-a.row.sales.tiketsant),1)]),_:2},1024)]),_:2},1024),e(T,null,{default:t(()=>[e(u,{overline:""},{default:t(()=>[d("VENTA HOY ")]),_:1}),e(u,{caption:""},{default:t(()=>[d(c(Number(a.row.sales.saleshoy).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),1)]),_:2},1024),e(h,{spaced:"",inset:"",vertical:"",dark:""}),e(u,{overline:""},{default:t(()=>[d("TICKETS HOY")]),_:1}),e(u,{caption:""},{default:t(()=>[d(c(a.row.sales.hoytck),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)],512)),[[ee,a.expand]]):C("",!0)]),_:2},1024)]),_:2},1024),e(h,{spaced:"",inset:"",vertical:"",dark:""})])]),_:1},8,["rows","pagination","filter"]),e(Q)]),_:1})]),_:1})}}};export{st as default};
