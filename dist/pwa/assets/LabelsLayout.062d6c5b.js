import{Q as ye}from"./position-engine.1651cb91.js";import{k as O,j as xe,ar as at,as as ot,r as Z,c as g,F as ze,_ as lt,l as Qe,m as Be,aK as He,z as Re,M as pe,n as J,p as nt,A as je,q as st,a2 as $e,at as Ge,s as Ze,N as et,o as re,a as we,w as d,e as n,Q as R,i as P,a3 as me,aW as it,f as rt,g as _e,a1 as Pe,h as Ie,a4 as K,a0 as Le,a5 as Ue}from"./index.4a50ccac.js";import{Q as ut}from"./QToolbar.9b971284.js";import{Q as ct}from"./QHeader.dec26300.js";import{u as We,c as Ae,Q as ke,a as ve}from"./QCard.25b1e4f4.js";import{o as dt,u as vt,a as ft,b as mt,c as gt,Q as ht}from"./QCheckbox.2d9bf4de.js";import{d as bt,i as pt,Q as xt}from"./QInput.4c008078.js";import{u as yt,b as wt,e as _t,h as kt,n as St,o as Ft,Q as Ve}from"./QDialog.eabd5d5f.js";import{T as Ee}from"./TouchPan.1cbea109.js";import{d as qe,f as Pt,Q as qt}from"./QSelect.bc18cb92.js";import{Q as Ce}from"./QCardActions.78d7f394.js";import{Q as Ct}from"./QTable.a4c973ad.js";import{Q as Xe,a as Oe,b as De}from"./QItem.87b0b1f3.js";import{Q as Ye}from"./QList.4082980a.js";import{Q as $t}from"./QPage.1e470e5c.js";import{Q as zt,a as Qt}from"./QLayout.66357801.js";import{_ as Bt,C as Me}from"./UserToolbar.85343ceb.js";import{u as Nt}from"./VDB.b6f3616e.js";import{P as Tt,d as It}from"./ProductsAutocomplete.faad4f8f.js";import{u as Lt}from"./use-quasar.6474dc4c.js";import{E as Se}from"./jspdf.plugin.autotable.38195dd8.js";import"./axios.ae0a941c.js";import{E as Vt}from"./exceljs.min.9e24d01d.js";import"./browser.94c942de.js";import"./QResizeObserver.787426f6.js";import"./touch.70a9dd44.js";import"./QLinearProgress.266bdc3b.js";import"./_commonjsHelpers.88e99c8f.js";import"./axios.f1f32898.js";const Et=O("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[O("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),O("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var Ot=xe({name:"QRadio",props:{...We,...at,...bt,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(t,{slots:S,emit:c}){const{proxy:F}=Be(),_=Ae(t,F.$q),C=ot(t,dt),m=Z(null),{refocusTargetEl:T,refocusTarget:ne}=vt(t,m),k=g(()=>He(t.modelValue)===He(t.val)),l=g(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(t.disable===!0?" disabled":"")+(_.value===!0?" q-radio--dark":"")+(t.dense===!0?" q-radio--dense":"")+(t.leftLabel===!0?" reverse":"")),B=g(()=>{const $=t.color!==void 0&&(t.keepColor===!0||k.value===!0)?` text-${t.color}`:"";return`q-radio__inner relative-position q-radio__inner--${k.value===!0?"truthy":"falsy"}${$}`}),V=g(()=>(k.value===!0?t.checkedIcon:t.uncheckedIcon)||null),D=g(()=>t.disable===!0?-1:t.tabindex||0),I=g(()=>{const $={type:"radio"};return t.name!==void 0&&Object.assign($,{".checked":k.value===!0,"^checked":k.value===!0?"checked":void 0,name:t.name,value:t.val}),$}),j=pt(I);function M($){$!==void 0&&(Re($),ne($)),t.disable!==!0&&k.value!==!0&&c("update:modelValue",t.val,$)}function N($){($.keyCode===13||$.keyCode===32)&&Re($)}function ge($){($.keyCode===13||$.keyCode===32)&&M($)}return Object.assign(F,{set:M}),()=>{const $=V.value!==null?[O("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[O(ze,{class:"q-radio__icon",name:V.value})])]:[Et];t.disable!==!0&&j($,"unshift"," q-radio__native q-ma-none q-pa-none");const ue=[O("div",{class:B.value,style:C.value,"aria-hidden":"true"},$)];T.value!==null&&ue.push(T.value);const ce=t.label!==void 0?lt(S.default,[t.label]):Qe(S.default);return ce!==void 0&&ue.push(O("div",{class:"q-radio__label q-anchor--skip"},ce)),O("div",{ref:m,class:l.value,tabindex:D.value,role:"radio","aria-label":t.label,"aria-checked":k.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:M,onKeydown:N,onKeyup:ge},ue)}}}),Dt=xe({name:"QToggle",props:{...ft,icon:String,iconColor:String},emits:mt,setup(t){function S(c,F){const _=g(()=>(c.value===!0?t.checkedIcon:F.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),C=g(()=>c.value===!0?t.iconColor:null);return()=>[O("div",{class:"q-toggle__track"}),O("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},_.value!==void 0?[O(ze,{name:_.value,color:C.value})]:void 0)]}return gt("toggle",S)}});const tt={radio:Ot,checkbox:ht,toggle:Dt},Mt=Object.keys(tt);var Wt=xe({name:"QOptionGroup",props:{...We,modelValue:{required:!0},options:{type:Array,validator:t=>t.every(S=>"value"in S&&"label"in S)},name:String,type:{default:"radio",validator:t=>Mt.includes(t)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(t,{emit:S,slots:c}){const{proxy:{$q:F}}=Be(),_=Array.isArray(t.modelValue);t.type==="radio"?_===!0&&console.error("q-option-group: model should not be array"):_===!1&&console.error("q-option-group: model should be array in your case");const C=Ae(t,F),m=g(()=>tt[t.type]),T=g(()=>"q-option-group q-gutter-x-sm"+(t.inline===!0?" q-option-group--inline":"")),ne=g(()=>{const l={role:"group"};return t.type==="radio"&&(l.role="radiogroup",t.disable===!0&&(l["aria-disabled"]="true")),l});function k(l){S("update:modelValue",l)}return()=>O("div",{class:T.value,...ne.value},t.options.map((l,B)=>{const V=c["label-"+B]!==void 0?()=>c["label-"+B](l):c.label!==void 0?()=>c.label(l):void 0;return O("div",[O(m.value,{modelValue:t.modelValue,val:l.value,name:l.name===void 0?t.name:l.name,disable:t.disable||l.disable,label:V===void 0?l.label:null,leftLabel:l.leftLabel===void 0?t.leftLabel:l.leftLabel,color:l.color===void 0?t.color:l.color,checkedIcon:l.checkedIcon,uncheckedIcon:l.uncheckedIcon,dark:l.dark||C.value,size:l.size===void 0?t.size:l.size,dense:t.dense,keepColor:l.keepColor===void 0?t.keepColor:l.keepColor,"onUpdate:modelValue":k},V)])}))}}),Je=xe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:S}){const c=g(()=>{const F=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(_=>t[_]===!0).map(_=>`q-btn-group--${_}`).join(" ");return`q-btn-group row no-wrap${F.length>0?" "+F:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>O("div",{class:c.value},Qe(S.default))}});const Ke=150;var At=xe({name:"QDrawer",inheritAttrs:!1,props:{...yt,...We,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...wt,"onLayout","miniState"],setup(t,{slots:S,emit:c,attrs:F}){const _=Be(),{proxy:{$q:C}}=_,m=Ae(t,C),{preventBodyScroll:T}=Ft(),{registerTimeout:ne,removeTimeout:k}=_t(),l=Ze(et,pe);if(l===pe)return console.error("QDrawer needs to be child of QLayout"),pe;let B,V=null,D;const I=Z(t.behavior==="mobile"||t.behavior!=="desktop"&&l.totalWidth.value<=t.breakpoint),j=g(()=>t.mini===!0&&I.value!==!0),M=g(()=>j.value===!0?t.miniWidth:t.width),N=Z(t.showIfAbove===!0&&I.value===!1?!0:t.modelValue===!0),ge=g(()=>t.persistent!==!0&&(I.value===!0||oe.value===!0));function $(a,y){if(Ne(),a!==!1&&l.animate(),w(0),I.value===!0){const ae=l.instances[L.value];ae!==void 0&&ae.belowBreakpoint===!0&&ae.hide(!1),A(1),l.isContainer.value!==!0&&T(!0)}else A(0),a!==!1&&le(!1);ne(()=>{a!==!1&&le(!0),y!==!0&&c("show",a)},Ke)}function ue(a,y){Te(),a!==!1&&l.animate(),A(0),w(r.value*M.value),U(),y!==!0?ne(()=>{c("hide",a)},Ke):k()}const{show:ce,hide:fe}=kt({showing:N,hideOnRouteChange:ge,handleShow:$,handleHide:ue}),{addToHistory:Ne,removeFromHistory:Te}=St(N,fe,ge),he={belowBreakpoint:I,hide:fe},se=g(()=>t.side==="right"),r=g(()=>(C.lang.rtl===!0?-1:1)*(se.value===!0?1:-1)),u=Z(0),o=Z(!1),f=Z(!1),p=Z(M.value*r.value),L=g(()=>se.value===!0?"left":"right"),ee=g(()=>N.value===!0&&I.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:M.value:0),e=g(()=>t.overlay===!0||t.miniToOverlay===!0||l.view.value.indexOf(se.value?"R":"L")>-1||C.platform.is.ios===!0&&l.isContainer.value===!0),W=g(()=>t.overlay===!1&&N.value===!0&&I.value===!1),oe=g(()=>t.overlay===!0&&N.value===!0&&I.value===!1),H=g(()=>"fullscreen q-drawer__backdrop"+(N.value===!1&&o.value===!1?" hidden":"")),X=g(()=>({backgroundColor:`rgba(0,0,0,${u.value*.4})`})),z=g(()=>se.value===!0?l.rows.value.top[2]==="r":l.rows.value.top[0]==="l"),q=g(()=>se.value===!0?l.rows.value.bottom[2]==="r":l.rows.value.bottom[0]==="l"),te=g(()=>{const a={};return l.header.space===!0&&z.value===!1&&(e.value===!0?a.top=`${l.header.offset}px`:l.header.space===!0&&(a.top=`${l.header.size}px`)),l.footer.space===!0&&q.value===!1&&(e.value===!0?a.bottom=`${l.footer.offset}px`:l.footer.space===!0&&(a.bottom=`${l.footer.size}px`)),a}),ie=g(()=>{const a={width:`${M.value}px`,transform:`translateX(${p.value}px)`};return I.value===!0?a:Object.assign(a,te.value)}),E=g(()=>"q-drawer__content fit "+(l.isContainer.value!==!0?"scroll":"overflow-auto")),be=g(()=>`q-drawer q-drawer--${t.side}`+(f.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(m.value===!0?" q-drawer--dark q-dark":"")+(o.value===!0?" no-transition":N.value===!0?"":" q-layout--prevent-focus")+(I.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${j.value===!0?"mini":"standard"}`+(e.value===!0||W.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(z.value===!0?" q-drawer--top-padding":""))),G=g(()=>{const a=C.lang.rtl===!0?t.side:L.value;return[[Ee,v,void 0,{[a]:!0,mouse:!0}]]}),i=g(()=>{const a=C.lang.rtl===!0?L.value:t.side;return[[Ee,Y,void 0,{[a]:!0,mouse:!0}]]}),b=g(()=>{const a=C.lang.rtl===!0?L.value:t.side;return[[Ee,Y,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function de(){Q(I,t.behavior==="mobile"||t.behavior!=="desktop"&&l.totalWidth.value<=t.breakpoint)}J(I,a=>{a===!0?(B=N.value,N.value===!0&&fe(!1)):t.overlay===!1&&t.behavior!=="mobile"&&B!==!1&&(N.value===!0?(w(0),A(0),U()):ce(!1))}),J(()=>t.side,(a,y)=>{l.instances[y]===he&&(l.instances[y]=void 0,l[y].space=!1,l[y].offset=0),l.instances[a]=he,l[a].size=M.value,l[a].space=W.value,l[a].offset=ee.value}),J(l.totalWidth,()=>{(l.isContainer.value===!0||document.qScrollPrevented!==!0)&&de()}),J(()=>t.behavior+t.breakpoint,de),J(l.isContainer,a=>{N.value===!0&&T(a!==!0),a===!0&&de()}),J(l.scrollbarWidth,()=>{w(N.value===!0?0:void 0)}),J(ee,a=>{x("offset",a)}),J(W,a=>{c("onLayout",a),x("space",a)}),J(se,()=>{w()}),J(M,a=>{w(),h(t.miniToOverlay,a)}),J(()=>t.miniToOverlay,a=>{h(a,M.value)}),J(()=>C.lang.rtl,()=>{w()}),J(()=>t.mini,()=>{t.modelValue===!0&&(s(),l.animate())}),J(j,a=>{c("miniState",a)});function w(a){a===void 0?je(()=>{a=N.value===!0?0:M.value,w(r.value*a)}):(l.isContainer.value===!0&&se.value===!0&&(I.value===!0||Math.abs(a)===M.value)&&(a+=r.value*l.scrollbarWidth.value),p.value=a)}function A(a){u.value=a}function le(a){const y=a===!0?"remove":l.isContainer.value!==!0?"add":"";y!==""&&document.body.classList[y]("q-body--drawer-toggle")}function s(){V!==null&&clearTimeout(V),_.proxy&&_.proxy.$el&&_.proxy.$el.classList.add("q-drawer--mini-animate"),f.value=!0,V=setTimeout(()=>{V=null,f.value=!1,_&&_.proxy&&_.proxy.$el&&_.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function v(a){if(N.value!==!1)return;const y=M.value,ae=qe(a.distance.x,0,y);if(a.isFinal===!0){ae>=Math.min(75,y)===!0?ce():(l.animate(),A(0),w(r.value*y)),o.value=!1;return}w((C.lang.rtl===!0?se.value!==!0:se.value)?Math.max(y-ae,0):Math.min(0,ae-y)),A(qe(ae/y,0,1)),a.isFirst===!0&&(o.value=!0)}function Y(a){if(N.value!==!0)return;const y=M.value,ae=a.direction===t.side,Fe=(C.lang.rtl===!0?ae!==!0:ae)?qe(a.distance.x,0,y):0;if(a.isFinal===!0){Math.abs(Fe)<Math.min(75,y)===!0?(l.animate(),A(1),w(0)):fe(),o.value=!1;return}w(r.value*Fe),A(qe(1-Fe/y,0,1)),a.isFirst===!0&&(o.value=!0)}function U(){T(!1),le(!0)}function x(a,y){l.update(t.side,a,y)}function Q(a,y){a.value!==y&&(a.value=y)}function h(a,y){x("size",a===!0?t.miniWidth:y)}return l.instances[t.side]=he,h(t.miniToOverlay,M.value),x("space",W.value),x("offset",ee.value),t.showIfAbove===!0&&t.modelValue!==!0&&N.value===!0&&t["onUpdate:modelValue"]!==void 0&&c("update:modelValue",!0),nt(()=>{c("onLayout",W.value),c("miniState",j.value),B=t.showIfAbove===!0;const a=()=>{(N.value===!0?$:ue)(!1,!0)};if(l.totalWidth.value!==0){je(a);return}D=J(l.totalWidth,()=>{D(),D=void 0,N.value===!1&&t.showIfAbove===!0&&I.value===!1?ce(!1):a()})}),st(()=>{D!==void 0&&D(),V!==null&&(clearTimeout(V),V=null),N.value===!0&&U(),l.instances[t.side]===he&&(l.instances[t.side]=void 0,x("size",0),x("offset",0),x("space",!1))}),()=>{const a=[];I.value===!0&&(t.noSwipeOpen===!1&&a.push($e(O("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),G.value)),a.push(Ge("div",{ref:"backdrop",class:H.value,style:X.value,"aria-hidden":"true",onClick:fe},void 0,"backdrop",t.noSwipeBackdrop!==!0&&N.value===!0,()=>b.value)));const y=j.value===!0&&S.mini!==void 0,ae=[O("div",{...F,key:""+y,class:[E.value,F.class]},y===!0?S.mini():Qe(S.default))];return t.elevated===!0&&N.value===!0&&ae.push(O("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(Ge("aside",{ref:"content",class:be.value,style:ie.value},ae,"contentclose",t.noSwipeClose!==!0&&I.value===!0,()=>i.value)),O("div",{class:"q-drawer-container"},a)}}});const Ht={position:{type:String,default:"bottom-right",validator:t=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(t)},offset:{type:Array,validator:t=>t.length===2},expand:Boolean};function Rt(){const{props:t,proxy:{$q:S}}=Be(),c=Ze(et,pe);if(c===pe)return console.error("QPageSticky needs to be child of QLayout"),pe;const F=g(()=>{const B=t.position;return{top:B.indexOf("top")>-1,right:B.indexOf("right")>-1,bottom:B.indexOf("bottom")>-1,left:B.indexOf("left")>-1,vertical:B==="top"||B==="bottom",horizontal:B==="left"||B==="right"}}),_=g(()=>c.header.offset),C=g(()=>c.right.offset),m=g(()=>c.footer.offset),T=g(()=>c.left.offset),ne=g(()=>{let B=0,V=0;const D=F.value,I=S.lang.rtl===!0?-1:1;D.top===!0&&_.value!==0?V=`${_.value}px`:D.bottom===!0&&m.value!==0&&(V=`${-m.value}px`),D.left===!0&&T.value!==0?B=`${I*T.value}px`:D.right===!0&&C.value!==0&&(B=`${-I*C.value}px`);const j={transform:`translate(${B}, ${V})`};return t.offset&&(j.margin=`${t.offset[1]}px ${t.offset[0]}px`),D.vertical===!0?(T.value!==0&&(j[S.lang.rtl===!0?"right":"left"]=`${T.value}px`),C.value!==0&&(j[S.lang.rtl===!0?"left":"right"]=`${C.value}px`)):D.horizontal===!0&&(_.value!==0&&(j.top=`${_.value}px`),m.value!==0&&(j.bottom=`${m.value}px`)),j}),k=g(()=>`q-page-sticky row flex-center fixed-${t.position} q-page-sticky--${t.expand===!0?"expand":"shrink"}`);function l(B){const V=Qe(B.default);return O("div",{class:k.value,style:ne.value},t.expand===!0?V:[O("div",V)])}return{$layout:c,getStickyContent:l}}var jt=xe({name:"QPageSticky",props:Ht,setup(t,{slots:S}){const{getStickyContent:c}=Rt();return()=>c(S)}});const Gt=P("span",{class:"text-h6"},"Creacion de Etiquetas",-1),Ut=P("div",{class:"text-center text-bold"},"Precios",-1),Xt={class:"q-pa-md"},Yt=P("div",{class:"text-center text-bold"}," Opciones ",-1),Jt={class:"q-pa-md"},Kt={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Zt={class:"text-h5 text-bold text-center"},ea={class:"text-subtitle2 text-bold text-center"},ta={class:"text-subtitle2 text-bold text-center"},aa={class:"text-subtitle2 text-bold text-center"},oa={class:"text-subtitle2 text-bold text-center"},la={class:"row"},na={class:"text-center"},sa={class:"text-center"},ia=P("div",{class:"text-caption text--2"},"copias",-1),ra={class:"text-bold q-pb-sm text-center"},ua={class:"row q-pt-xs"},ca=P("div",{class:"q-ml-sm"},"Se eliminaran todos los articulos de la lista ",-1),da=P("div",{class:"q-ml-sm"},"Deseas Continuar?",-1),va=P("div",{class:"q-ml-sm"},"En que Formato deseas las etiquetas?",-1),fa=P("div",{class:"text-center text-bold"},"Repetidos",-1),ma={class:"text-negative"},ga=P("div",{class:"text-center"},"Productos Sin Precio",-1),ha=P("div",{class:"text-center"},"Productos Sin Existencia",-1),Ga={__name:"LabelsLayout",setup(t){const S=Nt(),c=Lt(),F=Z([]),_=Z({filter:"",pagination:{rowsPerPage:9}}),C=Z({state:!1}),m=Z({state:!1,val:null,opts:[{id:1,label:"Navidad Grande"},{id:2,label:"Navidad Mediano"},{id:3,label:"Navidad Pequeno"},{id:4,label:"Juguete Ni\xF1o"},{id:5,label:"Juguete Ni\xF1a"}]}),T=Z({val:[0,1,2,4],opts:[{label:"Menudeo",value:1},{label:"Mayoreo",value:2},{label:"Docena",value:3},{label:"Caja",value:4}]}),ne=Z(null),k=Z({state:!1,wndGetRows:[],wndNoDataFound:[],wndTotal:[],wndGetAdded:[],_supply_by:0,message:"",messageRepeat:"",wndNotExist:[]}),l=r=>{let u=[],o=[],f=new Object;return r.products.map(p=>B(p.prices)?u.push(p):o.push(p)),console.log(r),f.notFound=u,f.add=o,f},B=r=>{let u=!0;return r.map((o,f)=>{u=o.pivot.price==0}),u},V=r=>{console.log(r)},D=Z({state:!1}),I=r=>{let u=F.value.findIndex(o=>o.id==r.id);if(console.log(u),u>=0)c.notify({message:"El Producto ya esta agregado",type:"negative",position:"center"});else{let o=$(r.prices,r.pieces);r._copies=1,r.type=o.type,r.usedPrices=o.prices,r._copies=1,F.value.push(r),console.log(r)}},j=r=>{let u=F.value.findIndex(o=>o.id==r.id);F.value.splice(u,1)},M=()=>{F.value=[],C.value.state=!1},N=()=>{ne.value.click()},ge=async()=>{let r=document.getElementById("inputFile").files[0],u=new Vt.Workbook,o=[],f=[],p=0;u.xlsx.load(r).then(L=>{if(u.worksheets[0].getColumn("A").eachCell({includeEmpty:!0},function(W,oe){W.value&&o.push(W.value)}),f=o.filter((W,oe,H)=>H.indexOf(W)==oe),o.length){let W={codes:o,_workpoint:S.session.store.id_viz};console.log(W),c.loading.show({message:"Procesando archivo, espera.."}),It.getMassive(W).then(oe=>{let H=oe.data,X=0,z=l(H);if(H.fails.notFound.map(q=>k.value.wndNotExist.push(q)),k.value.wndGetRows=z.add.length,k.value.state=!k.value.state,k.value.wndGetAdded=z.add,k.value.wndNoDataFound=z.notFound,k.value.wndNoDataFound.length>0){let q=k.value.wndNoDataFound.length;k.value.message=q<=1?"El producto no contiene precios.":"Los productos no contienen precios."}z.add.map(q=>{let te=$(q.prices,q.pieces);q._copies=1,q.type=te.type,q.usedPrices=te.prices,F.value.push(q),X++}),X&&!H.fails.notFound.length&&f.length==o.length?c.notify({message:`Etiquetas generadas: ${X}`,color:"positive",icon:"done",timeout:1e3}):(p=o.length-f.length,k.value.messageRepeat=p<=1?`${p} producto se repitio. Favor de validar su documento antes de subirlo.`:`${p} productos se repitieron. Favor de validar su documento antes de subirlo.`),console.log(k.value),c.loading.hide()}).catch(oe=>{console.log(oe),c.notify({message:"Hay un problema con obtener los datos :/.",icon:"fas fa-grin-beam-sweat",color:"negative"})})}else c.notify({message:"Vaya!! Al parecer este archivo esta vacio.",icon:"fas fa-grin-beam-sweat",color:"negative"})})},$=(r,u)=>{let o=[...r];const f=o.find(L=>L.pivot._type==4),p=o.find(L=>L.pivot._type==1);if(f.pivot.price==p.pivot.price){let L={id:0,alias:"OFERTA",name:"Oferta",pivot:{price:o[0].pivot.price},used:!0};return console.log("oferta"),{type:"off",prices:[L]}}else return console.log("estandar"),{type:"std",prices:o}},ue=r=>{switch(r){case"off":return"orange-9";case"std":return"green-9"}},ce=()=>{c.loading.show({message:"Generando Etiquetas"}),m.value.val.id==1?fe(F.value).then(r=>{c.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),m.value.state=!1,m.value.val=null,c.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):m.value.val.id==2?Ne(F.value).then(r=>{c.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),m.value.state=!1,m.value.val=null,c.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):m.value.val.id==3?Te(F.value).then(r=>{c.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),m.value.state=!1,m.value.val=null,c.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):m.value.val.id==4?he(F.value).then(r=>{c.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),m.value.state=!1,m.value.val=null,c.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):m.value.val.id==5&&se(F.value).then(r=>{c.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),m.value.state=!1,m.value.val=null,c.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")})},fe=r=>new Promise((u,o)=>{try{const f=r,p=[];f.forEach(i=>{for(let b=0;b<i._copies;b++)p.push(i)});const L="/icons/Navidad/Navidad6(1).png",ee="PNG",e=new Se({format:"letter"}),W=e.internal.pageSize.getWidth(),oe=e.internal.pageSize.getHeight(),H=5,X=10,z=100,q=85,te=5,ie=5,E=2,G=E*3;p.forEach((i,b)=>{const de=Math.floor(b/G),w=b%G,A=Math.floor(w/E),le=w%E,s=H+le*(z+te),v=X+A*(q+ie);b>0&&w===0&&e.addPage(),e.addImage(L,ee,s,v,z,q),e.setFontSize(30),e.setFont("helvetica","bold"),e.text(i.name,s+61,v+77),e.setFontSize(14),e.setFont("helvetica","normal");const Y=z-20,U=e.splitTextToSize(i.label,Y);e.text(U,s+10,v+25),e.setFontSize(12);let x=v+39,Q=7;i.usedPrices.filter(h=>T.value.val.includes(h.id)).forEach((h,a)=>{h.alias=="OFERTA"?(e.setFontSize(22),e.setFont("helvetica","bold"),e.text("Unico Precio",s+30,x+a*Q+5),e.setFontSize(28),e.text(`$ ${Number(h.pivot.price).toFixed(2)}`,s+34,x+a*Q+20)):(e.setFontSize(22),e.setFont("helvetica","bold"),e.text(h.alias,s+23,x+a*Q),e.text(`$ ${Number(h.pivot.price).toFixed(2)}`,s+45,x+a*Q))}),e.setFontSize(16),e.setFont("helvetica","bold"),e.text(`${i.code}`,s+10,v+12),e.text(i.large,s+18,v+74),e.setFont("helvetica","normal"),e.text(`${i.pieces} PZS`,s+70,v+12),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(i.locations?i.locations.map(h=>h.path).join("/"):"",s+19,v+77)}),e.save(`${S.session.credentials.nick} etiquetas ${m.value.val.label}`),u()}catch(f){o(f)}}),Ne=r=>new Promise((u,o)=>{try{const f=r,p=[];f.forEach(i=>{for(let b=0;b<i._copies;b++)p.push(i)});const L="/icons/Navidad/Navidad9(1).png",ee="PNG",e=new Se({format:"letter"}),W=e.internal.pageSize.getWidth(),oe=e.internal.pageSize.getHeight(),H=5,X=10,z=65,q=85,te=5,ie=5,E=3,G=E*3;p.forEach((i,b)=>{const de=Math.floor(b/G),w=b%G,A=Math.floor(w/E),le=w%E,s=H+le*(z+te),v=X+A*(q+ie);b>0&&w===0&&e.addPage(),e.addImage(L,ee,s,v,z,q),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(i.name,s+37,v+77),e.setFontSize(10),e.setFont("helvetica","normal");const Y=z-20,U=e.splitTextToSize(i.label,Y);e.text(U,s+5,v+25),e.setFontSize(12);let x=v+40,Q=7;i.usedPrices.filter(h=>T.value.val.includes(h.id)).forEach((h,a)=>{h.alias=="OFERTA"?(e.setFontSize(18),e.setFont("helvetica","bold"),e.text("Unico Precio",s+13,x+a*Q),e.setFontSize(26),e.text(`$ ${Number(h.pivot.price).toFixed(2)}`,s+13,x+a*Q+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(h.alias,s+10,x+a*Q),e.text(`$ ${Number(h.pivot.price).toFixed(2)}`,s+30,x+a*Q))}),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(`${i.code}`,s+25,v+20),e.text(i.large,s+18,v+77),e.text(`${i.pieces} PZS`,s+20,v+73),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(i.locations?i.locations.map(h=>h.path).join("/"):"",s+18,v+79)}),e.save(`${S.session.credentials.nick} etiquetas ${m.value.val.label}`),u()}catch(f){o(f)}}),Te=r=>new Promise((u,o)=>{try{const f=r,p=[];f.forEach(i=>{for(let b=0;b<i._copies;b++)p.push(i)});const L="/icons/Navidad/NaviSan(1).png",ee="PNG",e=new Se({format:"letter"}),W=e.internal.pageSize.getWidth(),oe=e.internal.pageSize.getHeight(),H=5,X=10,z=67,q=63,te=0,ie=3,E=3,G=E*4;p.forEach((i,b)=>{const de=Math.floor(b/G),w=b%G,A=Math.floor(w/E),le=w%E,s=H+le*(z+te),v=X+A*(q+ie);e.setTextColor(255,51,97),b>0&&w===0&&e.addPage(),e.addImage(L,ee,s,v,z,q),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(i.name,s+23,v+37),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(i.label.substring(0,25),s+15,v+43),e.setFontSize(10);let Y=v+36,U=12;i.usedPrices.filter(x=>T.value.val.includes(x.id)).forEach((x,Q)=>{x.alias=="OFERTA"?(e.setFontSize(10),e.setFont("helvetica","bold"),e.text("Unico Precio",s+23,Y+Q*U+12),e.setFontSize(14),e.text(`$ ${Number(x.pivot.price).toFixed(0)}`,s+27,Y+Q*U+17)):(e.setFontSize(10),e.setFont("helvetica","bold"),e.text(x.alias,s+Q*U+10,Y+12),e.text(`$ ${Number(x.pivot.price).toFixed(0)}`,s+Q*U+10,Y+16))}),e.setFontSize(6),e.setFont("helvetica","bold"),e.text(`(${i.code})`,s+28,v+40),e.text(i.large,s+40,v+55),e.text(`${i.pieces} PZS`,s+40,v+57)}),e.save(`${S.session.credentials.nick} etiquetas ${m.value.val.label}`),u()}catch(f){o(f)}}),he=r=>new Promise((u,o)=>{try{const f=r,p=[];f.forEach(i=>{for(let b=0;b<i._copies;b++)p.push(i)});const L="/icons/Juguete/Ninio.png",ee="PNG",e=new Se({format:"letter"}),W=e.internal.pageSize.getWidth(),oe=e.internal.pageSize.getHeight(),H=5,X=10,z=65,q=85,te=5,ie=5,E=3,G=E*3;p.forEach((i,b)=>{const de=Math.floor(b/G),w=b%G,A=Math.floor(w/E),le=w%E,s=H+le*(z+te),v=X+A*(q+ie);b>0&&w===0&&e.addPage(),e.addImage(L,ee,s,v,z,q),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(i.name,s+15,v+10),e.setFontSize(10),e.setFont("helvetica","normal");const Y=z-20,U=e.splitTextToSize(i.label,Y);e.text(U,s+3,v+25),e.setFontSize(12);let x=v+40,Q=7;i.usedPrices.filter(h=>T.value.val.includes(h.id)).forEach((h,a)=>{h.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",s+5,x+a*Q),e.setFontSize(20),e.text(`$ ${Number(h.pivot.price).toFixed(2)}`,s+5,x+a*Q+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(h.alias,s+2,x+a*Q),e.text(`$${Number(h.pivot.price).toFixed(0)}`,s+19,x+a*Q))}),e.setFontSize(10),e.setFont("helvetica","bold"),e.text(`${i.code}`,s+45,v+40),e.text(i.large,s+45,v+52),e.text(`${i.pieces} PZS`,s+45,v+46),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(i.locations?i.locations.map(h=>h.path).join("/"):"",s+18,v+84)}),e.save(`${S.session.credentials.nick} etiquetas ${m.value.val.label}`),u()}catch(f){o(f)}}),se=r=>new Promise((u,o)=>{try{const f=r,p=[];f.forEach(i=>{for(let b=0;b<i._copies;b++)p.push(i)});const L="/icons/Juguete/Ninia.png",ee="PNG",e=new Se({format:"letter"}),W=e.internal.pageSize.getWidth(),oe=e.internal.pageSize.getHeight(),H=5,X=10,z=65,q=85,te=5,ie=5,E=3,G=E*3;p.forEach((i,b)=>{const de=Math.floor(b/G),w=b%G,A=Math.floor(w/E),le=w%E,s=H+le*(z+te),v=X+A*(q+ie);b>0&&w===0&&e.addPage(),e.addImage(L,ee,s,v,z,q),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(i.name,s+15,v+20),e.setFontSize(10),e.setFont("helvetica","normal");const Y=z-20,U=e.splitTextToSize(i.label,Y);e.text(U,s+5,v+25),e.setFontSize(12);let x=v+40,Q=7;i.usedPrices.filter(h=>T.value.val.includes(h.id)).forEach((h,a)=>{h.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",s+15,x+a*Q),e.setFontSize(20),e.text(`$ ${Number(h.pivot.price).toFixed(2)}`,s+15,x+a*Q+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(h.alias,s+15,x+a*Q),e.text(`$${Number(h.pivot.price).toFixed(0)}`,s+32,x+a*Q))}),e.setFontSize(13),e.setFont("helvetica","bold"),e.text(`${i.code}`,s+62,v+70,{align:"right"}),e.setFont("helvetica","normal"),e.text(i.large,s+15,v+65),e.text(`${i.pieces} PZS`,s+15,v+70),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(i.locations?i.locations.map(h=>h.path).join("/"):"",s+18,v+84)}),e.save(`${S.session.credentials.nick} etiquetas ${m.value.val.label}`),u()}catch(f){o(f)}});return(r,u)=>(re(),we(zt,{view:"hHh Lpr fFf"},{default:d(()=>[n(ct,{class:"transparent text-dark",bordered:""},{default:d(()=>[n(Bt),n(ye),n(ut,{class:"justify-between"},{default:d(()=>[n(R,{flat:"",onClick:u[0]||(u[0]=o=>D.value.state=!D.value.state),round:"",dense:"",icon:"menu"}),P("div",null,[me("Helpers "),n(ze,{name:"navigate_next",color:"primary"}),me(),Gt])]),_:1})]),_:1}),n(Qt,null,{default:d(()=>[n($t,{padding:""},{default:d(()=>[n(ke,{class:"my-card"},{default:d(()=>[n(Tt,{checkState:!1,onInput:V,with_prices:"",onAgregar:I,with_locations:""})]),_:1}),n(ye,{spaced:"",inset:"",vertical:"",dark:""}),n(At,{modelValue:D.value.state,"onUpdate:modelValue":u[4]||(u[4]=o=>D.value.state=o),"show-if-above":"",width:200,breakpoint:500,bordered:"",class:it(rt(c).dark.isActive?"bg-grey-9":"bg-grey-3")},{default:d(()=>[P("div",null,[n(ye,{spaced:"",inset:"",vertical:"",dark:""}),Ut,P("div",Xt,[n(Wt,{options:T.value.opts,type:"checkbox",modelValue:T.value.val,"onUpdate:modelValue":u[1]||(u[1]=o=>T.value.val=o)},null,8,["options","modelValue"])])]),n(ye,{spaced:"",inset:"",vertical:"",dark:""}),Yt,P("div",Jt,[n(Je,{spread:""},{default:d(()=>[n(R,{color:"primary",icon:"upload_file",flat:"",title:"Subir Etiquetas",onClick:N}),F.value.length?(re(),_e(Pe,{key:0},[n(R,{color:"primary",icon:"delete",flat:"",title:"Eliminar Etiquetas",onClick:u[2]||(u[2]=o=>C.value.state=!C.value.state)}),n(R,{color:"primary",icon:"download",flat:"",title:"Descargar Etquetas",onClick:u[3]||(u[3]=o=>m.value.state=!m.value.state)})],64)):Ie("",!0)]),_:1}),P("input",{type:"file",ref_key:"inputFile",ref:ne,id:"inputFile",onInput:ge,hidden:"",accept:".xlsx,.xls"},null,544)])]),_:1},8,["modelValue","class"]),n(Ct,{rows:F.value,"row-key":"name",grid:"",filter:_.value.filter,pagination:_.value.pagination,"no-data-label":"''"},{"top-right":d(()=>[n(xt,{borderless:"",dense:"",debounce:"300",modelValue:_.value.filter,"onUpdate:modelValue":u[5]||(u[5]=o=>_.value.filter=o),placeholder:"Buscar"},{append:d(()=>[n(ze,{name:"search"})]),_:1},8,["modelValue"])]),item:d(o=>[P("div",Kt,[n(ke,{class:"my-card"},{default:d(()=>[n(ve,null,{default:d(()=>{var f;return[n(Pt,{size:"sm",class:"fixed-right absolute-right text-bold text-white text-uppercase",color:ue(o.row.type)},{default:d(()=>[me(K(o.row.type),1)]),_:2},1032,["color"]),P("div",Zt,K(o.row.code),1),P("div",ea,K(o.row.name),1),P("div",ta,K(o.row.label),1),P("div",aa,"Longitud: "+K(o.row.large),1),P("div",oa,"Ubicacion: "+K((f=o.row.locations)==null?void 0:f.map(p=>p.path).join("/")),1),n(ye,{spaced:"",inset:"",vertical:"",dark:""}),P("div",la,[(re(!0),_e(Pe,null,Le(o.row.usedPrices.filter(p=>T.value.val.includes(p.id)),(p,L)=>(re(),_e("div",{class:"col items-start",key:L},[P("div",na,K(p.alias),1),P("div",sa,K(p.pivot.price),1)]))),128))])]}),_:2},1024),n(Ce,{align:"center"},{default:d(()=>[n(R,{flat:"",icon:"delete",color:"negative",onClick:f=>j(o.row)},null,8,["onClick"]),n(R,{flat:"",icon:"add",onClick:f=>o.row._copies++},null,8,["onClick"]),P("div",null,[ia,P("div",ra,K(o.row._copies),1)]),n(R,{flat:"",icon:"remove",onClick:f=>o.row._copies<=1?"":o.row._copies--},null,8,["onClick"])]),_:2},1024)]),_:2},1024)])]),bottom:d(o=>[n(jt,{position:"bottom",class:"full-width",offset:[0,18]},{default:d(()=>[P("div",ua,[n(Je,{rounded:"",flat:"",color:"primary"},{default:d(()=>[o.pagesNumber>2?(re(),we(R,{key:0,icon:"first_page",round:"",dense:"",flat:"",disable:o.isFirstPage,onClick:o.firstPage,class:"q-px-sm"},null,8,["disable","onClick"])):Ie("",!0),n(R,{icon:"chevron_left",round:"",dense:"",flat:"",disable:o.isFirstPage,onClick:o.prevPage,class:"q-px-sm"},null,8,["disable","onClick"]),n(R,{flat:"",disable:"","no-caps":""},{default:d(()=>[me(K(o.pagination.page)+" / "+K(o.pagesNumber),1)]),_:2},1024),n(R,{icon:"chevron_right",round:"",dense:"",flat:"",disable:o.isLastPage,onClick:o.nextPage,class:"q-px-sm"},null,8,["disable","onClick"]),o.pagesNumber>2?(re(),we(R,{key:1,icon:"last_page",round:"",dense:"",flat:"",onClick:o.lastPage,class:"q-px-sm"},null,8,["onClick"])):Ie("",!0)]),_:2},1024)])]),_:2},1024)]),"no-data":d(()=>[]),_:1},8,["rows","filter","pagination"]),n(Ve,{modelValue:C.value.state,"onUpdate:modelValue":u[6]||(u[6]=o=>C.value.state=o),persistent:""},{default:d(()=>[n(ke,null,{default:d(()=>[n(ve,{class:"row items-center"},{default:d(()=>[n(Ue,{icon:"warning",color:"white","text-color":"negative"}),ca]),_:1}),n(ve,null,{default:d(()=>[da]),_:1}),n(Ce,{align:"right"},{default:d(()=>[$e(n(R,{flat:"",label:"No",color:"positive"},null,512),[[Me]]),n(R,{flat:"",label:"Si",color:"negative",onClick:M})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(Ve,{modelValue:m.value.state,"onUpdate:modelValue":u[8]||(u[8]=o=>m.value.state=o),persistent:""},{default:d(()=>[n(ke,null,{default:d(()=>[n(ve,{class:"row items-center"},{default:d(()=>[n(Ue,{icon:"picture_as_pdf",color:"white","text-color":"red"}),va]),_:1}),n(ve,null,{default:d(()=>[n(qt,{modelValue:m.value.val,"onUpdate:modelValue":u[7]||(u[7]=o=>m.value.val=o),options:m.value.opts,label:"Etiquetas",filled:""},null,8,["modelValue","options"])]),_:1}),n(Ce,{align:"right"},{default:d(()=>[$e(n(R,{flat:"",label:"Cancel",color:"negative"},null,512),[[Me]]),n(R,{flat:"",label:"Generar",color:"positive",onClick:ce,disable:m.value.val==null},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(Ve,{modelValue:k.value.state,"onUpdate:modelValue":u[9]||(u[9]=o=>k.value.state=o)},{default:d(()=>[n(ke,{class:"my-card",style:{width:"70%"}},{default:d(()=>[n(ve,{class:"items-center"},{default:d(()=>[fa,P("div",ma,K(k.value.messageRepeat),1)]),_:1}),n(ve,null,{default:d(()=>[ga,n(Ye,null,{default:d(()=>[(re(!0),_e(Pe,null,Le(k.value.wndNoDataFound,(o,f)=>(re(),we(Xe,{key:f},{default:d(()=>[n(Oe,null,{default:d(()=>[n(De,{overline:""},{default:d(()=>[me(K(o.code),1)]),_:2},1024)]),_:2},1024),n(Oe,null,{default:d(()=>[n(De,{caption:""},{default:d(()=>[me(K(o.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),n(ve,null,{default:d(()=>[ha,n(Ye,null,{default:d(()=>[(re(!0),_e(Pe,null,Le(k.value.wndNotExist,(o,f)=>(re(),we(Xe,{key:f},{default:d(()=>[n(Oe,null,{default:d(()=>[n(De,{overline:""},{default:d(()=>[me(K(o),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),n(Ce,{align:"right"},{default:d(()=>[$e(n(R,{flat:"",label:"OK",color:"primary"},null,512),[[Me]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{Ga as default};
