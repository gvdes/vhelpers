import{Q as p}from"./QSpace.abbec46a.js";import{Q as b}from"./QBadge.d2fbaed5.js";import{r as u,Z as v,f as y,u as C,g as S,a as k,h as B,i as t,d as e,k as i,Q as h,l as d,a1 as s,j as r,a7 as D,a4 as N}from"./index.a1c295c1.js";import{a as l}from"./QSelect.9d7be3ea.js";import{Q as V,a as Y,b as m}from"./QList.48a27591.js";import{Q as $}from"./QTable.6dbea056.js";import{Q as I}from"./QPage.280a2f20.js";import{u as M}from"./use-quasar.1aaac9b4.js";import{d as P}from"./dayjs.min.cbcf888d.js";import"./QImg.485359ae.js";import"./QExpansionItem.2f8e3b0c.js";import"./favorites.6b442dd7.js";import"./ClosePopup.e501f1d3.js";import"./axios.9730f76f.js";import{c as R}from"./cyclecountStore.5462be77.js";import"./QTabPanels.ed2b440c.js";import"./QTabs.de6400f4.js";import"./exceljs.min.9e24d01d.js";import"./FileSaver.min.89adfc30.js";import"./QLinearProgress.8ae38f31.js";import"./_commonjsHelpers.88e99c8f.js";import"./QResizeObserver.73aad3aa.js";import"./QScrollObserver.061a8790.js";import"./use-panel.cff6b5f4.js";import"./use-render-cache.3aae9b27.js";const j=["onClick"],L={class:"text-h4 text-primary"},me={__name:"counted",setup(T){u(""),M(),v();const _=y(),f=C(),c=R();c.settitle("Conteo"),c.setshowBtns(!1);const x=u({filter:null,pagination:{rowsPerPage:0}}),Q=S(()=>{let n=f.session.credentials._rol;return[1,2,5,6,12,22,18].includes(n)?c.cyclecounts:c.cyclecounts.filter(o=>o.responsables.some(a=>a.id==f.session.credentials.staff.id_va))}),g=n=>{console.log(n),_.push(`/ciclicos/counted/${n.id}`)},w=u([{name:"red"},{name:"yellow"},{name:"green"},{name:"orange"}]);return(n,o)=>(k(),B(I,{padding:""},{default:t(()=>[e($,{grid:"",rows:Q.value,pagination:x.value.pagination},{item:t(a=>[i("div",{class:"q-pa-xs col-xs-12 col-sm-6 col-md-4",onClick:q=>g(a.row)},[e(h,{flat:"",bordered:""},{default:t(()=>[e(d,{class:"flex flex-left"},{default:t(()=>[i("div",L,s(a.row.id),1),e(p),i("div",null,[e(b,{rounded:"",color:w.value[a.row._status-1].name},null,8,["color"])])]),_:2},1024),e(d,null,{default:t(()=>[e(V,{bordered:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(m,null,{default:t(()=>[e(l,{class:"text-center"},{default:t(()=>o[0]||(o[0]=[r("Almacen:")])),_:1}),e(l,{class:"text-center"},{default:t(()=>[r(s(JSON.parse(a.row.settings).warehouse.name),1)]),_:2},1024)]),_:2},1024),e(m,null,{default:t(()=>[e(l,{class:"text-center"},{default:t(()=>o[1]||(o[1]=[r("Creacion:")])),_:1}),e(l,{class:"text-center"},{default:t(()=>[r(s(D(P)(a.row.created_at).format("YYYY-MM-DD H:m:s")),1)]),_:2},1024)]),_:2},1024),e(m,null,{default:t(()=>[e(l,{class:"text-center"},{default:t(()=>o[2]||(o[2]=[r("Creacion:")])),_:1}),e(l,{class:"text-center"},{default:t(()=>[r(s(a.row.created_by.names),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(N),e(d,{class:"flex flex-left"},{default:t(()=>[i("div",null,s(a.row.products_count)+" Modelos",1),e(p),i("div",null,s(a.row.responsables.length)+" Responsables",1)]),_:2},1024)]),_:2},1024)],8,j)]),_:1},8,["rows","pagination"])]),_:1}))}};export{me as default};
