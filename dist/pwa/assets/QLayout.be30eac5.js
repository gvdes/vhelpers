import{j as w,c as f,k as v,l as Q,m as x,n as p,p as H,q as O,s as V,t as I,v as k,x as F,y as E,z as K,A as Z,B,C as ee,D as te,r as b,E as U,F as M,G as R,H as T,I as ne,J as oe}from"./index.763f4d60.js";var ue=w({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:s}){const n=f(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>v(e.tag,{class:n.value},Q(s.default))}});const ie={dark:{type:Boolean,default:null}};function re(e,s){return f(()=>e.dark===null?s.dark.isActive:e.dark)}let z=[],C=[];function G(e){C=C.filter(s=>s!==e)}function de(e){G(e),C.push(e)}function fe(e){G(e),C.length===0&&z.length>0&&(z[z.length-1](),z=[])}function ve(e){C.length===0?e():z.push(e)}function he(e){z=z.filter(s=>s!==e)}var ge=w({name:"QCard",props:{...ie,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:s}){const{proxy:{$q:n}}=x(),t=re(e,n),a=f(()=>"q-card"+(t.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>v(e.tag,{class:a.value},Q(s.default))}}),me=w({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:s}){const{proxy:{$q:n}}=x(),t=H(O,p);if(t===p)return console.error("QPage needs to be a deep child of QLayout"),p;if(H(V,p)===p)return console.error("QPage needs to be child of QPageContainer"),p;const l=f(()=>{const u=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const r=t.isContainer.value===!0?t.containerHeight.value:n.screen.height;return e.styleFn(u,r)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-u+"px":n.screen.height===0?u!==0?`calc(100vh - ${u}px)`:"100vh":n.screen.height-u+"px"}}),c=f(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>v("main",{class:c.value,style:l.value},Q(s.default))}}),pe=w({name:"QPageContainer",setup(e,{slots:s}){const{proxy:{$q:n}}=x(),t=H(O,p);if(t===p)return console.error("QPageContainer needs to be child of QLayout"),p;I(V,!0);const a=f(()=>{const l={};return t.header.space===!0&&(l.paddingTop=`${t.header.size}px`),t.right.space===!0&&(l[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(l.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(l[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),l});return()=>v("div",{class:"q-page-container",style:a.value},Q(s.default))}});const{passive:_}=B,ae=["both","horizontal","vertical"];var le=w({name:"QScrollObserver",props:{axis:{type:String,validator:e=>ae.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:s}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,a,l;k(()=>e.scrollTarget,()=>{r(),u()});function c(){t!==null&&t();const m=Math.max(0,ee(a)),S=te(a),h={top:m-n.position.top,left:S-n.position.left};if(e.axis==="vertical"&&h.top===0||e.axis==="horizontal"&&h.left===0)return;const $=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";n.position={top:m,left:S},n.directionChanged=n.direction!==$,n.delta=h,n.directionChanged===!0&&(n.direction=$,n.inflectionPoint=n.position),s("scroll",{...n})}function u(){a=Z(l,e.scrollTarget),a.addEventListener("scroll",i,_),i(!0)}function r(){a!==void 0&&(a.removeEventListener("scroll",i,_),a=void 0)}function i(m){if(m===!0||e.debounce===0||e.debounce==="0")c();else if(t===null){const[S,h]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];t=()=>{h(S),t=null}}}const{proxy:g}=x();return k(()=>g.$q.lang.rtl,c),F(()=>{l=g.$el.parentNode,u()}),E(()=>{t!==null&&t(),r()}),Object.assign(g,{trigger:i,getPosition:()=>n}),K}});function se(){const e=b(!U.value);return e.value===!1&&F(()=>{e.value=!0}),e}const J=typeof ResizeObserver!="undefined",A=J===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var N=w({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:s}){let n=null,t,a={width:-1,height:-1};function l(r){r===!0||e.debounce===0||e.debounce==="0"?c():n===null&&(n=setTimeout(c,e.debounce))}function c(){if(n!==null&&(clearTimeout(n),n=null),t){const{offsetWidth:r,offsetHeight:i}=t;(r!==a.width||i!==a.height)&&(a={width:r,height:i},s("resize",a))}}const{proxy:u}=x();if(J===!0){let r;const i=g=>{t=u.$el.parentNode,t?(r=new ResizeObserver(l),r.observe(t),c()):g!==!0&&M(()=>{i(!0)})};return F(()=>{i()}),E(()=>{n!==null&&clearTimeout(n),r!==void 0&&(r.disconnect!==void 0?r.disconnect():t&&r.unobserve(t))}),K}else{let g=function(){n!==null&&(clearTimeout(n),n=null),i!==void 0&&(i.removeEventListener!==void 0&&i.removeEventListener("resize",l,B.passive),i=void 0)},m=function(){g(),t&&t.contentDocument&&(i=t.contentDocument.defaultView,i.addEventListener("resize",l,B.passive),c())};const r=se();let i;return F(()=>{M(()=>{t=u.$el,t&&m()})}),E(g),u.trigger=l,()=>{if(r.value===!0)return v("object",{style:A.style,tabindex:-1,type:"text/html",data:A.url,"aria-hidden":"true",onLoad:m})}}}}),ye=w({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:s,emit:n}){const{proxy:{$q:t}}=x(),a=b(null),l=b(t.screen.height),c=b(e.container===!0?0:t.screen.width),u=b({position:0,direction:"down",inflectionPoint:0}),r=b(0),i=b(U.value===!0?0:R()),g=f(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),m=f(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),S=f(()=>i.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${i.value}px`}:null),h=f(()=>i.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${i.value}px`,width:`calc(100% + ${i.value}px)`}:null);function $(o){if(e.container===!0||document.qScrollPrevented!==!0){const d={position:o.position.top,direction:o.direction,directionChanged:o.directionChanged,inflectionPoint:o.inflectionPoint.top,delta:o.delta.top};u.value=d,e.onScroll!==void 0&&n("scroll",d)}}function X(o){const{height:d,width:y}=o;let q=!1;l.value!==d&&(q=!0,l.value=d,e.onScrollHeight!==void 0&&n("scrollHeight",d),D()),c.value!==y&&(q=!0,c.value=y),q===!0&&e.onResize!==void 0&&n("resize",o)}function Y({height:o}){r.value!==o&&(r.value=o,D())}function D(){if(e.container===!0){const o=l.value>r.value?R():0;i.value!==o&&(i.value=o)}}let P=null;const W={instances:{},view:f(()=>e.view),isContainer:f(()=>e.container),rootRef:a,height:l,containerHeight:r,scrollbarWidth:i,totalWidth:f(()=>c.value+i.value),rows:f(()=>{const o=e.view.toLowerCase().split(" ");return{top:o[0].split(""),middle:o[1].split(""),bottom:o[2].split("")}}),header:T({size:0,offset:0,space:!1}),right:T({size:300,offset:0,space:!1}),footer:T({size:0,offset:0,space:!1}),left:T({size:300,offset:0,space:!1}),scroll:u,animate(){P!==null?clearTimeout(P):document.body.classList.add("q-body--layout-animate"),P=setTimeout(()=>{P=null,document.body.classList.remove("q-body--layout-animate")},155)},update(o,d,y){W[o][d]=y}};if(I(O,W),R()>0){let y=function(){o=null,d.classList.remove("hide-scrollbar")},q=function(){if(o===null){if(d.scrollHeight>t.screen.height)return;d.classList.add("hide-scrollbar")}else clearTimeout(o);o=setTimeout(y,300)},L=function(j){o!==null&&j==="remove"&&(clearTimeout(o),y()),window[`${j}EventListener`]("resize",q)},o=null;const d=document.body;k(()=>e.container!==!0?"add":"remove",L),e.container!==!0&&L("add"),ne(()=>{L("remove")})}return()=>{const o=oe(s.default,[v(le,{onScroll:$}),v(N,{onResize:X})]),d=v("div",{class:g.value,style:m.value,ref:e.container===!0?void 0:a,tabindex:-1},o);return e.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:a},[v(N,{onResize:Y}),v("div",{class:"absolute-full",style:S.value},[v("div",{class:"scroll",style:h.value},[d])])]):d}}});export{ye as Q,me as a,ge as b,ue as c,pe as d,ve as e,re as f,N as g,fe as h,de as i,le as j,he as r,ie as u};
