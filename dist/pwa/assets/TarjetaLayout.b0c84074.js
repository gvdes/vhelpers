import{Q as Qe}from"./QSeparator.ea6140ac.js";import{c as S,aP as Et,aQ as Zt,j as Gt,r as R,v as xe,k as D,W as Te,l as Kt,m as Jt,aI as Xt,F as st,Q as H,o as je,a as Wt,w as E,e as g,i as q,a3 as G,U as it,g as ut,h as dt,a4 as te,a2 as ct,a5 as ea}from"./index.4a8ccb08.js";import{a as Se,Q as ta}from"./axios.c1cb7215.js";import{_ as aa,Q as na,a as Ue,C as ft}from"./UserToolbar.57932e4d.js";import{d as la,j as oa,i as ra,Q as sa}from"./QInput.02b0dda2.js";import{Q as ia}from"./QTable.5998c46f.js";import{Q as ua}from"./QSpinnerFacebook.52a90d0f.js";import{Q as da}from"./QTooltip.a1ab2e74.js";import{Q as Ce}from"./QDialog.f2789095.js";import{u as ca,e as fa,Q as va,a as Ae,b as ae,c as ma}from"./QLayout.a60f97f2.js";import{Q as vt,a as ne}from"./QItem.343d6a4c.js";import{Q as ha}from"./QList.0c2710dc.js";import{p as w,Q as mt}from"./QSelect.f8d14f54.js";import{Q as ga}from"./QForm.3b8451ab.js";import{u as ya}from"./use-cache.b0833c75.js";import{Q as _a}from"./QPage.0cd814f6.js";import{u as pa}from"./VDB.1f939cea.js";import{u as ba}from"./use-quasar.2beb3990.js";import{E as ht,a as gt}from"./jspdf.plugin.autotable.820fa572.js";import{a as xa}from"./axios.015cef45.js";import"./QLinearProgress.5863eb44.js";import"./QCheckbox.acfa69b0.js";import"./position-engine.eb629977.js";import"./_commonjsHelpers.88e99c8f.js";const de=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Ta(e,o,i){return Object.prototype.toString.call(e)==="[object Date]"&&(i=e.getDate(),o=e.getMonth()+1,e=e.getFullYear()),Ma(Ze(e,o,i))}function yt(e,o,i){return It(Ea(e,o,i))}function Ca(e){return Da(e)===0}function we(e,o){return o<=6?31:o<=11||Ca(e)?30:29}function Da(e){const o=de.length;let i=de[0],d,v,r,x,u;if(e<i||e>=de[o-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<o&&(d=de[u],v=d-i,!(e<d));u+=1)i=d;return x=e-i,v-x<6&&(x=x-v+N(v+4,33)*33),r=K(K(x+1,33)-1,4),r===-1&&(r=4),r}function Mt(e,o){const i=de.length,d=e+621;let v=-14,r=de[0],x,u,m,A,h;if(e<r||e>=de[i-1])throw new Error("Invalid Jalaali year "+e);for(h=1;h<i&&(x=de[h],u=x-r,!(e<x));h+=1)v=v+N(u,33)*8+N(K(u,33),4),r=x;A=e-r,v=v+N(A,33)*8+N(K(A,33)+3,4),K(u,33)===4&&u-A===4&&(v+=1);const I=N(d,4)-N((N(d,100)+1)*3,4)-150,F=20+v-I;return o||(u-A<6&&(A=A-u+N(u+4,33)*33),m=K(K(A+1,33)-1,4),m===-1&&(m=4)),{leap:m,gy:d,march:F}}function Ea(e,o,i){const d=Mt(e,!0);return Ze(d.gy,3,d.march)+(o-1)*31-N(o,7)*(o-7)+i-1}function Ma(e){const o=It(e).gy;let i=o-621,d,v,r;const x=Mt(i,!1),u=Ze(o,3,x.march);if(r=e-u,r>=0){if(r<=185)return v=1+N(r,31),d=K(r,31)+1,{jy:i,jm:v,jd:d};r-=186}else i-=1,r+=179,x.leap===1&&(r+=1);return v=7+N(r,30),d=K(r,30)+1,{jy:i,jm:v,jd:d}}function Ze(e,o,i){let d=N((e+N(o-8,6)+100100)*1461,4)+N(153*K(o+9,12)+2,5)+i-34840408;return d=d-N(N(e+100100+N(o-8,6),100)*3,4)+752,d}function It(e){let o=4*e+139361631;o=o+N(N(4*e+183187720,146097)*3,4)*4-3908;const i=N(K(o,1461),4)*5+308,d=N(K(i,153),5)+1,v=K(N(i,153),12)+1;return{gy:N(o,1461)-100100+N(8-v,6),gm:v,gd:d}}function N(e,o){return~~(e/o)}function K(e,o){return e-~~(e/o)*o}const Ia=["gregorian","persian"],Sa={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ia.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Aa=["update:modelValue"];function ie(e){return e.year+"/"+w(e.month)+"/"+w(e.day)}function Oa(e,o){const i=S(()=>e.disable!==!0&&e.readonly!==!0),d=S(()=>i.value===!0?0:-1),v=S(()=>{const u=[];return e.color!==void 0&&u.push(`bg-${e.color}`),e.textColor!==void 0&&u.push(`text-${e.textColor}`),u.join(" ")});function r(){return e.locale!==void 0?{...o.lang.date,...e.locale}:o.lang.date}function x(u){const m=new Date,A=u===!0?null:0;if(e.calendar==="persian"){const h=Ta(m);return{year:h.jy,month:h.jm,day:h.jd}}return{year:m.getFullYear(),month:m.getMonth()+1,day:m.getDate(),hour:A,minute:A,second:A,millisecond:A}}return{editable:i,tabindex:d,headerClass:v,getLocale:r,getCurrentDate:x}}const St=864e5,wa=36e5,Be=6e4,At="YYYY-MM-DDTHH:mm:ss.SSSZ",Va=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Na=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,ke={};function Fa(e,o){const i="("+o.days.join("|")+")",d=e+i;if(ke[d]!==void 0)return ke[d];const v="("+o.daysShort.join("|")+")",r="("+o.months.join("|")+")",x="("+o.monthsShort.join("|")+")",u={};let m=0;const A=e.replace(Na,I=>{switch(m++,I){case"YY":return u.YY=m,"(-?\\d{1,2})";case"YYYY":return u.YYYY=m,"(-?\\d{1,4})";case"M":return u.M=m,"(\\d{1,2})";case"MM":return u.M=m,"(\\d{2})";case"MMM":return u.MMM=m,x;case"MMMM":return u.MMMM=m,r;case"D":return u.D=m,"(\\d{1,2})";case"Do":return u.D=m++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return u.D=m,"(\\d{2})";case"H":return u.H=m,"(\\d{1,2})";case"HH":return u.H=m,"(\\d{2})";case"h":return u.h=m,"(\\d{1,2})";case"hh":return u.h=m,"(\\d{2})";case"m":return u.m=m,"(\\d{1,2})";case"mm":return u.m=m,"(\\d{2})";case"s":return u.s=m,"(\\d{1,2})";case"ss":return u.s=m,"(\\d{2})";case"S":return u.S=m,"(\\d{1})";case"SS":return u.S=m,"(\\d{2})";case"SSS":return u.S=m,"(\\d{3})";case"A":return u.A=m,"(AM|PM)";case"a":return u.a=m,"(am|pm)";case"aa":return u.aa=m,"(a\\.m\\.|p\\.m\\.)";case"ddd":return v;case"dddd":return i;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return u.Z=m,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return u.ZZ=m,"(Z|[+-]\\d{2}\\d{2})";case"X":return u.X=m,"(-?\\d+)";case"x":return u.x=m,"(-?\\d{4,})";default:return m--,I[0]==="["&&(I=I.substring(1,I.length-1)),I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),h={map:u,regex:new RegExp("^"+A)};return ke[d]=h,h}function Ot(e,o){return e!==void 0?e:o!==void 0?o.date:Zt.date}function _t(e,o=""){const i=e>0?"-":"+",d=Math.abs(e),v=Math.floor(d/60),r=d%60;return i+w(v)+o+w(r)}function Ya(e,o,i,d,v){const r={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(v!==void 0&&Object.assign(r,v),e==null||e===""||typeof e!="string")return r;o===void 0&&(o=At);const x=Ot(i,Et.props),u=x.months,m=x.monthsShort,{regex:A,map:h}=Fa(o,x),I=e.match(A);if(I===null)return r;let F="";if(h.X!==void 0||h.x!==void 0){const z=parseInt(I[h.X!==void 0?h.X:h.x],10);if(isNaN(z)===!0||z<0)return r;const B=new Date(z*(h.X!==void 0?1e3:1));r.year=B.getFullYear(),r.month=B.getMonth()+1,r.day=B.getDate(),r.hour=B.getHours(),r.minute=B.getMinutes(),r.second=B.getSeconds(),r.millisecond=B.getMilliseconds()}else{if(h.YYYY!==void 0)r.year=parseInt(I[h.YYYY],10);else if(h.YY!==void 0){const z=parseInt(I[h.YY],10);r.year=z<0?z:2e3+z}if(h.M!==void 0){if(r.month=parseInt(I[h.M],10),r.month<1||r.month>12)return r}else h.MMM!==void 0?r.month=m.indexOf(I[h.MMM])+1:h.MMMM!==void 0&&(r.month=u.indexOf(I[h.MMMM])+1);if(h.D!==void 0){if(r.day=parseInt(I[h.D],10),r.year===null||r.month===null||r.day<1)return r;const z=d!=="persian"?new Date(r.year,r.month,0).getDate():we(r.year,r.month);if(r.day>z)return r}h.H!==void 0?r.hour=parseInt(I[h.H],10)%24:h.h!==void 0&&(r.hour=parseInt(I[h.h],10)%12,(h.A&&I[h.A]==="PM"||h.a&&I[h.a]==="pm"||h.aa&&I[h.aa]==="p.m.")&&(r.hour+=12),r.hour=r.hour%24),h.m!==void 0&&(r.minute=parseInt(I[h.m],10)%60),h.s!==void 0&&(r.second=parseInt(I[h.s],10)%60),h.S!==void 0&&(r.millisecond=parseInt(I[h.S],10)*10**(3-I[h.S].length)),(h.Z!==void 0||h.ZZ!==void 0)&&(F=h.Z!==void 0?I[h.Z].replace(":",""):I[h.ZZ],r.timezoneOffset=(F[0]==="+"?-1:1)*(60*F.slice(1,3)+1*F.slice(3,5)))}return r.dateHash=w(r.year,6)+"/"+w(r.month)+"/"+w(r.day),r.timeHash=w(r.hour)+":"+w(r.minute)+":"+w(r.second)+F,r}function pt(e){const o=new Date(e.getFullYear(),e.getMonth(),e.getDate());o.setDate(o.getDate()-(o.getDay()+6)%7+3);const i=new Date(o.getFullYear(),0,4);i.setDate(i.getDate()-(i.getDay()+6)%7+3);const d=o.getTimezoneOffset()-i.getTimezoneOffset();o.setHours(o.getHours()-d);const v=(o-i)/(St*7);return 1+Math.floor(v)}function oe(e,o,i){const d=new Date(e),v=`set${i===!0?"UTC":""}`;switch(o){case"year":case"years":d[`${v}Month`](0);case"month":case"months":d[`${v}Date`](1);case"day":case"days":case"date":d[`${v}Hours`](0);case"hour":case"hours":d[`${v}Minutes`](0);case"minute":case"minutes":d[`${v}Seconds`](0);case"second":case"seconds":d[`${v}Milliseconds`](0)}return d}function Oe(e,o,i){return(e.getTime()-e.getTimezoneOffset()*Be-(o.getTime()-o.getTimezoneOffset()*Be))/i}function wt(e,o,i="days"){const d=new Date(e),v=new Date(o);switch(i){case"years":case"year":return d.getFullYear()-v.getFullYear();case"months":case"month":return(d.getFullYear()-v.getFullYear())*12+d.getMonth()-v.getMonth();case"days":case"day":case"date":return Oe(oe(d,"day"),oe(v,"day"),St);case"hours":case"hour":return Oe(oe(d,"hour"),oe(v,"hour"),wa);case"minutes":case"minute":return Oe(oe(d,"minute"),oe(v,"minute"),Be);case"seconds":case"second":return Oe(oe(d,"second"),oe(v,"second"),1e3)}}function bt(e){return wt(e,oe(e,"year"),"days")+1}function xt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Tt={YY(e,o,i){const d=this.YYYY(e,o,i)%100;return d>=0?w(d):"-"+w(Math.abs(d))},YYYY(e,o,i){return i!=null?i:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return w(e.getMonth()+1)},MMM(e,o){return o.monthsShort[e.getMonth()]},MMMM(e,o){return o.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return xt(this.Q(e))},D(e){return e.getDate()},Do(e){return xt(e.getDate())},DD(e){return w(e.getDate())},DDD(e){return bt(e)},DDDD(e){return w(bt(e),3)},d(e){return e.getDay()},dd(e,o){return this.dddd(e,o).slice(0,2)},ddd(e,o){return o.daysShort[e.getDay()]},dddd(e,o){return o.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return pt(e)},ww(e){return w(pt(e))},H(e){return e.getHours()},HH(e){return w(e.getHours())},h(e){const o=e.getHours();return o===0?12:o>12?o%12:o},hh(e){return w(this.h(e))},m(e){return e.getMinutes()},mm(e){return w(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return w(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return w(Math.floor(e.getMilliseconds()/10))},SSS(e){return w(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,o,i,d){const v=d==null?e.getTimezoneOffset():d;return _t(v,":")},ZZ(e,o,i,d){const v=d==null?e.getTimezoneOffset():d;return _t(v)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ha(e,o,i,d,v){if(e!==0&&!e||e===1/0||e===-1/0)return;const r=new Date(e);if(isNaN(r))return;o===void 0&&(o=At);const x=Ot(i,Et.props);return o.replace(Va,(u,m)=>u in Tt?Tt[u](r,x,d,v):m===void 0?u:m.split("\\]").join("]"))}const fe=20,Ra=["Calendar","Years","Months"],Ct=e=>Ra.includes(e),ze=e=>/^-?[\d]+\/[0-1]\d$/.test(e),ye=" \u2014 ";function ue(e){return e.year+"/"+w(e.month)}var Pa=Gt({name:"QDate",props:{...Sa,...la,...ca,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:ze},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:ze},navigationMaxYearMonth:{type:String,validator:ze},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Ct}},emits:[...Aa,"rangeStart","rangeEnd","navigation"],setup(e,{slots:o,emit:i}){const{proxy:d}=Jt(),{$q:v}=d,r=fa(e,v),{getCache:x}=ya(),{tabindex:u,headerClass:m,getLocale:A,getCurrentDate:h}=Oa(e,v);let I;const F=oa(e),z=ra(F),B=R(null),le=R(et()),Y=R(A()),Ve=S(()=>et()),Ne=S(()=>A()),X=S(()=>h()),T=R(tt(le.value,Y.value)),Q=R(e.defaultView),De=v.lang.rtl===!0?"right":"left",ve=R(De.value),s=R(De.value),y=T.value.year,p=R(y-y%fe-(y<0?fe:0)),b=R(null),$=S(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(r.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),C=S(()=>e.color||"primary"),l=S(()=>e.textColor||"white"),W=S(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),P=S(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),Z=S(()=>P.value.filter(t=>typeof t=="string").map(t=>Re(t,le.value,Y.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),ee=S(()=>{const t=a=>Re(a,le.value,Y.value);return P.value.filter(a=>Xt(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),L=S(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=yt(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),me=S(()=>e.calendar==="persian"?ie:(t,a,n)=>Ha(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?le.value:a,n===void 0?Y.value:n,t.year,t.timezoneOffset)),re=S(()=>Z.value.length+ee.value.reduce((t,a)=>t+1+wt(L.value(a.to),L.value(a.from)),0)),_e=S(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length>0)return e.title;if(b.value!==null){const n=b.value.init,f=L.value(n);return Y.value.daysShort[f.getDay()]+", "+Y.value.monthsShort[n.month-1]+" "+n.day+ye+"?"}if(re.value===0)return ye;if(re.value>1)return`${re.value} ${Y.value.pluralDay}`;const t=Z.value[0],a=L.value(t);return isNaN(a.valueOf())===!0?ye:Y.value.headerTitle!==void 0?Y.value.headerTitle(a,t):Y.value.daysShort[a.getDay()]+", "+Y.value.monthsShort[t.month-1]+" "+t.day}),Fe=S(()=>Z.value.concat(ee.value.map(a=>a.from)).sort((a,n)=>a.year-n.year||a.month-n.month)[0]),j=S(()=>Z.value.concat(ee.value.map(a=>a.to)).sort((a,n)=>n.year-a.year||n.month-a.month)[0]),Ge=S(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length>0)return e.subtitle;if(re.value===0)return ye;if(re.value>1){const t=Fe.value,a=j.value,n=Y.value.monthsShort;return n[t.month-1]+(t.year!==a.year?" "+t.year+ye+n[a.month-1]+" ":t.month!==a.month?ye+n[a.month-1]:"")+" "+a.year}return Z.value[0].year}),Ee=S(()=>{const t=[v.iconSet.datetime.arrowLeft,v.iconSet.datetime.arrowRight];return v.lang.rtl===!0?t.reverse():t}),Ke=S(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):Y.value.firstDayOfWeek),Vt=S(()=>{const t=Y.value.daysShort,a=Ke.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),se=S(()=>{const t=T.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():we(t.year,t.month)}),Nt=S(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),U=S(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),k=S(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Ye=S(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return U.value!==null&&U.value.year>=T.value.year&&(t.year.prev=!1,U.value.year===T.value.year&&U.value.month>=T.value.month&&(t.month.prev=!1)),k.value!==null&&k.value.year<=T.value.year&&(t.year.next=!1,k.value.year===T.value.year&&k.value.month<=T.value.month&&(t.month.next=!1)),t}),Me=S(()=>{const t={};return Z.value.forEach(a=>{const n=ue(a);t[n]===void 0&&(t[n]=[]),t[n].push(a.day)}),t}),Je=S(()=>{const t={};return ee.value.forEach(a=>{const n=ue(a.from),f=ue(a.to);if(t[n]===void 0&&(t[n]=[]),t[n].push({from:a.from.day,to:n===f?a.to.day:void 0,range:a}),n<f){let c;const{year:O,month:_}=a.from,M=_<12?{year:O,month:_+1}:{year:O+1,month:1};for(;(c=ue(M))<=f;)t[c]===void 0&&(t[c]=[]),t[c].push({from:void 0,to:c===f?a.to.day:void 0,range:a}),M.month++,M.month>12&&(M.year++,M.month=1)}}),t}),pe=S(()=>{if(b.value===null)return;const{init:t,initHash:a,final:n,finalHash:f}=b.value,[c,O]=a<=f?[t,n]:[n,t],_=ue(c),M=ue(O);if(_!==J.value&&M!==J.value)return;const V={};return _===J.value?(V.from=c.day,V.includeFrom=!0):V.from=1,M===J.value?(V.to=O.day,V.includeTo=!0):V.to=se.value,V}),J=S(()=>ue(T.value)),Ft=S(()=>{const t={};if(e.options===void 0){for(let n=1;n<=se.value;n++)t[n]=!0;return t}const a=typeof e.options=="function"?e.options:n=>e.options.includes(n);for(let n=1;n<=se.value;n++){const f=J.value+"/"+w(n);t[n]=a(f)}return t}),Yt=S(()=>{const t={};if(e.events===void 0)for(let a=1;a<=se.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:n=>e.events.includes(n);for(let n=1;n<=se.value;n++){const f=J.value+"/"+w(n);t[n]=a(f)===!0&&Nt.value(f)}}return t}),Ht=S(()=>{let t,a;const{year:n,month:f}=T.value;if(e.calendar!=="persian")t=new Date(n,f-1,1),a=new Date(n,f-1,0).getDate();else{const c=yt(n,f,1);t=new Date(c.gy,c.gm-1,c.gd);let O=f-1,_=n;O===0&&(O=12,_--),a=we(_,O)}return{days:t.getDay()-Ke.value-1,endDay:a}}),Xe=S(()=>{const t=[],{days:a,endDay:n}=Ht.value,f=a<0?a+7:a;if(f<6)for(let _=n-f;_<=n;_++)t.push({i:_,fill:!0});const c=t.length;for(let _=1;_<=se.value;_++){const M={i:_,event:Yt.value[_],classes:[]};Ft.value[_]===!0&&(M.in=!0,M.flat=!0),t.push(M)}if(Me.value[J.value]!==void 0&&Me.value[J.value].forEach(_=>{const M=c+_-1;Object.assign(t[M],{selected:!0,unelevated:!0,flat:!1,color:C.value,textColor:l.value})}),Je.value[J.value]!==void 0&&Je.value[J.value].forEach(_=>{if(_.from!==void 0){const M=c+_.from-1,V=c+(_.to||se.value)-1;for(let be=M;be<=V;be++)Object.assign(t[be],{range:_.range,unelevated:!0,color:C.value,textColor:l.value});Object.assign(t[M],{rangeFrom:!0,flat:!1}),_.to!==void 0&&Object.assign(t[V],{rangeTo:!0,flat:!1})}else if(_.to!==void 0){const M=c+_.to-1;for(let V=c;V<=M;V++)Object.assign(t[V],{range:_.range,unelevated:!0,color:C.value,textColor:l.value});Object.assign(t[M],{flat:!1,rangeTo:!0})}else{const M=c+se.value-1;for(let V=c;V<=M;V++)Object.assign(t[V],{range:_.range,unelevated:!0,color:C.value,textColor:l.value})}}),pe.value!==void 0){const _=c+pe.value.from-1,M=c+pe.value.to-1;for(let V=_;V<=M;V++)t[V].color=C.value,t[V].editRange=!0;pe.value.includeFrom===!0&&(t[_].editRangeFrom=!0),pe.value.includeTo===!0&&(t[M].editRangeTo=!0)}T.value.year===X.value.year&&T.value.month===X.value.month&&(t[c+X.value.day-1].today=!0);const O=t.length%7;if(O>0){const _=7-O;for(let M=1;M<=_;M++)t.push({i:M,fill:!0})}return t.forEach(_=>{let M="q-date__calendar-item ";_.fill===!0?M+="q-date__calendar-item--fill":(M+=`q-date__calendar-item--${_.in===!0?"in":"out"}`,_.range!==void 0&&(M+=` q-date__range${_.rangeTo===!0?"-to":_.rangeFrom===!0?"-from":""}`),_.editRange===!0&&(M+=` q-date__edit-range${_.editRangeFrom===!0?"-from":""}${_.editRangeTo===!0?"-to":""}`),(_.range!==void 0||_.editRange===!0)&&(M+=` text-${_.color}`)),_.classes=M}),t}),Rt=S(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});xe(()=>e.modelValue,t=>{if(I===t)I=0;else{const a=tt(le.value,Y.value);he(a.year,a.month,a)}}),xe(Q,()=>{B.value!==null&&d.$el.contains(document.activeElement)===!0&&B.value.focus()}),xe(()=>T.value.year+"|"+T.value.month,()=>{i("navigation",{year:T.value.year,month:T.value.month})}),xe(Ve,t=>{rt(t,Y.value,"mask"),le.value=t}),xe(Ne,t=>{rt(le.value,t,"locale"),Y.value=t});function We(){const t=X.value,a=Me.value[ue(t)];(a===void 0||a.includes(t.day)===!1)&&Le(t),He(t.year,t.month)}function Pt(t){Ct(t)===!0&&(Q.value=t)}function Lt(t,a){["month","year"].includes(t)&&(t==="month"?nt:Pe)(a===!0?-1:1)}function He(t,a){Q.value="Calendar",he(t,a)}function $t(t,a){if(e.range===!1||!t){b.value=null;return}const n=Object.assign({...T.value},t),f=a!==void 0?Object.assign({...T.value},a):n;b.value={init:n,initHash:ie(n),final:f,finalHash:ie(f)},He(n.year,n.month)}function et(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Re(t,a,n){return Ya(t,a,n,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function tt(t,a){const n=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(n.length===0)return at();const f=n[n.length-1],c=Re(f.from!==void 0?f.from:f,t,a);return c.dateHash===null?at():c}function at(){let t,a;if(e.defaultYearMonth!==void 0){const n=e.defaultYearMonth.split("/");t=parseInt(n[0],10),a=parseInt(n[1],10)}else{const n=X.value!==void 0?X.value:h();t=n.year,a=n.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+w(a)+"/01"}}function nt(t){let a=T.value.year,n=Number(T.value.month)+t;n===13?(n=1,a++):n===0&&(n=12,a--),he(a,n),W.value===!0&&Ie("month")}function Pe(t){const a=Number(T.value.year)+t;he(a,T.value.month),W.value===!0&&Ie("year")}function qt(t){he(t,T.value.month),Q.value=e.defaultView==="Years"?"Months":"Calendar",W.value===!0&&Ie("year")}function Qt(t){he(T.value.year,t),Q.value="Calendar",W.value===!0&&Ie("month")}function jt(t,a){const n=Me.value[a];(n!==void 0&&n.includes(t.day)===!0?$e:Le)(t)}function ce(t){return{year:t.year,month:t.month,day:t.day}}function he(t,a,n){if(U.value!==null&&t<=U.value.year&&(t=U.value.year,a<U.value.month&&(a=U.value.month)),k.value!==null&&t>=k.value.year&&(t=k.value.year,a>k.value.month&&(a=k.value.month)),n!==void 0){const{hour:c,minute:O,second:_,millisecond:M,timezoneOffset:V,timeHash:be}=n;Object.assign(T.value,{hour:c,minute:O,second:_,millisecond:M,timezoneOffset:V,timeHash:be})}const f=t+"/"+w(a)+"/01";f!==T.value.dateHash&&(ve.value=T.value.dateHash<f==(v.lang.rtl!==!0)?"left":"right",t!==T.value.year&&(s.value=ve.value),st(()=>{p.value=t-t%fe-(t<0?fe:0),Object.assign(T.value,{year:t,month:a,day:1,dateHash:f})}))}function lt(t,a,n){const f=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;I=f;const{reason:c,details:O}=ot(a,n);i("update:modelValue",f,c,O)}function Ie(t){const a=Z.value[0]!==void 0&&Z.value[0].dateHash!==null?{...Z.value[0]}:{...T.value};st(()=>{a.year=T.value.year,a.month=T.value.month;const n=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():we(a.year,a.month);a.day=Math.min(Math.max(1,a.day),n);const f=ge(a);I=f;const{details:c}=ot("",a);i("update:modelValue",f,t,c)})}function ot(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...ce(a.target),from:ce(a.from),to:ce(a.to)}}:{reason:`${t}-day`,details:ce(a)}}function ge(t,a,n){return t.from!==void 0?{from:me.value(t.from,a,n),to:me.value(t.to,a,n)}:me.value(t,a,n)}function Le(t){let a;if(e.multiple===!0)if(t.from!==void 0){const n=ie(t.from),f=ie(t.to),c=Z.value.filter(_=>_.dateHash<n||_.dateHash>f),O=ee.value.filter(({from:_,to:M})=>M.dateHash<n||_.dateHash>f);a=c.concat(O).concat(t).map(_=>ge(_))}else{const n=P.value.slice();n.push(ge(t)),a=n}else a=ge(t);lt(a,"add",t)}function $e(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const n=ge(t);t.from!==void 0?a=e.modelValue.filter(f=>f.from!==void 0?f.from!==n.from&&f.to!==n.to:!0):a=e.modelValue.filter(f=>f!==n),a.length===0&&(a=null)}lt(a,"remove",t)}function rt(t,a,n){const f=Z.value.concat(ee.value).map(c=>ge(c,t,a)).filter(c=>c.from!==void 0?c.from.dateHash!==null&&c.to.dateHash!==null:c.dateHash!==null);i("update:modelValue",(e.multiple===!0?f:f[0])||null,n)}function Ut(){if(e.minimal!==!0)return D("div",{class:"q-date__header "+m.value},[D("div",{class:"relative-position"},[D(Te,{name:"q-transition--fade"},()=>D("div",{key:"h-yr-"+Ge.value,class:"q-date__header-subtitle q-date__header-link "+(Q.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...x("vY",{onClick(){Q.value="Years"},onKeyup(t){t.keyCode===13&&(Q.value="Years")}})},[Ge.value]))]),D("div",{class:"q-date__header-title relative-position flex no-wrap"},[D("div",{class:"relative-position col"},[D(Te,{name:"q-transition--fade"},()=>D("div",{key:"h-sub"+_e.value,class:"q-date__header-title-label q-date__header-link "+(Q.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...x("vC",{onClick(){Q.value="Calendar"},onKeyup(t){t.keyCode===13&&(Q.value="Calendar")}})},[_e.value]))]),e.todayBtn===!0?D(H,{class:"q-date__header-today self-start",icon:v.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:u.value,onClick:We}):null])])}function qe({label:t,type:a,key:n,dir:f,goTo:c,boundaries:O,cls:_}){return[D("div",{class:"row items-center q-date__arrow"},[D(H,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ee.value[0],tabindex:u.value,disable:O.prev===!1,...x("go-#"+a,{onClick(){c(-1)}})})]),D("div",{class:"relative-position overflow-hidden flex flex-center"+_},[D(Te,{name:"q-transition--jump-"+f},()=>D("div",{key:n},[D(H,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:u.value,...x("view#"+a,{onClick:()=>{Q.value=a}})})]))]),D("div",{class:"row items-center q-date__arrow"},[D(H,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ee.value[1],tabindex:u.value,disable:O.next===!1,...x("go+#"+a,{onClick(){c(1)}})})])]}const kt={Calendar:()=>[D("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[D("div",{class:"q-date__navigation row items-center no-wrap"},qe({label:Y.value.months[T.value.month-1],type:"Months",key:T.value.month,dir:ve.value,goTo:nt,boundaries:Ye.value.month,cls:" col"}).concat(qe({label:T.value.year,type:"Years",key:T.value.year,dir:s.value,goTo:Pe,boundaries:Ye.value.year,cls:""}))),D("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Vt.value.map(t=>D("div",{class:"q-date__calendar-item"},[D("div",t)]))),D("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[D(Te,{name:"q-transition--slide-"+ve.value},()=>D("div",{key:J.value,class:"q-date__calendar-days fit"},Xe.value.map(t=>D("div",{class:t.classes},[t.in===!0?D(H,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:u.value,...x("day#"+t.i,{onClick:()=>{zt(t.i)},onMouseover:()=>{Bt(t.i)}})},t.event!==!1?()=>D("div",{class:"q-date__event bg-"+t.event}):null):D("div",""+t.i)]))))])])],Months(){const t=T.value.year===X.value.year,a=f=>U.value!==null&&T.value.year===U.value.year&&U.value.month>f||k.value!==null&&T.value.year===k.value.year&&k.value.month<f,n=Y.value.monthsShort.map((f,c)=>{const O=T.value.month===c+1;return D("div",{class:"q-date__months-item flex flex-center"},[D(H,{class:t===!0&&X.value.month===c+1?"q-date__today":null,flat:O!==!0,label:f,unelevated:O,color:O===!0?C.value:null,textColor:O===!0?l.value:null,tabindex:u.value,disable:a(c+1),...x("month#"+c,{onClick:()=>{Qt(c+1)}})})])});return e.yearsInMonthView===!0&&n.unshift(D("div",{class:"row no-wrap full-width"},[qe({label:T.value.year,type:"Years",key:T.value.year,dir:s.value,goTo:Pe,boundaries:Ye.value.year,cls:" col"})])),D("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},n)},Years(){const t=p.value,a=t+fe,n=[],f=c=>U.value!==null&&U.value.year>c||k.value!==null&&k.value.year<c;for(let c=t;c<=a;c++){const O=T.value.year===c;n.push(D("div",{class:"q-date__years-item flex flex-center"},[D(H,{key:"yr"+c,class:X.value.year===c?"q-date__today":null,flat:!O,label:c,dense:!0,unelevated:O,color:O===!0?C.value:null,textColor:O===!0?l.value:null,tabindex:u.value,disable:f(c),...x("yr#"+c,{onClick:()=>{qt(c)}})})]))}return D("div",{class:"q-date__view q-date__years flex flex-center"},[D("div",{class:"col-auto"},[D(H,{round:!0,dense:!0,flat:!0,icon:Ee.value[0],tabindex:u.value,disable:f(t),...x("y-",{onClick:()=>{p.value-=fe}})})]),D("div",{class:"q-date__years-content col self-stretch row items-center"},n),D("div",{class:"col-auto"},[D(H,{round:!0,dense:!0,flat:!0,icon:Ee.value[1],tabindex:u.value,disable:f(a),...x("y+",{onClick:()=>{p.value+=fe}})})])])}};function zt(t){const a={...T.value,day:t};if(e.range===!1){jt(a,J.value);return}if(b.value===null){const n=Xe.value.find(c=>c.fill!==!0&&c.i===t);if(e.noUnset!==!0&&n.range!==void 0){$e({target:a,from:n.range.from,to:n.range.to});return}if(n.selected===!0){$e(a);return}const f=ie(a);b.value={init:a,initHash:f,final:a,finalHash:f},i("rangeStart",ce(a))}else{const n=b.value.initHash,f=ie(a),c=n<=f?{from:b.value.init,to:a}:{from:a,to:b.value.init};b.value=null,Le(n===f?a:{target:a,...c}),i("rangeEnd",{from:ce(c.from),to:ce(c.to)})}}function Bt(t){if(b.value!==null){const a={...T.value,day:t};Object.assign(b.value,{final:a,finalHash:ie(a)})}}return Object.assign(d,{setToday:We,setView:Pt,offsetCalendar:Lt,setCalendarTo:He,setEditingRange:$t}),()=>{const t=[D("div",{class:"q-date__content col relative-position"},[D(Te,{name:"q-transition--fade"},kt[Q.value])])],a=Kt(o.default);return a!==void 0&&t.push(D("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&z(t,"push"),D("div",{class:$.value,...Rt.value},[Ut(),D("div",{ref:B,class:"q-date__main col column",tabindex:-1},t)])}}});function Dt(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function La(e,o,i={}){const{mimeType:d,byteOrderMark:v,encoding:r}=typeof i=="string"?{mimeType:i}:i,x=r!==void 0?new TextEncoder(r).encode([o]):o,u=v!==void 0?[v,x]:[x],m=new Blob(u,{type:d||"application/octet-stream"}),A=document.createElement("a");A.href=window.URL.createObjectURL(m),A.setAttribute("download",e),typeof A.download=="undefined"&&A.setAttribute("target","_blank"),A.classList.add("hidden"),A.style.position="fixed",document.body.appendChild(A);try{return A.click(),Dt(A),!0}catch(h){return Dt(A),h}}const $a=q("span",{class:"text-h6"},"Consulta de Pagos",-1),qa={class:"justify-end"},Qa={key:0},ja={class:"row"},Ua={class:"col"},ka={class:"col"},za={key:0},Ba={class:"text-h4"},Za={class:"text-subtitle2"},Ga={class:"text-h5"},Ka={class:"text-h5 text-center"},Ja={class:"text-h5 text-center"},Xa=q("div",{class:"text-h6 text-center"},"Impresora",-1),Wa={class:"q-pa-md"},en=q("div",{class:"q-pb-sm"},null,-1),tn=q("span",{class:"text-bold text-h6"},"Selecciona el Formato \u{1F60A}",-1),In={__name:"TarjetaLayout",setup(e){const o=pa(),i=ba(),d=[{name:"terminal",label:"TERMINAL",align:"center",field:s=>s.TERMINAL},{name:"ticket",label:"TICKET",align:"center",field:s=>s.TICKET},{name:"cliente",label:"CLIENTE",align:"center",field:s=>s.CLIENTE},{name:"fecha",label:"FECHA",align:"center",field:s=>s.FECHA},{name:"hora",label:"HORA",align:"center",field:s=>s.HORA},{name:"efectivo",label:"EFECTIVO",align:"center",field:s=>s.EFECTIVO},{name:"tarjetas",label:"TARJETAS",align:"center",field:s=>s.TARJETAS},{name:"transferencias",label:"TRANSFERENCIAS",align:"center",field:s=>s.TRANSFERENCIAS},{name:"creditos",label:"CREDITOS",align:"center",field:s=>s.CREDITOS},{name:"vales",label:"VALES",align:"center",field:s=>s.VALES}],v=R({val:null,body:null}),r=R({state:!1,val:null,body:null}),x=R({val:null,filter:null,state:!1,body:null}),u=R(!1),m=R({state:!1,body:null}),A=R(!1),h=R(!1),I=R(null),F=R({state:!1,val:null,opts:[{id:1,label:"Factura"},{id:2,label:"Ticket"}]}),z=()=>{let s=m.value.body.TICKET.split("-"),y={type:"Reimpresion",serie:s[0],folio:s[1],print:r.value.val.ip_address};A.value=!0;let b=`http://${o.session.store.ip}/access/public/modify/newmod`;Se.post(b,y).then($=>{console.log($),A.value=!1,r.value.val=null,r.value.state=!1}).catch($=>$)},B=async()=>{console.log("Recibiendo Datos :)"),u.value=!0;let y=`http://${o.session.store.ip}/access/public/reports/getCash`;Se.get(y).then(p=>{v.value.body=p.data.terminales,x.value.body=p.data.formaspagos,console.log(p.data),x.value.state=!0,u.value=!1,console.log("ya lo recibi que no te enganen :)"),le()}).catch(p=>console.log(p))},le=async()=>{let s=o.session.store.id;console.log(s);try{let y=await xa.get(`/cashier/getPrinters/${s}`);y.status==200&&(r.value.body=y.data,console.log("Impresoras listas :)"))}catch(y){console.log(y),i.notify({message:"No se pudiron obtener las impresoras",type:"negative",position:"center",icon:"error"})}},Y=(s,y,p)=>{let b=y!==void 0?y(s,p):s;return b=b==null?"":String(b),b=b.split('"').join('""'),/^\d{1,2}-\d{4}$/.test(b)&&(b=`'${b}`),`"${b}"`},Ve=()=>{const s=[d.map(p=>Y(p.label))].concat(x.value.body.map(p=>d.map(b=>Y(typeof b.field=="function"?b.field(p):p[b.field===void 0?b.name:b.field],b.format,p)).join(","))).join(`\r
`);La("reporteCobros.csv",s,"text/csv")!==!0?i.notify({message:"Browser denied file download...",color:"negative",icon:"warning"}):i.notify({message:"Descarga Completa :)",color:"positive",icon:"check",position:"center"})},Ne=()=>{console.log(I.value);let s={filt:I.value};console.log("Recibiendo Datos :)"),u.value=!0;let p=`http://${o.session.store.ip}/access/public/reports/filter`;Se.post(p,s).then(b=>{x.value.body=b.data.formaspagos,x.value.state=!0,u.value=!1,h.value=!1,console.log("ya lo recibi que no te enganen :)")}).catch(b=>console.log(b))},X=(s,y)=>{console.log("aqui se podra reimprimir"),console.log(y.TICKET),m.value.state=!0,m.value.body=y},T=()=>{i.loading.show({message:"Importando Ticket"});let s=o.session.store.ip,y=m.value.body.TICKET;const p=`http://${s}/access/public/modify/getTicket/${y}`;Se.get(p).then(b=>{F.value.val.id==1?ve(b.data).then($=>{i.notify({message:`El ticket ${y} se descargo correctamente`,type:"positive",position:"center"}),F.value.state=!1,F.value.val=null,i.loading.hide()}).catch($=>{i.notify({message:`El ticket ${y} no se descargo correctamente`,type:"negative",position:"center"})}):F.value.val.id==2&&De(b.data).then($=>{i.notify({message:`El ticket ${y} se descargo correctamente`,type:"positive",position:"center"}),F.value.state=!1,F.value.val=null,i.loading.hide()}).catch($=>{i.notify({message:`El ticket ${y} no se descargo correctamente`,type:"negative",position:"center"})})}).catch(b=>console.log(b))},Q=(s,y)=>{let p=70;return s.forEach(b=>{p+=7}),p+=10,y.forEach(b=>{p+=4}),p+=41,p},De=s=>new Promise((y,p)=>{try{let b=s.products,$=s.payments,C=Q(b,$);console.log(s.products[0].ARTICULO);const l=new ht({format:[80,C]});C=62,l.setFontSize(8),l.text("----------------------------------------------------------------------------",2,10),l.text(s.empresa.CTT1TPV,2,13),l.text(s.empresa.CTT2TPV,2,16),l.text(s.empresa.CTT3TPV,2,19),l.text(s.empresa.CTT4TPV,2,22),l.text(s.empresa.CTT5TPV,2,25),l.text(s.header.TERMINAL,2,34),l.text(`N\xBA ${s.header.TICKET}`,2,37),l.text(`FECHA ${s.header.FECHA}`,20,37),l.text(s.header.HORA,50,37),l.text(`Forma de Pago: ${s.header.PAGOPRINCIPAL}`,2,40),l.text(s.header.NOMBRECLIENTE,2,43),l.text(s.header.DOMICILIO,2,46),l.text(s.header.POBALCION+s.header.CODIGOPOSTAL,2,49),l.text(s.header.PROVINCIA,2,52),l.text("_________________________________________________",2,58),l.text("ARTICULO",2,61),l.text("UD.",25,61),l.text("PRECIO",40,61),l.text("TOTAL",57,61),l.text("_________________________________________________",2,62);let W=0;b.forEach(P=>{l.setFontSize(6),C+=3,l.text(P.ARTICULO+"   "+P.DESCRIPCION.substring(0,47),2,C),C+=4,l.text(Number(P.CANTIDAD).toFixed(2),25,C),l.text(Number(P.PRECIO).toFixed(2),40,C),l.text(Number(P.TOTAL).toFixed(2),57,C),W+=Number(P.CANTIDAD)}),C+=10,l.setFontSize(8),l.setFont("helvetica","bold"),l.text("TOTAL",54,C,"right"),l.text(`$ ${Number(s.header.TOTAL).toFixed(2)}`,56,C,"left"),l.setFont("helvetica","normal"),$.forEach(P=>{C+=4,l.text(P.CONCEPTOPAGO,54,C,"right"),l.text(`$ ${Number(P.IMPORTE).toFixed(2)}`,56,C,"left")}),C+=5,l.text(`N Articulos: ${W}`,2,C),C+=5,l.setFontSize(6),l.text(`Le Atendio: ${s.header.DEPENDIENTE}`,2,C),C+=5,l.setFontSize(8),l.text("---------------------------------Grupo-Vizcarra----------------------------",2,C),C+=5,l.text(s.empresa.PTT1TPV,2,C),C+=3,l.text(s.empresa.PTT2TPV,2,C),C+=3,l.text(s.empresa.PTT3TPV,2,C),C+=3,l.text(s.empresa.PTT4TPV,2,C),C+=3,l.text(s.empresa.PTT5TPV,2,C),C+=3,l.text(s.empresa.PTT6TPV,2,C),C+=3,l.text(s.empresa.PTT7TPV,2,C),C+=3,l.text(s.empresa.PTT8TPV,2,C),l.save(`Ticket ${s.header.TICKET}`),y()}catch(b){p(b)}}),ve=s=>new Promise((y,p)=>{try{let $=s.products,C=s.payments;const l=new ht;let W=[];const P=$.map(ee=>Object.values(ee)),Z=Math.ceil(P.length/20);for(var b=0;b<P.length;b+=20)W.push(P.slice(b,b+20));console.log(W);for(let ee=0;ee<1;ee++)W.forEach(function(L,me){me>0&&l.addPage();let re=0,_e=0;for(let j=0;j<L.length;j++)L[j][1]=L[j][1].replace(/\n/g," "),L[j][2]=parseFloat(L[j][2]),L[j][3]=Number(L[j][3]).toFixed(2),L[j][4]=Number(L[j][4]).toFixed(2),re+=parseFloat(L[j][2]),_e+=parseFloat(L[j][4]);l.setFontSize(25),l.setFont("helvetica","bold"),l.text("GRUPO VIZCARRA",105,10,"center"),l.setFontSize(8),l.text("Hora Ticket:",10,10,"left"),l.text(s.header.HORA,10,15,"left"),l.setFontSize(12),l.text(`${s.header.NOMBRECLIENTE} ${s.header.CLIENTE}`,10,25,"left"),l.text(`SUCURSAL ${s.empresa.DESTPV}`,120,25,"left"),l.setFontSize(8),l.text(s.header.DOMICILIO,10,30,"left"),l.text(s.header.CODIGOPOSTAL,10,35,"left"),l.text(s.header.POBALCION+s.header.PROVINCIA,10,40,"left"),l.text(s.empresa.CTT3TPV,120,30,"left"),l.text("LLI1210184G8",120,45,"left"),l.rect(120,51,80,5),l.text("DOCUMENTO",121,55,"left"),l.text("FACTURA",121,60,"left"),l.text("NUMERO",143,55,"left"),l.text(s.header.TICKET,143,60,"left"),l.text("PAGINA",165,55,"left"),l.text(`${me+1} de ${Z}`,165,60,"left"),l.text("FECHA",185,55,"left");const Fe=s.header.FECHA;l.text(Fe,185,60,"left"),gt(l,{startX:10,startY:65,theme:"grid",styles:{cellPadding:1,fontSize:8,halign:"center"},head:[["CREADOR DOC","ALMACEN","AGENTE","FORMA DE PAGO"]],body:[["APP","GEN",s.header.DEPENDIENTE,C[0].CONCEPTOPAGO]]}),gt(l,{startX:10,startY:80,theme:"striped",styles:{cellPadding:.6,fontSize:8,halign:"left"},head:[["ARTICULO","DESCRIPCION","CANTIDAD","PRECIO","TOTAL"]],body:L,columnStyles:{0:{fontStyle:"bold",halign:"left"},1:{fontStyle:"bold",halign:"left"},2:{halign:"center"},3:{halign:"center"},4:{halign:"center"}}}),l.setFontSize(11),l.text("TOTAL UNIDADES:",60,200,"left"),l.text(Number(re).toFixed(2),100,200,"left"),l.setFont("helvetica","bold"),l.text("TOTAL:",140,200,"left"),l.text(`$ ${Number(_e).toFixed(2)}`,160,200,"left"),l.setFontSize(8),l.text("Debo(emos) y pagare(mos) incondicionalmente por este pagare a la order de GRUPO VIZCARRA, en la ciudad de Mexico,",5,210,"left"),l.text("la cantidad de el valor recibido a mi(nuestra) entera satisfaccion",5,215,"left"),l.text("Este pagare forma parte de una serie numerica del 1 al y 9 y todos estos estan sujetos a la condicion, de que al no pagarse cualquiera de ellos a su",5,220,"left"),l.text("vencimiento sean exigibles todos los que le sigan en numero, ademas de los ya vencidosm desde la fecha de su vencimiento de el presente documento",5,225,"left"),l.text("hasta el dia de su liquidacion, causaran intereses moratorios al tipo del % mensual en esta ciudad justamente con el principal",5,230,"left"),l.setFontSize(15),l.text("______________",31,248,"center"),l.text("AUTORIZO",20,254,"left"),l.text("______________",85,248,"center"),l.text("CHOFER",75,254,"left"),l.text("______________",140,248,"center"),l.text("RECIBIO",130,254,"left"),l.text("______________",168,248,"left"),l.text("FECHA Y HORA",168,254,"left"),l.setFontSize(9),l.text("UNA VEZ ENTREGADA LA MERCANCIA EN LA FLETERA O DOMICILIO QUE INDIQUE EL CLIENTE ",5,260,"left"),l.text("LLUVIA LIGHT SA DE CV NO ES RESPONSABLE POR PEDIDAS TOTALES, PARCIALES ",5,265,"left"),l.text("O CUALQUIER TIPO DE DANO EN LA MERCANCIA DE ESTE DOCUMENTO ",5,270,"left"),l.setFont("helvetica","bold"),l.setFontSize(12),l.text("NO SE ACEPTAN CAMBIOS NI DEVOLUCIONES",5,275,"left"),l.setFontSize(25),l.setFont("helvetica","bold"),l.text("GRUPO VIZCARRA",105,10,"center")});l.save(`Factura ${s.header.TICKET}`),y()}catch($){p($)}});return B(),(s,y)=>(je(),Wt(va,{view:"hHh Lpr fFf"},{default:E(()=>[g(na,{class:"transparent text-dark",bordered:""},{default:E(()=>[g(aa),g(Qe),g(ta,{class:"justify-between"},{default:E(()=>[q("div",null,[G("Helpers "),g(it,{name:"navigate_next",color:"primary"}),G(),$a])]),_:1})]),_:1}),g(ma,null,{default:E(()=>[g(_a,{padding:""},{default:E(()=>[q("div",qa,[g(H,{color:"primary",icon:"event",onClick:y[0]||(y[0]=p=>h.value=!h.value),flat:"",round:""})]),g(Qe,{spaced:"",inset:"",vertical:"",dark:""}),x.value.state?(je(),ut("div",Qa,[g(ia,{class:"my-sticky-header-table",title:"Fromas de Pago",rows:x.value.body,"row-key":"name",filter:x.value.filter,separator:"cell",onRowClick:X,columns:d},{"top-right":E(()=>[q("div",ja,[q("div",Ua,[g(sa,{borderless:"",dense:"",debounce:"300",modelValue:x.value.filter,"onUpdate:modelValue":y[1]||(y[1]=p=>x.value.filter=p),placeholder:"Search"},{append:E(()=>[g(it,{name:"search"})]),_:1},8,["modelValue"])]),g(Qe,{spaced:"",inset:"",vertical:"",dark:""}),q("div",ka,[g(H,{color:"primary",icon:"archive",dense:"","no-caps":"",flat:"",round:"",onClick:Ve})])])]),_:1},8,["rows","filter"])])):dt("",!0),g(Ce,{modelValue:u.value,"onUpdate:modelValue":y[2]||(y[2]=p=>u.value=p),persistent:""},{default:E(()=>[u.value?(je(),ut("div",za,[g(ua,{color:"primary",size:"7.5em"}),g(da,{offset:[0,8]},{default:E(()=>[G("Cargando Informacion")]),_:1})])):dt("",!0)]),_:1},8,["modelValue"]),g(Ce,{modelValue:m.value.state,"onUpdate:modelValue":y[5]||(y[5]=p=>m.value.state=p),persistent:""},{default:E(()=>[g(Ae,{style:{width:"700px","max-width":"70vw"}},{default:E(()=>[g(ae,{class:"row justify-between"},{default:E(()=>[q("div",Ba,"Ticket : "+te(m.value.body.TICKET),1),q("div",Za,te(m.value.body.TERMINAL),1)]),_:1}),g(ae,null,{default:E(()=>[q("div",Ga,te(m.value.body.CNOFAC),1)]),_:1}),g(ae,null,{default:E(()=>[q("div",Ka,te(m.value.body.CLIENTE),1),q("div",Ja,te(m.value.body.FECHA),1)]),_:1}),g(ae,null,{default:E(()=>[g(ha,{bordered:""},{default:E(()=>[g(vt,null,{default:E(()=>[g(ne,null,{default:E(()=>[G("EFECTIVO")]),_:1}),g(ne,null,{default:E(()=>[G("TARJETA")]),_:1}),g(ne,null,{default:E(()=>[G("TRANSFERENCIA")]),_:1}),g(ne,null,{default:E(()=>[G("VALE")]),_:1}),g(ne,null,{default:E(()=>[G("CREDITO")]),_:1})]),_:1}),g(vt,null,{default:E(()=>[g(ne,null,{default:E(()=>[G(te(m.value.body.EFECTIVO),1)]),_:1}),g(ne,null,{default:E(()=>[G(te(m.value.body.TARJETAS),1)]),_:1}),g(ne,null,{default:E(()=>[G(te(m.value.body.TRANSFERENCIAS),1)]),_:1}),g(ne,null,{default:E(()=>[G(te(m.value.body.VALES),1)]),_:1}),g(ne,null,{default:E(()=>[G(te(m.value.body.CREDITOS),1)]),_:1})]),_:1})]),_:1})]),_:1}),g(Ue,{align:"center"},{default:E(()=>[ct(g(H,{flat:"",color:"negative",icon:"close"},null,512),[[ft]]),g(H,{flat:"",color:"primary",icon:"print",onClick:y[3]||(y[3]=p=>r.value.state=!r.value.state)}),g(H,{flat:"",color:"primary",icon:"picture_as_pdf",onClick:y[4]||(y[4]=p=>F.value.state=!T.state)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),g(Ce,{modelValue:r.value.state,"onUpdate:modelValue":y[7]||(y[7]=p=>r.value.state=p)},{default:E(()=>[g(Ae,{class:"my-card"},{default:E(()=>[g(ae,null,{default:E(()=>[Xa]),_:1}),g(ae,null,{default:E(()=>[g(ga,{onSubmit:z,class:"q-gutter-md"},{default:E(()=>[g(mt,{dense:"","option-label":"name",modelValue:r.value.val,"onUpdate:modelValue":y[6]||(y[6]=p=>r.value.val=p),options:r.value.body,label:"Impresora",filled:"",autofocus:"",style:{width:"200px"}},null,8,["modelValue","options"]),q("div",null,[g(H,{label:"Enviar",type:"submit",color:"primary",style:{width:"200px"},disable:r.value.val===null||A.value},null,8,["disable"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),g(Ce,{modelValue:h.value,"onUpdate:modelValue":y[10]||(y[10]=p=>h.value=p)},{default:E(()=>[g(Ae,{class:"my-card"},{default:E(()=>[g(ae,null,{default:E(()=>[q("div",Wa,[en,g(Pa,{modelValue:I.value,"onUpdate:modelValue":y[8]||(y[8]=p=>I.value=p),range:"",minimal:""},null,8,["modelValue"])])]),_:1}),g(ae,null,{default:E(()=>[g(Ue,{align:"right"},{default:E(()=>[g(H,{flat:"",icon:"close",color:"negative",onClick:y[9]||(y[9]=p=>h.value=!h.value)}),g(H,{flat:"",icon:"check",color:"positive",onClick:Ne})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),g(Ce,{modelValue:F.value.state,"onUpdate:modelValue":y[12]||(y[12]=p=>F.value.state=p),persistent:""},{default:E(()=>[g(Ae,null,{default:E(()=>[g(ae,{class:"row items-center"},{default:E(()=>[g(ea,{icon:"picture_as_pdf",color:"primary","text-color":"white"}),tn]),_:1}),g(ae,null,{default:E(()=>[g(mt,{modelValue:F.value.val,"onUpdate:modelValue":y[11]||(y[11]=p=>F.value.val=p),options:F.value.opts,label:"Formatos",filled:""},null,8,["modelValue","options"])]),_:1}),g(Ue,{align:"right"},{default:E(()=>[ct(g(H,{flat:"",label:"Cancel",color:"negative"},null,512),[[ft]]),g(H,{flat:"",label:"Seleccionar",color:"positive",onClick:T,disable:!F.value.val},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{In as default};
