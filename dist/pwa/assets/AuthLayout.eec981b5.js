import{Q as g,a as l}from"./QCard.596e448f.js";import{Q as n}from"./QInput.ab508c72.js";import{u as v,r as y,c as Q,o as i,a as x,w as s,e as t,f as u,g as V,Q as _,h as k,P as S}from"./index.5fd56673.js";import{Q as h}from"./QForm.482920e1.js";import{Q as w}from"./QPage.4b5156cc.js";import{Q as b,a as B}from"./QLayout.3d85a506.js";import{u as C}from"./VDB.f0615c4a.js";import{u as N}from"./use-quasar.6f063f50.js";import{a as P}from"./auth.fd07a0d9.js";import"./index.ce678b9e.js";import"./use-key-composition.977fa0e4.js";import"./uid.937d8ee7.js";import"./QResizeObserver.934530db.js";import"./axios.2f5f6197.js";import"./axios.9ab26c22.js";import"./_commonjsHelpers.88e99c8f.js";const A={key:0,class:"text-center"},T={__name:"AuthLayout",setup(L){const c=C(),p=N(),m=v(),a=y({nick:"",pass:""}),f=Q(()=>a.value.nick&&a.value.pass),d=async()=>{console.log("Iniciando sesion ...",a.value);const o=await P.trySignin(a.value);if(o.fail)o.fail.status==404&&p.notify({message:"Credenciales erroneas",color:"negative",icon:"fas fa-bugs"}),console.log(o);else{let e=JSON.parse(JSON.stringify(o));console.log(e),S.set("auth",e),c.setSession(e),m.replace("/")}};return(o,e)=>(i(),x(b,{view:"hHh Lpr fFf"},{default:s(()=>[t(B,null,{default:s(()=>[t(w,{padding:"",class:"flex flex-center"},{default:s(()=>[t(g,{flat:"",class:"bg-transparent"},{default:s(()=>[t(l,{class:"row items-center justify-between"},{default:s(()=>e[2]||(e[2]=[u("div",{class:"fs-inc4"},"Acceso",-1),u("div",{class:"text-right fw-xbold text-primary fs-dec2"},"VH v1.0",-1)])),_:1}),t(l,{horizontal:""},{default:s(()=>[t(l,null,{default:s(()=>[t(h,{onSubmit:d,class:"q-gutter-lg"},{default:s(()=>[t(n,{outlined:"",rounded:"",standout:"text-primary",placeholder:"nick","input-class":"fs-inc2 text-center",modelValue:a.value.nick,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.nick=r),type:"text",autofocus:"",autocapitalize:"off",autocomplete:"off"},null,8,["modelValue"]),t(n,{outlined:"",rounded:"",placeholder:"nip","input-class":"fs-inc2 text-center",modelValue:a.value.pass,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.pass=r),type:"password"},null,8,["modelValue"]),f.value?(i(),V("div",A,[t(_,{label:"Entrar",type:"submit",color:"primary"})])):k("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{T as default};
