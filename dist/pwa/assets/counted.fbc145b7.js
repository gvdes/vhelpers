import{Q as p}from"./QSpace.734cdbf5.js";import{Q as b}from"./QBadge.a2495076.js";import{Q as m}from"./QCardSection.7e278d4b.js";import{a as s}from"./QSelect.52efbb9f.js";import{a as v,d as y,e as u,b as C}from"./QList.1f70cddf.js";import{Q as S}from"./QCard.4b8f2d7c.js";import{Q as B}from"./QTable.593d5c5c.js";import{Q as k}from"./QPage.5abae0cb.js";import{r as d,aW as D,a as N,u as V,c as Y,o as $,d as h,w as t,e,f as i,a0 as r,al as l,a1 as I}from"./index.37883b8c.js";import{u as M}from"./use-quasar.5a30a54a.js";import{d as P}from"./dayjs.min.cbcf888d.js";import"./QDrawer.19506a39.js";import"./QExpansionItem.982b68e3.js";import"./QCardActions.7ae68c4d.js";import"./ClosePopup.13ae9437.js";import"./axios.ca8f7ee4.js";import{c as R}from"./cyclecountStore.e3d57557.js";import"./QTabPanels.ca4034a2.js";import"./QTabs.4c314b06.js";import"./exceljs.min.9e24d01d.js";import"./FileSaver.min.89adfc30.js";import"./use-key-composition.56eb4ad7.js";import"./QLinearProgress.9dfa93a9.js";import"./QCheckbox.9052b8c7.js";import"./use-checkbox.14e09b31.js";import"./_commonjsHelpers.88e99c8f.js";import"./QResizeObserver.5f9820e3.js";import"./QScrollObserver.c4f04bd6.js";import"./TouchSwipe.5be1e7c6.js";import"./use-render-cache.3aae9b27.js";const L=["onClick"],T={class:"text-h4 text-primary"},Qe={__name:"counted",setup(j){d(""),M(),D();const _=N(),f=V(),c=R();c.settitle("Conteo"),c.setshowBtns(!1);const x=d({filter:null,pagination:{rowsPerPage:0}}),Q=Y(()=>{let n=f.session.credentials._rol;return[1,2,5,6,12,22,18].includes(n)?c.cyclecounts:c.cyclecounts.filter(a=>a.responsables.some(o=>o.id==f.session.credentials.staff.id_va))}),g=n=>{console.log(n),_.push(`/ciclicos/counted/${n.id}`)},w=d([{name:"red"},{name:"yellow"},{name:"green"},{name:"orange"}]);return(n,a)=>($(),h(k,{padding:""},{default:t(()=>[e(B,{grid:"",rows:Q.value,pagination:x.value.pagination},{item:t(o=>[i("div",{class:"q-pa-xs col-xs-12 col-sm-6 col-md-4",onClick:q=>g(o.row)},[e(S,{flat:"",bordered:""},{default:t(()=>[e(m,{class:"flex flex-left"},{default:t(()=>[i("div",T,r(o.row.id),1),e(p),i("div",null,[e(b,{rounded:"",color:w.value[o.row._status-1].name},null,8,["color"])])]),_:2},1024),e(m,null,{default:t(()=>[e(v,{bordered:""},{default:t(()=>[e(y,null,{default:t(()=>[e(u,null,{default:t(()=>[e(s,{class:"text-center"},{default:t(()=>a[0]||(a[0]=[l("Almacen:")])),_:1}),e(s,{class:"text-center"},{default:t(()=>[l(r(JSON.parse(o.row.settings).warehouse.name),1)]),_:2},1024)]),_:2},1024),e(u,null,{default:t(()=>[e(s,{class:"text-center"},{default:t(()=>a[1]||(a[1]=[l("Creacion:")])),_:1}),e(s,{class:"text-center"},{default:t(()=>[l(r(I(P)(o.row.created_at).format("YYYY-MM-DD H:m:s")),1)]),_:2},1024)]),_:2},1024),e(u,null,{default:t(()=>[e(s,{class:"text-center"},{default:t(()=>a[2]||(a[2]=[l("Creacion:")])),_:1}),e(s,{class:"text-center"},{default:t(()=>[l(r(o.row.created_by.names),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(C),e(m,{class:"flex flex-left"},{default:t(()=>[i("div",null,r(o.row.products_count)+" Modelos",1),e(p),i("div",null,r(o.row.responsables.length)+" Responsables",1)]),_:2},1024)]),_:2},1024)],8,L)]),_:1},8,["rows","pagination"])]),_:1}))}};export{Qe as default};
