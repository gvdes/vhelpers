import{Q as oe}from"./QSeparator.a28f9e19.js";import{i as _e,c as te,j as Fe,k as Ne,D as Oe,E as ge,F as Xe,l as Ae,r as K,o as j,a as le,w as h,e as c,Q as V,f as z,a3 as ae,Y as Se,aZ as Be,ak as Ue,g as se,a1 as ce,h as pe,a4 as Y,a0 as ve,a5 as ye,a2 as me}from"./index.bfaa50dc.js";import{Q as je}from"./QToolbar.daa7f3b6.js";import{Q as Je}from"./QHeader.2fb0ba53.js";import{Q as ne,a as ee}from"./QCard.15518d82.js";import{Q as Ze}from"./QOptionGroup.50a3d782.js";import{Q as Ke}from"./QDrawer.8ff9347e.js";import{Q as et}from"./QInput.c6efea11.js";import{g as tt,Q as at,a as fe}from"./QSelect.99ec8f2d.js";import{Q as de}from"./QCardActions.45905821.js";import{Q as ot}from"./QTable.63f8d1bb.js";import{Q as he}from"./QDialog.7fcf9d67.js";import{Q as ze,a as xe}from"./QItemSection.8b803668.js";import{Q as $e}from"./QList.0bc6d8ca.js";import{Q as lt}from"./QPage.2eb80b0c.js";import{Q as st,a as nt}from"./QLayout.29e9b2b2.js";import{C as be}from"./ClosePopup.d49d3a1a.js";import{u as it}from"./VDB.fcbc5d96.js";import{_ as rt}from"./UserToolbar.fb76eb12.js";import{P as ct,d as dt}from"./ProductsAutocomplete.8017a947.js";import{u as ut}from"./use-quasar.ee0b50fe.js";import{E as X}from"./jspdf.plugin.autotable.41d6e634.js";import"./axios.2f5f6197.js";import{E as gt}from"./exceljs.min.9e24d01d.js";import"./browser.a927a609.js";import"./QResizeObserver.20d0d4a3.js";import"./QRadio.57d5abef.js";import"./QCheckbox.d7c1709b.js";import"./use-key-composition.80587ab3.js";import"./uid.937d8ee7.js";import"./TouchPan.bd5f735e.js";import"./touch.9135741d.js";import"./position-engine.70345e34.js";import"./rtl.276c3f1b.js";import"./QLinearProgress.331664d1.js";/* empty css                                                                         */import"./_commonjsHelpers.88e99c8f.js";import"./axios.9ab26c22.js";var we=_e({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(D,{slots:Q}){const P=te(()=>{const _=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(G=>D[G]===!0).map(G=>`q-btn-group--${G}`).join(" ");return`q-btn-group row no-wrap${_.length!==0?" "+_:""}`+(D.spread===!0?" q-btn-group--spread":" inline")});return()=>Fe("div",{class:P.value},Ne(Q.default))}});const pt={position:{type:String,default:"bottom-right",validator:D=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(D)},offset:{type:Array,validator:D=>D.length===2},expand:Boolean};function vt(){const{props:D,proxy:{$q:Q}}=Ae(),P=Oe(Xe,ge);if(P===ge)return console.error("QPageSticky needs to be child of QLayout"),ge;const _=te(()=>{const M=D.position;return{top:M.indexOf("top")!==-1,right:M.indexOf("right")!==-1,bottom:M.indexOf("bottom")!==-1,left:M.indexOf("left")!==-1,vertical:M==="top"||M==="bottom",horizontal:M==="left"||M==="right"}}),G=te(()=>P.header.offset),A=te(()=>P.right.offset),u=te(()=>P.footer.offset),I=te(()=>P.left.offset),ie=te(()=>{let M=0,J=0;const O=_.value,re=Q.lang.rtl===!0?-1:1;O.top===!0&&G.value!==0?J=`${G.value}px`:O.bottom===!0&&u.value!==0&&(J=`${-u.value}px`),O.left===!0&&I.value!==0?M=`${re*I.value}px`:O.right===!0&&A.value!==0&&(M=`${-re*A.value}px`);const Z={transform:`translate(${M}, ${J})`};return D.offset&&(Z.margin=`${D.offset[1]}px ${D.offset[0]}px`),O.vertical===!0?(I.value!==0&&(Z[Q.lang.rtl===!0?"right":"left"]=`${I.value}px`),A.value!==0&&(Z[Q.lang.rtl===!0?"left":"right"]=`${A.value}px`)):O.horizontal===!0&&(G.value!==0&&(Z.top=`${G.value}px`),u.value!==0&&(Z.bottom=`${u.value}px`)),Z}),W=te(()=>`q-page-sticky row flex-center fixed-${D.position} q-page-sticky--${D.expand===!0?"expand":"shrink"}`);function ue(M){const J=Ne(M.default);return Fe("div",{class:W.value,style:ie.value},D.expand===!0?J:[Fe("div",J)])}return{$layout:P,getStickyContent:ue}}var mt=_e({name:"QPageSticky",props:pt,setup(D,{slots:Q}){const{getStickyContent:P}=vt();return()=>P(Q)}});const ft={class:"q-pa-md"},ht={class:"q-pa-md"},xt={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},bt={class:"text-h5 text-bold text-center"},Ft={class:"text-subtitle2 text-bold text-center"},Pt={class:"text-subtitle2 text-bold text-center"},St={class:"text-subtitle2 text-bold text-center"},yt={class:"text-subtitle2 text-bold text-center"},zt={class:"row"},$t={class:"text-center"},wt={class:"text-center"},_t={class:"text-bold q-pb-sm text-center"},Nt={class:"row q-pt-xs"},kt={class:"text-negative"},va={__name:"LabelsLayout",setup(D){const Q=it(),P=ut(),_=K([]),G=K({filter:"",pagination:{rowsPerPage:9}}),A=K({state:!1}),u=K({state:!1,val:null,opts:[{id:1,label:"Navidad Extra Grande"},{id:2,label:"Navidad Grande"},{id:3,label:"Navidad Mediano"},{id:4,label:"Navidad Pequeno"},{id:5,label:"Navidad Vertical"},{id:6,label:"Juguete Ni\xF1o"},{id:7,label:"Juguete Ni\xF1a"},{id:8,label:"Juguete Extra Ni\xF1a"},{id:9,label:"Juguete Extra Ni\xF1o"},{id:10,label:"Juguete Horizontal Ni\xF1o"},{id:11,label:"Juguete Horizontal Ni\xF1a"},{id:12,label:"Rectangular 2 x 4"}]}),I=K({val:[0,1,2,4],opts:[{label:"Menudeo",value:1},{label:"Mayoreo",value:2},{label:"Docena",value:3},{label:"Caja",value:4}]}),ie=K(null),W=K({state:!1,wndGetRows:[],wndNoDataFound:[],wndTotal:[],wndGetAdded:[],_supply_by:0,message:"",messageRepeat:"",wndNotExist:[]}),ue=r=>{let n=[],l=[],d=new Object;return r.products.map(v=>M(v.prices)?n.push(v):l.push(v)),console.log(r),d.notFound=n,d.add=l,d},M=r=>{let n=!0;return r.map((l,d)=>{n=l.pivot.price==0}),n},J=r=>{console.log(r)},O=K({state:!1}),re=r=>{let n=_.value.findIndex(l=>l.id==r.id);if(console.log(n),n>=0)P.notify({message:"El Producto ya esta agregado",type:"negative",position:"center"});else{let l=Pe(r.prices,r.pieces);r._copies=1,r.type=l.type,r.usedPrices=l.prices,r._copies=1,_.value.push(r),console.log(r)}},Z=r=>{let n=_.value.findIndex(l=>l.id==r.id);_.value.splice(n,1)},ke=()=>{_.value=[],A.value.state=!1},Ce=()=>{ie.value.click()},Ee=async()=>{let r=document.getElementById("inputFile").files[0],n=new gt.Workbook,l=[],d=[],v=0;n.xlsx.load(r).then(y=>{if(n.worksheets[0].getColumn("A").eachCell({includeEmpty:!0},function(T,R){T.value&&l.push(T.value)}),d=l.filter((T,R,$)=>$.indexOf(T)==R),l.length){let T={codes:l,_workpoint:Q.session.store.id_viz};console.log(T),P.loading.show({message:"Procesando archivo, espera.."}),dt.getMassive(T).then(R=>{let $=R.data,w=0,f=ue($);if($.fails.notFound.map(x=>W.value.wndNotExist.push(x)),W.value.wndGetRows=f.add.length,W.value.state=!W.value.state,W.value.wndGetAdded=f.add,W.value.wndNoDataFound=f.notFound,W.value.wndNoDataFound.length>0){let x=W.value.wndNoDataFound.length;W.value.message=x<=1?"El producto no contiene precios.":"Los productos no contienen precios."}f.add.map(x=>{let N=Pe(x.prices,x.pieces);x._copies=1,x.type=N.type,x.usedPrices=N.prices,_.value.push(x),w++}),w&&!$.fails.notFound.length&&d.length==l.length?P.notify({message:`Etiquetas generadas: ${w}`,color:"positive",icon:"done",timeout:1e3}):(v=l.length-d.length,W.value.messageRepeat=v<=1?`${v} producto se repitio. Favor de validar su documento antes de subirlo.`:`${v} productos se repitieron. Favor de validar su documento antes de subirlo.`),console.log(W.value),P.loading.hide()}).catch(R=>{console.log(R),P.notify({message:"Hay un problema con obtener los datos :/.",icon:"fas fa-grin-beam-sweat",color:"negative"})})}else P.notify({message:"Vaya!! Al parecer este archivo esta vacio.",icon:"fas fa-grin-beam-sweat",color:"negative"})})},Pe=(r,n)=>{let l=[...r];const d=l.find(y=>y.pivot._type==4),v=l.find(y=>y.pivot._type==1);if(d.pivot.price==v.pivot.price){let y={id:0,alias:"OFERTA",name:"Oferta",pivot:{price:l[0].pivot.price},used:!0};return console.log("oferta"),{type:"off",prices:[y]}}else return console.log("estandar"),{type:"std",prices:l}},qe=r=>{switch(r){case"off":return"orange-9";case"std":return"green-9"}},He=()=>{P.loading.show({message:"Generando Etiquetas"}),u.value.val.id==1?Qe(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==2?Le(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==3?Ie(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==4?We(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==5?Te(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==6?Re(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==7?Ve(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==8?De(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==9?Me(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==10?Ye(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==11&&Ge(_.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")})},Le=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Navidad/Navidad6(2).png",E="PNG",e=new X({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=100,x=85,N=5,q=5,b=2,S=b*3;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(30),e.setFont("helvetica","bold"),e.text(a.name,t+61,o+77),e.setFontSize(14),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+10,o+25),e.setFontSize(12);let g=o+39,p=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(22),e.setFont("helvetica","bold"),e.text("Unico Precio",t+30,g+m*p+5),e.setFontSize(28),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+34,g+m*p+20)):(e.setFontSize(22),e.setFont("helvetica","bold"),e.text(s.alias,t+23,g+m*p),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+45,g+m*p))}),e.setFontSize(16),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+10,o+12),e.text(a.large,t+18,o+74),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+70,o+12),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+19,o+77)}),e.save(`${Q.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Qe=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Navidad/Navidad6(2).png",E="PNG",e=new X({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=205,x=125,N=5,q=5,b=1,S=b*2;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(70),e.setFont("helvetica","bold"),e.text(a.name,t+120,o+112),e.setFontSize(20),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+18,o+31),e.setFontSize(12);let g=o+39,p=12;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(35),e.setFont("helvetica","bold"),e.text("Unico Precio",t+60,g+m*p+10),e.setFontSize(50),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+64,g+m*p+35)):(e.setFontSize(35),e.setFont("helvetica","bold"),e.text(s.alias,t+60,g+m*p+15),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+93,g+m*p+15))}),e.setFontSize(45),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+18,o+23),e.text(a.large,t+35,o+112),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+185,o+23,{align:"right"}),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+38,o+114)}),e.save(`${Q.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Ie=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Navidad/Navidad9(1).png",E="PNG",e=new X({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=65,x=85,N=5,q=5,b=3,S=b*3;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+37,o+77),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+5,o+25),e.setFontSize(12);let g=o+40,p=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(18),e.setFont("helvetica","bold"),e.text("Unico Precio",t+13,g+m*p),e.setFontSize(26),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+13,g+m*p+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+10,g+m*p),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+30,g+m*p))}),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+25,o+20),e.text(a.large,t+18,o+77),e.text(`${a.pieces} PZS`,t+20,o+73),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+79)}),e.save(`${Q.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),We=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Navidad/NaviSan(1).png",E="PNG",e=new X({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=67,x=63,N=0,q=3,b=3,S=b*4;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(a.name,t+23,o+37),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(a.label.substring(0,25),t+15,o+43),e.setFontSize(10);let k=o+36,C=12;a.usedPrices.filter(g=>I.value.val.includes(g.id)).forEach((g,p)=>{g.alias=="OFERTA"?(e.setFontSize(10),e.setFont("helvetica","bold"),e.text("Unico Precio",t+23,k+p*C+12),e.setFontSize(14),e.text(`$ ${Number(g.pivot.price).toFixed(0)}`,t+27,k+p*C+17)):(e.setFontSize(10),e.setFont("helvetica","bold"),e.text(g.alias,t+p*C+10,k+12),e.text(`$ ${Number(g.pivot.price).toFixed(0)}`,t+p*C+10,k+16))}),e.setFontSize(6),e.setFont("helvetica","bold"),e.text(`(${a.code})`,t+28,o+40),e.text(a.large,t+40,o+55),e.text(`${a.pieces} PZS`,t+40,o+57)}),e.save(`${Q.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Te=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Navidad/NavidadVer(2).png",E="PNG",e=new X({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=48,x=85,N=5,q=5,b=4,S=b*4;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+20,o+80),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-15,C=e.splitTextToSize(a.label,k);e.text(C,t+5,o+22),e.setFontSize(12);let g=o+35,p=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(18),e.setFont("helvetica","bold"),e.text("Unico Precio",t+5,g+m*p),e.setFontSize(26),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+10,g+m*p+15)):(e.setFontSize(16),e.setFont("helvetica","bold"),e.text(s.alias,t+5,g+m*p),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+20,g+m*p))}),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+24,o+17,{align:"center"}),e.text(a.large,t+20,o+68),e.text(`${a.pieces} PZS`,t+20,o+73),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+81)}),e.save(`${Q.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Re=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/Ninio.png",E="PNG",e=new X({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=65,x=85,N=5,q=5,b=3,S=b*3;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+15,o+10),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+3,o+25),e.setFontSize(12);let g=o+40,p=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+5,g+m*p),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+5,g+m*p+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+2,g+m*p),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+19,g+m*p))}),e.setFontSize(10),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+45,o+40),e.text(a.large,t+45,o+52),e.text(`${a.pieces} PZS`,t+45,o+46),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${Q.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Ve=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/Ninia.png",E="PNG",e=new X({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=65,x=85,N=5,q=5,b=3,S=b*3;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+15,o+20),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+5,o+25),e.setFontSize(12);let g=o+40,p=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+15,g+m*p),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+15,g+m*p+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+15,g+m*p),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+32,g+m*p))}),e.setFontSize(13),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+62,o+70,{align:"right"}),e.setFont("helvetica","normal"),e.text(a.large,t+15,o+65),e.text(`${a.pieces} PZS`,t+15,o+70),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${Q.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),De=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/xlargeninia.png",E="PNG",e=new X({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=205,x=125,N=5,q=5,b=1,S=b*2;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(70),e.setFont("helvetica","bold"),e.text(a.name,t+120,o+112),e.setFontSize(20),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+18,o+31),e.setFontSize(12);let g=o+39,p=12;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(35),e.setFont("helvetica","bold"),e.text("Unico Precio",t+60,g+m*p+10),e.setFontSize(50),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+64,g+m*p+35)):(e.setFontSize(35),e.setFont("helvetica","bold"),e.text(s.alias,t+60,g+m*p+15),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+93,g+m*p+15))}),e.setFontSize(45),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+18,o+23),e.text(a.large,t+35,o+112),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+185,o+23,{align:"right"}),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+38,o+114)}),e.save(`${Q.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Me=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/xlargeninio.png",E="PNG",e=new X({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=205,x=125,N=5,q=5,b=1,S=b*2;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(70),e.setFont("helvetica","bold"),e.text(a.name,t+120,o+112),e.setFontSize(20),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+18,o+31),e.setFontSize(12);let g=o+39,p=12;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(35),e.setFont("helvetica","bold"),e.text("Unico Precio",t+60,g+m*p+10),e.setFontSize(50),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+64,g+m*p+35)):(e.setFontSize(35),e.setFont("helvetica","bold"),e.text(s.alias,t+60,g+m*p+15),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+93,g+m*p+15))}),e.setFontSize(45),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+18,o+23),e.text(a.large,t+35,o+112),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+185,o+23,{align:"right"}),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+38,o+114)}),e.save(`${Q.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Ye=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/Ninio.png",E="PNG",e=new X({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=100,x=60,N=5,q=5,b=2,S=b*4;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+5,o+10),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+5,o+15),e.setFontSize(12);let g=o+25,p=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+15,g+m*p),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+15,g+m*p+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+15,g+m*p),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+32,g+m*p))}),e.setFontSize(13),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+70,o+25),e.text(a.large,t+45,o+52),e.text(`${a.pieces} PZS`,t+70,o+30),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${Q.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Ge=r=>new Promise((n,l)=>{try{const d=r,v=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)v.push(a)});const y="/icons/Juguete/Ninia.png",E="PNG",e=new X({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=100,x=60,N=5,q=5,b=2,S=b*4;v.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+N),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,E,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+5,o+20),e.setFontSize(10),e.setFont("helvetica","normal");const k=f-20,C=e.splitTextToSize(a.label,k);e.text(C,t+5,o+25),e.setFontSize(12);let g=o+32,p=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+20,g+m*p),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+20,g+m*p+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+20,g+m*p),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+37,g+m*p))}),e.setFontSize(13),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+70,o+32),e.text(a.large,t+45,o+52),e.text(`${a.pieces} PZS`,t+70,o+37),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${Q.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}});return(r,n)=>(j(),le(st,{view:"hHh Lpr fFf"},{default:h(()=>[c(Je,{class:"transparent text-dark",bordered:""},{default:h(()=>[c(rt),c(oe),c(je,{class:"justify-between"},{default:h(()=>[c(V,{flat:"",onClick:n[0]||(n[0]=l=>O.value.state=!O.value.state),round:"",dense:"",icon:"menu"}),z("div",null,[n[10]||(n[10]=ae("Helpers ")),c(Se,{name:"navigate_next",color:"primary"}),n[11]||(n[11]=ae()),n[12]||(n[12]=z("span",{class:"text-h6"},"Creacion de Etiquetas",-1))])]),_:1})]),_:1}),c(nt,null,{default:h(()=>[c(lt,{padding:""},{default:h(()=>[c(ne,{class:"my-card"},{default:h(()=>[c(ct,{checkState:!1,onInput:J,with_prices:"",onAgregar:re,with_locations:""})]),_:1}),c(oe,{spaced:"",inset:"",vertical:"",dark:""}),c(Ke,{modelValue:O.value.state,"onUpdate:modelValue":n[4]||(n[4]=l=>O.value.state=l),"show-if-above":"",width:200,breakpoint:500,bordered:"",class:Be(Ue(P).dark.isActive?"bg-grey-9":"bg-grey-3")},{default:h(()=>[z("div",null,[c(oe,{spaced:"",inset:"",vertical:"",dark:""}),n[13]||(n[13]=z("div",{class:"text-center text-bold"},"Precios",-1)),z("div",ft,[c(Ze,{options:I.value.opts,type:"checkbox",modelValue:I.value.val,"onUpdate:modelValue":n[1]||(n[1]=l=>I.value.val=l)},null,8,["options","modelValue"])])]),c(oe,{spaced:"",inset:"",vertical:"",dark:""}),n[14]||(n[14]=z("div",{class:"text-center text-bold"}," Opciones ",-1)),z("div",ht,[c(we,{spread:""},{default:h(()=>[c(V,{color:"primary",icon:"upload_file",flat:"",title:"Subir Etiquetas",onClick:Ce}),_.value.length?(j(),se(ce,{key:0},[c(V,{color:"primary",icon:"delete",flat:"",title:"Eliminar Etiquetas",onClick:n[2]||(n[2]=l=>A.value.state=!A.value.state)}),c(V,{color:"primary",icon:"download",flat:"",title:"Descargar Etquetas",onClick:n[3]||(n[3]=l=>u.value.state=!u.value.state)})],64)):pe("",!0)]),_:1}),z("input",{type:"file",ref_key:"inputFile",ref:ie,id:"inputFile",onInput:Ee,hidden:"",accept:".xlsx,.xls"},null,544)])]),_:1},8,["modelValue","class"]),c(ot,{rows:_.value,"row-key":"name",grid:"",filter:G.value.filter,pagination:G.value.pagination,"no-data-label":"''"},{"top-right":h(()=>[c(et,{borderless:"",dense:"",debounce:"300",modelValue:G.value.filter,"onUpdate:modelValue":n[5]||(n[5]=l=>G.value.filter=l),placeholder:"Buscar"},{append:h(()=>[c(Se,{name:"search"})]),_:1},8,["modelValue"])]),item:h(l=>[z("div",xt,[c(ne,{class:"my-card"},{default:h(()=>[c(ee,null,{default:h(()=>{var d;return[c(tt,{size:"sm",class:"fixed-right absolute-right text-bold text-white text-uppercase",color:qe(l.row.type)},{default:h(()=>[ae(Y(l.row.type),1)]),_:2},1032,["color"]),z("div",bt,Y(l.row.code),1),z("div",Ft,Y(l.row.name),1),z("div",Pt,Y(l.row.label),1),z("div",St,"Longitud: "+Y(l.row.large),1),z("div",yt,"Ubicacion: "+Y((d=l.row.locations)==null?void 0:d.map(v=>v.path).join("/")),1),c(oe,{spaced:"",inset:"",vertical:"",dark:""}),z("div",zt,[(j(!0),se(ce,null,ve(l.row.usedPrices.filter(v=>I.value.val.includes(v.id)),(v,y)=>(j(),se("div",{class:"col items-start",key:y},[z("div",$t,Y(v.alias),1),z("div",wt,Y(v.pivot.price),1)]))),128))])]}),_:2},1024),c(de,{align:"center"},{default:h(()=>[c(V,{flat:"",icon:"delete",color:"negative",onClick:d=>Z(l.row)},null,8,["onClick"]),c(V,{flat:"",icon:"add",onClick:d=>l.row._copies++},null,8,["onClick"]),z("div",null,[n[15]||(n[15]=z("div",{class:"text-caption text--2"},"copias",-1)),z("div",_t,Y(l.row._copies),1)]),c(V,{flat:"",icon:"remove",onClick:d=>l.row._copies<=1?"":l.row._copies--},null,8,["onClick"])]),_:2},1024)]),_:2},1024)])]),bottom:h(l=>[c(mt,{position:"bottom",class:"full-width",offset:[0,18]},{default:h(()=>[z("div",Nt,[c(we,{rounded:"",flat:"",color:"primary"},{default:h(()=>[l.pagesNumber>2?(j(),le(V,{key:0,icon:"first_page",round:"",dense:"",flat:"",disable:l.isFirstPage,onClick:l.firstPage,class:"q-px-sm"},null,8,["disable","onClick"])):pe("",!0),c(V,{icon:"chevron_left",round:"",dense:"",flat:"",disable:l.isFirstPage,onClick:l.prevPage,class:"q-px-sm"},null,8,["disable","onClick"]),c(V,{flat:"",disable:"","no-caps":""},{default:h(()=>[ae(Y(l.pagination.page)+" / "+Y(l.pagesNumber),1)]),_:2},1024),c(V,{icon:"chevron_right",round:"",dense:"",flat:"",disable:l.isLastPage,onClick:l.nextPage,class:"q-px-sm"},null,8,["disable","onClick"]),l.pagesNumber>2?(j(),le(V,{key:1,icon:"last_page",round:"",dense:"",flat:"",onClick:l.lastPage,class:"q-px-sm"},null,8,["onClick"])):pe("",!0)]),_:2},1024)])]),_:2},1024)]),"no-data":h(()=>n[16]||(n[16]=[])),_:1},8,["rows","filter","pagination"]),c(he,{modelValue:A.value.state,"onUpdate:modelValue":n[6]||(n[6]=l=>A.value.state=l),persistent:""},{default:h(()=>[c(ne,null,{default:h(()=>[c(ee,{class:"row items-center"},{default:h(()=>[c(ye,{icon:"warning",color:"white","text-color":"negative"}),n[17]||(n[17]=z("div",{class:"q-ml-sm"},"Se eliminaran todos los articulos de la lista ",-1))]),_:1}),c(ee,null,{default:h(()=>n[18]||(n[18]=[z("div",{class:"q-ml-sm"},"Deseas Continuar?",-1)])),_:1}),c(de,{align:"right"},{default:h(()=>[me(c(V,{flat:"",label:"No",color:"positive"},null,512),[[be]]),c(V,{flat:"",label:"Si",color:"negative",onClick:ke})]),_:1})]),_:1})]),_:1},8,["modelValue"]),c(he,{modelValue:u.value.state,"onUpdate:modelValue":n[8]||(n[8]=l=>u.value.state=l),persistent:""},{default:h(()=>[c(ne,null,{default:h(()=>[c(ee,{class:"row items-center"},{default:h(()=>[c(ye,{icon:"picture_as_pdf",color:"white","text-color":"red"}),n[19]||(n[19]=z("div",{class:"q-ml-sm"},"En que Formato deseas las etiquetas?",-1))]),_:1}),c(ee,null,{default:h(()=>[c(at,{modelValue:u.value.val,"onUpdate:modelValue":n[7]||(n[7]=l=>u.value.val=l),options:u.value.opts,label:"Etiquetas",filled:""},null,8,["modelValue","options"])]),_:1}),c(de,{align:"right"},{default:h(()=>[me(c(V,{flat:"",label:"Cancel",color:"negative"},null,512),[[be]]),c(V,{flat:"",label:"Generar",color:"positive",onClick:He,disable:u.value.val==null},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),c(he,{modelValue:W.value.state,"onUpdate:modelValue":n[9]||(n[9]=l=>W.value.state=l)},{default:h(()=>[c(ne,{class:"my-card",style:{width:"70%"}},{default:h(()=>[c(ee,{class:"items-center"},{default:h(()=>[n[20]||(n[20]=z("div",{class:"text-center text-bold"},"Repetidos",-1)),z("div",kt,Y(W.value.messageRepeat),1)]),_:1}),c(ee,null,{default:h(()=>[n[21]||(n[21]=z("div",{class:"text-center"},"Productos Sin Precio",-1)),c($e,null,{default:h(()=>[(j(!0),se(ce,null,ve(W.value.wndNoDataFound,(l,d)=>(j(),le(ze,{key:d},{default:h(()=>[c(xe,null,{default:h(()=>[c(fe,{overline:""},{default:h(()=>[ae(Y(l.code),1)]),_:2},1024)]),_:2},1024),c(xe,null,{default:h(()=>[c(fe,{caption:""},{default:h(()=>[ae(Y(l.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),c(ee,null,{default:h(()=>[n[22]||(n[22]=z("div",{class:"text-center"},"Productos Sin Existencia",-1)),c($e,null,{default:h(()=>[(j(!0),se(ce,null,ve(W.value.wndNotExist,(l,d)=>(j(),le(ze,{key:d},{default:h(()=>[c(xe,null,{default:h(()=>[c(fe,{overline:""},{default:h(()=>[ae(Y(l),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),c(de,{align:"right"},{default:h(()=>[me(c(V,{flat:"",label:"OK",color:"primary"},null,512),[[be]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{va as default};
