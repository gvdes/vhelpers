import{u as R,a as z,b as L}from"./QTabs.db4b49ad.js";import{i as T,r as M,c as o,l as U,t as V,j as u,U as W,aO as _,k as x,aP as F,aq as G}from"./index.15258eea.js";import{i as H,j as J}from"./use-key-composition.a5729965.js";import{T as X}from"./TouchSwipe.57e9e0a7.js";import{u as Y}from"./use-render-cache.3aae9b27.js";import{u as Z}from"./QList.78073681.js";var pe=T({name:"QTab",props:R,emits:z,setup(t,{slots:r,emit:s}){const{renderTab:p}=L(t,r,s);return()=>p("div")}});const ee={name:{required:!0},disable:Boolean},N={setup(t,{slots:r}){return()=>u("div",{class:"q-panel scroll",role:"tabpanel"},x(r.default))}},te={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ne=["update:modelValue","beforeTransition","transition"];function ae(){const{props:t,emit:r,proxy:s}=V(),{getCache:p}=Y(),{registerTimeout:P}=Z();let a,c;const d=M(null),i={value:null};function B(e){const n=t.vertical===!0?"up":"left";v((s.$q.lang.rtl===!0?-1:1)*(e.direction===n?1:-1))}const Q=o(()=>[[X,B,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),I=o(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),$=o(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),k=o(()=>`--q-transition-duration: ${t.transitionDuration}ms`),m=o(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),h=o(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),q=o(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);U(()=>t.modelValue,(e,n)=>{const l=f(e)===!0?g(e):-1;c!==!0&&C(l===-1?0:l<g(n)?-1:1),i.value!==l&&(i.value=l,r("beforeTransition",e,n),P(()=>{r("transition",e,n)},t.transitionDuration))});function A(){v(1)}function y(){v(-1)}function S(e){r("update:modelValue",e)}function f(e){return e!=null&&e!==""}function g(e){return a.findIndex(n=>n.props.name===e&&n.props.disable!==""&&n.props.disable!==!0)}function w(){return a.filter(e=>e.props.disable!==""&&e.props.disable!==!0)}function C(e){const n=e!==0&&t.animated===!0&&i.value!==-1?"q-transition--"+(e===-1?I.value:$.value):null;d.value!==n&&(d.value=n)}function v(e,n=i.value){let l=n+e;for(;l!==-1&&l<a.length;){const b=a[l];if(b!==void 0&&b.props.disable!==""&&b.props.disable!==!0){C(e),c=!0,r("update:modelValue",b.props.name),setTimeout(()=>{c=!1});return}l+=e}t.infinite===!0&&a.length!==0&&n!==-1&&n!==a.length&&v(e,e===-1?a.length:-1)}function D(){const e=g(t.modelValue);return i.value!==e&&(i.value=e),!0}function E(){const e=f(t.modelValue)===!0&&D()&&a[i.value];return t.keepAlive===!0?[u(F,h.value,[u(q.value===!0?p(m.value,()=>({...N,name:m.value})):N,{key:m.value,style:k.value},()=>e)])]:[u("div",{class:"q-panel scroll",style:k.value,key:m.value,role:"tabpanel"},[e])]}function j(){if(a.length!==0)return t.animated===!0?[u(W,{name:d.value},E)]:E()}function K(e){return a=_(x(e.default,[])).filter(n=>n.props!==null&&n.props.slot===void 0&&f(n.props.name)===!0),a.length}function O(){return a}return Object.assign(s,{next:A,previous:y,goTo:S}),{panelIndex:i,panelDirectives:Q,updatePanelsList:K,updatePanelIndex:D,getPanelContent:j,getEnabledPanels:w,getPanels:O,isValidPanelName:f,keepAliveProps:h,needsUniqueKeepAliveWrapper:q,goToPanelByOffset:v,goToPanel:S,nextPanel:A,previousPanel:y}}var ce=T({name:"QTabPanel",props:ee,setup(t,{slots:r}){return()=>u("div",{class:"q-tab-panel",role:"tabpanel"},x(r.default))}}),de=T({name:"QTabPanels",props:{...te,...H},emits:ne,setup(t,{slots:r}){const s=V(),p=J(t,s.proxy.$q),{updatePanelsList:P,getPanelContent:a,panelDirectives:c}=ae(),d=o(()=>"q-tab-panels q-panel-parent"+(p.value===!0?" q-tab-panels--dark q-dark":""));return()=>(P(r),G("div",{class:d.value},a(),"pan",t.swipeable,()=>c.value))}});export{pe as Q,de as a,ce as b};
