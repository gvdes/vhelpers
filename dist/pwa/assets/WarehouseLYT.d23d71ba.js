import{b as d,a as S,d as p}from"./QList.1f70cddf.js";import{Q as L}from"./QHeader.89b15924.js";import{u as N,r as y,c as O,aX as T,o as b,d as D,w as a,e as o,f as _,al as g,S as H,a0 as z,a1 as k,g as w,Q as u,h as C}from"./index.37883b8c.js";import{d as h,Q as v}from"./QSelect.52efbb9f.js";import{Q as A}from"./QToolbar.6f84b052.js";import{Q as E,a as I}from"./QLayout.ccf73684.js";import{_ as W}from"./UserToolbar.9249626a.js";import{u as $}from"./warehousStore.8536e474.js";import"./axios.ca8f7ee4.js";import{u as j}from"./use-quasar.5a30a54a.js";import"./jspdf.plugin.autotable.33cfbecb.js";import{r as M}from"./reportApi.3e49df9b.js";import{l as x}from"./locationsApi.513dd3a5.js";import"./exceljs.min.9e24d01d.js";import"./JsBarcode.cb858474.js";import"./browser.c61f550a.js";import{r as c}from"./reports.31fed694.js";import"./QInput.681ed5b5.js";import"./QTd.f222ba4a.js";import"./QTr.fd53a04b.js";import"./QTable.593d5c5c.js";import"./QDate.85b3f922.js";import"./QCardSection.7e278d4b.js";import"./QCardActions.7ae68c4d.js";import"./QCard.4b8f2d7c.js";import"./QPage.5abae0cb.js";import"./Restock.10a1bac0.js";import"./dayjs.min.cbcf888d.js";import"./use-key-composition.56eb4ad7.js";import"./QResizeObserver.5f9820e3.js";import"./QScrollObserver.c4f04bd6.js";import"./QDrawer.19506a39.js";import"./use-checkbox.14e09b31.js";import"./QExpansionItem.982b68e3.js";import"./ClosePopup.13ae9437.js";import"./auth.ff99343f.js";import"./_commonjsHelpers.88e99c8f.js";import"./QLinearProgress.9dfa93a9.js";import"./QCheckbox.9052b8c7.js";import"./use-render-cache.3aae9b27.js";import"./date.fc3d76b9.js";import"./QForm.87605119.js";import"./QRadio.fb2c76b7.js";import"./QPopupEdit.0d4ec32e.js";/* empty css                                                       */const q={class:"text-h6"},F={key:0,class:"row"},P={key:1,class:"row"},Io={__name:"WarehouseLYT",setup(X){const m=N(),n=j(),f=$(),l=y({type:{val:{id:1,label:"Con Stock Sin Ubicacion",alias:"CSSU"},opts:[{id:1,label:"Con Stock Sin Ubicacion",alias:"CSSU"},{id:2,label:"Sin Stock Con Ubicacion",alias:"SSCU"},{id:3,label:"Con Stock Con Ubicacion",alias:"CSCU"}]},seccion:{val:null,opts:[]}}),i=y({type:{val:{id:2,label:"Con Stock Sin Min y Max",alias:"CSCMM"},opts:[{id:1,label:"Con Stock Con Min y Max",alias:"CSCMM"},{id:2,label:"Con Stock Sin Min y Max",alias:"CSSMM"},{id:3,label:"Sin Stock Con Min y Max",alias:"SSCMM"}]},seccion:{val:null,opts:[]}}),V=async()=>{n.loading.show({message:"Obteniendo Secciones"});const t=await M.index();t.error?console.log(t):(console.log(t),n.loading.hide(),l.value.seccion.opts=t.seccion)},Q=async()=>{n.loading.show({message:"Obteniendo Secciones"});const t=await M.index();t.error?console.log(t):(console.log(t),n.loading.hide(),i.value.seccion.opts=t.seccion)},U=async()=>{n.loading.show({message:"Obteniendo Reporte"}),console.log(l.value);let t={_rol:m.session.credentials._rol,workpoint:m.session.store.id_viz,_type:l.value.type.val.id,section:l.value.seccion.val.id};console.log(t);const e=await x.reportLocations(t);if(e.fail)console.log(e);else if(n.loading.hide(),e.length>0){let s={key:l.value.type.val.alias,value:e};switch(console.log(s),l.value.type.val.id){case 1:c.conStockSinUbicar(s);break;case 2:c.sinStockUbicados(s);break;case 3:c.conStockUbicados(s);break}}else n.notify({message:"No hay productos por mostrar",type:"positive",position:"top"})},R=async()=>{n.loading.show({message:"Obteniendo Reporte"}),console.log(l.value);let t={_rol:m.session.credentials._rol,workpoint:m.session.store.id_viz,_type:i.value.type.val.id,section:i.value.seccion.val.id};console.log(t);const e=await x.reportMinMax(t);if(e.fail)console.log(e);else if(n.loading.hide(),console.log(e),e.length>0){let s={key:i.value.type.val.alias,value:e};switch(console.log(s),i.value.type.val.id){case 1:c.conMaximos(s);break;case 2:c.sinMaximos(s);break;case 3:c.conMaximos(s);break}}else n.notify({message:"No hay productos por mostrar",type:"positive",position:"top"})},B=O(()=>f.title);return(t,e)=>{const s=T("router-view");return b(),D(E,{view:"hHh Lpr fFf"},{default:a(()=>[o(L,{class:"transparent text-dark",bordered:""},{default:a(()=>[o(W),o(d)]),_:1}),o(I,null,{default:a(()=>[o(A,{class:"justify-between"},{default:a(()=>[_("div",null,[e[4]||(e[4]=g("Helpers ")),o(H,{name:"navigate_next",color:"primary"}),e[5]||(e[5]=g()),_("span",q,z(B.value),1)]),k(f).showReportLocations?(b(),w("div",F,[o(u,{color:"primary",title:"Sin Stock Con Ubicacion",icon:"show_chart",outline:""},{default:a(()=>[o(h,{onShow:V},{default:a(()=>[o(S,{style:{"min-width":"250px"}},{default:a(()=>[o(p,null,{default:a(()=>[o(v,{modelValue:l.value.type.val,"onUpdate:modelValue":e[0]||(e[0]=r=>l.value.type.val=r),options:l.value.type.opts,label:"Tipo Reporte",filled:"",dense:""},null,8,["modelValue","options"])]),_:1}),o(d),o(p,null,{default:a(()=>[o(v,{modelValue:l.value.seccion.val,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value.seccion.val=r),options:l.value.seccion.opts,label:"Seccion","option-label":"name",filled:"",dense:"",style:{width:"200px"}},null,8,["modelValue","options"])]),_:1}),o(d),o(p,null,{default:a(()=>[o(u,{label:"Obtener",onClick:U,flat:"",disable:!l.value.seccion.val},null,8,["disable"])]),_:1})]),_:1})]),_:1})]),_:1})])):C("",!0),k(f).showReportMinMax?(b(),w("div",P,[o(u,{color:"primary",title:"Sin Stock Con Ubicacion",icon:"show_chart",outline:""},{default:a(()=>[o(h,{onShow:Q},{default:a(()=>[o(S,{style:{"min-width":"250px"}},{default:a(()=>[o(p,null,{default:a(()=>[o(v,{modelValue:i.value.type.val,"onUpdate:modelValue":e[2]||(e[2]=r=>i.value.type.val=r),options:i.value.type.opts,label:"Tipo Reporte",filled:"",dense:""},null,8,["modelValue","options"])]),_:1}),o(d),o(p,null,{default:a(()=>[o(v,{modelValue:i.value.seccion.val,"onUpdate:modelValue":e[3]||(e[3]=r=>i.value.seccion.val=r),options:i.value.seccion.opts,label:"Seccion","option-label":"name",filled:"",dense:"",style:{width:"200px"}},null,8,["modelValue","options"])]),_:1}),o(d),o(p,null,{default:a(()=>[o(u,{label:"Obtener",onClick:R,flat:"",disable:!i.value.seccion.val},null,8,["disable"])]),_:1})]),_:1})]),_:1})]),_:1})])):C("",!0)]),_:1}),o(s)]),_:1})]),_:1})}}};export{Io as default};
