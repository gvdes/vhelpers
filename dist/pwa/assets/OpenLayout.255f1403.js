import{b as me}from"./QList.39020a9d.js";import{Q as Ue}from"./QHeader.db7dcc53.js";import{ao as Ce,i as ye,ap as Ve,c as F,j as f,ar as Ee,q as ne,r as z,I as he,z as Fe,G as Be,K as Re,J as Ne,aW as Qe,n as je,t as De,aX as Pe,y as Le,aM as Oe,F as fe,E as we,Q as oe,aL as Te,u as Ae,o as J,d as Me,w as x,e as i,f as A,ak as _e,g as Z,h as ee}from"./index.f266ad19.js";import{Q as $e}from"./QToolbar.01317418.js";import{l as Ie,m as He,p as We,Q as Xe,a as B}from"./axios.b21a6f11.js";import{b as Ge,o as ge,Q as K}from"./QSelect.4c45b4c7.js";import{Q as M}from"./QInput.460a9556.js";import{Q as Je}from"./QForm.5bc9b4d3.js";import{Q as Ke}from"./QPage.716be7e0.js";import{Q as Ye,a as Ze}from"./QLayout.fddfcc77.js";import{_ as ea}from"./UserToolbar.32548e1a.js";import{O as le}from"./OpenCash.12ebf121.js";import{u as aa}from"./use-quasar.233baf72.js";import"./QDrawer.f5e8dcdb.js";import"./QTable.db201f63.js";import"./QDate.6840a4fd.js";import"./QCardActions.21981229.js";import"./auto.b134c725.js";import"./dayjs.min.cbcf888d.js";import"./exceljs.min.9e24d01d.js";import"./jspdf.plugin.autotable.4adbf417.js";import"./QResizeObserver.64997b12.js";import"./QScrollObserver.5c7b8f4a.js";import"./ClosePopup.9a2e3d96.js";import"./auth.95e538bd.js";import"./QLinearProgress.f1844fce.js";import"./QCheckbox.07881102.js";import"./use-render-cache.3aae9b27.js";import"./date.7d376eb1.js";import"./_commonjsHelpers.88e99c8f.js";const ta={...Ce,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:l=>l>=0&&l<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},ue=50,xe=2*ue,ke=xe*Math.PI,la=Math.round(ke*1e3)/1e3;var oa=ye({name:"QCircularProgress",props:{...ta,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(l,{slots:c}){const{proxy:{$q:s}}=ne(),r=Ve(l),d=F(()=>{const h=(s.lang.rtl===!0?-1:1)*l.angle;return{transform:l.reverse!==(s.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-h}deg)`:`rotate3d(0, 0, 1, ${h-90}deg)`}}),y=F(()=>l.instantFeedback!==!0&&l.indeterminate!==!0?{transition:`stroke-dashoffset ${l.animationSpeed}ms ease 0s, stroke ${l.animationSpeed}ms ease`}:""),S=F(()=>xe/(1-l.thickness/2)),U=F(()=>`${S.value/2} ${S.value/2} ${S.value} ${S.value}`),q=F(()=>Ge(l.value,l.min,l.max)),a=F(()=>l.max-l.min),C=F(()=>l.thickness/2*S.value),Q=F(()=>{const h=(l.max-q.value)/a.value,e=l.rounded===!0&&q.value<l.max&&h<.25?C.value/2*(1-h/.25):0;return ke*h+e});function N({thickness:h,offset:e,color:b,cls:V,rounded:p}){return f("circle",{class:"q-circular-progress__"+V+(b!==void 0?` text-${b}`:""),style:y.value,fill:"transparent",stroke:"currentColor","stroke-width":h,"stroke-dasharray":la,"stroke-dashoffset":e,"stroke-linecap":p,cx:S.value,cy:S.value,r:ue})}return()=>{const h=[];l.centerColor!==void 0&&l.centerColor!=="transparent"&&h.push(f("circle",{class:`q-circular-progress__center text-${l.centerColor}`,fill:"currentColor",r:ue-C.value/2,cx:S.value,cy:S.value})),l.trackColor!==void 0&&l.trackColor!=="transparent"&&h.push(N({cls:"track",thickness:C.value,offset:0,color:l.trackColor})),h.push(N({cls:"circle",thickness:C.value,offset:Q.value,color:l.color,rounded:l.rounded===!0?"round":void 0}));const e=[f("svg",{class:"q-circular-progress__svg",style:d.value,viewBox:U.value,"aria-hidden":"true"},h)];return l.showValue===!0&&e.push(f("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:l.fontSize}},c.default!==void 0?c.default():[f("div",q.value)])),f("div",{class:`q-circular-progress q-circular-progress--${l.indeterminate===!0?"in":""}determinate`,style:r.value,role:"progressbar","aria-valuemin":l.min,"aria-valuemax":l.max,"aria-valuenow":l.indeterminate===!0?void 0:q.value},Ee(c.internal,e))}}});function X(l,c,s,r){const d=[];return l.forEach(y=>{r(y)===!0?d.push(y):c.push({failedPropValidation:s,file:y})}),d}function ae(l){l&&l.dataTransfer&&(l.dataTransfer.dropEffect="copy"),Fe(l)}const ua={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},na=["rejected"];function ra({editable:l,dnd:c,getFileInput:s,addFilesToQueue:r}){const{props:d,emit:y,proxy:S}=ne(),U=z(null),q=F(()=>d.accept!==void 0?d.accept.split(",").map(o=>(o=o.trim(),o==="*"?"*/":(o.endsWith("/*")&&(o=o.slice(0,o.length-1)),o.toUpperCase()))):null),a=F(()=>parseInt(d.maxFiles,10)),C=F(()=>parseInt(d.maxTotalSize,10));function Q(o){if(l.value)if(o!==Object(o)&&(o={target:null}),o.target!==null&&o.target.matches('input[type="file"]')===!0)o.clientX===0&&o.clientY===0&&he(o);else{const t=s();t&&t!==o.target&&t.click(o)}}function N(o){l.value&&o&&r(null,o)}function h(o,t,n,T){let m=Array.from(t||o.target.files);const w=[],j=()=>{w.length!==0&&y("rejected",w)};if(d.accept!==void 0&&q.value.indexOf("*/")===-1&&(m=X(m,w,"accept",_=>q.value.some(k=>_.type.toUpperCase().startsWith(k)||_.name.toUpperCase().endsWith(k))),m.length===0))return j();if(d.maxFileSize!==void 0){const _=parseInt(d.maxFileSize,10);if(m=X(m,w,"max-file-size",k=>k.size<=_),m.length===0)return j()}if(d.multiple!==!0&&m.length!==0&&(m=[m[0]]),m.forEach(_=>{_.__key=_.webkitRelativePath+_.lastModified+_.name+_.size}),T===!0){const _=n.map(k=>k.__key);m=X(m,w,"duplicate",k=>_.includes(k.__key)===!1)}if(m.length===0)return j();if(d.maxTotalSize!==void 0){let _=T===!0?n.reduce((k,P)=>k+P.size,0):0;if(m=X(m,w,"max-total-size",k=>(_+=k.size,_<=C.value)),m.length===0)return j()}if(typeof d.filter=="function"){const _=d.filter(m);m=X(m,w,"filter",k=>_.includes(k))}if(d.maxFiles!==void 0){let _=T===!0?n.length:0;if(m=X(m,w,"max-files",()=>(_++,_<=a.value)),m.length===0)return j()}if(j(),m.length!==0)return m}function e(o){ae(o),c.value!==!0&&(c.value=!0)}function b(o){Fe(o),(o.relatedTarget!==null||Be.is.safari!==!0?o.relatedTarget!==U.value:document.elementsFromPoint(o.clientX,o.clientY).includes(U.value)===!1)===!0&&(c.value=!1)}function V(o){ae(o);const t=o.dataTransfer.files;t.length!==0&&r(null,t),c.value=!1}function p(o){if(c.value===!0)return f("div",{ref:U,class:`q-${o}__dnd absolute-full`,onDragenter:ae,onDragover:ae,onDragleave:b,onDrop:V})}return Object.assign(S,{pickFiles:Q,addFiles:N}),{pickFiles:Q,addFiles:N,onDragover:e,onDragleave:b,processFiles:h,getDndNode:p,maxFilesNumber:a,maxTotalSizeNumber:C}}function be(l){return(l*100).toFixed(2)+"%"}const sa={...Ie,...ua,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Se=[...na,"start","finish","added","removed"];function ia(l,c){const s=ne(),{props:r,slots:d,emit:y,proxy:S}=s,{$q:U}=S,q=He(r,U);function a(u,g,E){if(u.__status=g,g==="idle"){u.__uploaded=0,u.__progress=0,u.__sizeLabel=ge(u.size),u.__progressLabel="0.00%";return}if(g==="failed"){S.$forceUpdate();return}u.__uploaded=g==="uploaded"?u.size:E,u.__progress=g==="uploaded"?1:Math.min(.9999,u.__uploaded/u.size),u.__progressLabel=be(u.__progress),S.$forceUpdate()}const C=F(()=>r.disable!==!0&&r.readonly!==!0),Q=z(!1),N=z(null),h=z(null),e={files:z([]),queuedFiles:z([]),uploadedFiles:z([]),uploadedSize:z(0),updateFileStatus:a,isAlive:()=>Re(s)===!1},{pickFiles:b,addFiles:V,onDragover:p,onDragleave:o,processFiles:t,getDndNode:n,maxFilesNumber:T,maxTotalSizeNumber:m}=ra({editable:C,dnd:Q,getFileInput:ie,addFilesToQueue:de});Object.assign(e,l({props:r,slots:d,emit:y,helpers:e,exposeApi:u=>{Object.assign(e,u)}})),e.isBusy===void 0&&(e.isBusy=z(!1));const w=z(0),j=F(()=>w.value===0?0:e.uploadedSize.value/w.value),_=F(()=>be(j.value)),k=F(()=>ge(w.value)),P=F(()=>C.value===!0&&e.isUploading.value!==!0&&(r.multiple===!0||e.queuedFiles.value.length===0)&&(r.maxFiles===void 0||e.files.value.length<T.value)&&(r.maxTotalSize===void 0||w.value<m.value)),v=F(()=>C.value===!0&&e.isBusy.value!==!0&&e.isUploading.value!==!0&&e.queuedFiles.value.length!==0);Ne(Qe,ve);const $=F(()=>"q-uploader column no-wrap"+(q.value===!0?" q-uploader--dark q-dark":"")+(r.bordered===!0?" q-uploader--bordered":"")+(r.square===!0?" q-uploader--square no-border-radius":"")+(r.flat===!0?" q-uploader--flat no-shadow":"")+(r.disable===!0?" disabled q-uploader--disable":"")+(Q.value===!0?" q-uploader--dnd":"")),I=F(()=>"q-uploader__header"+(r.color!==void 0?` bg-${r.color}`:"")+(r.textColor!==void 0?` text-${r.textColor}`:""));je(e.isUploading,(u,g)=>{g===!1&&u===!0?y("start"):g===!0&&u===!1&&y("finish")});function H(){r.disable===!1&&(e.abort(),e.uploadedSize.value=0,w.value=0,se(),e.files.value=[],e.queuedFiles.value=[],e.uploadedFiles.value=[])}function D(){r.disable===!1&&re(["uploaded"],()=>{e.uploadedFiles.value=[]})}function Y(){re(["idle","failed"],({size:u})=>{w.value-=u,e.queuedFiles.value=[]})}function re(u,g){if(r.disable===!0)return;const E={files:[],size:0},L=e.files.value.filter(R=>u.indexOf(R.__status)===-1?!0:(E.size+=R.size,E.files.push(R),R.__img!==void 0&&window.URL.revokeObjectURL(R.__img.src),!1));E.files.length!==0&&(e.files.value=L,g(E),y("removed",E.files))}function te(u){r.disable||(u.__status==="uploaded"?e.uploadedFiles.value=e.uploadedFiles.value.filter(g=>g.__key!==u.__key):u.__status==="uploading"?u.__abort():w.value-=u.size,e.files.value=e.files.value.filter(g=>g.__key!==u.__key?!0:(g.__img!==void 0&&window.URL.revokeObjectURL(g.__img.src),!1)),e.queuedFiles.value=e.queuedFiles.value.filter(g=>g.__key!==u.__key),y("removed",[u]))}function se(){e.files.value.forEach(u=>{u.__img!==void 0&&window.URL.revokeObjectURL(u.__img.src)})}function ie(){return h.value||N.value.getElementsByClassName("q-uploader__input")[0]}function de(u,g){const E=t(u,g,e.files.value,!0),L=ie();L!=null&&(L.value=""),E!==void 0&&(E.forEach(R=>{if(e.updateFileStatus(R,"idle"),w.value+=R.size,r.noThumbnails!==!0&&R.type.toUpperCase().startsWith("IMAGE")){const pe=new Image;pe.src=window.URL.createObjectURL(R),R.__img=pe}}),e.files.value=e.files.value.concat(E),e.queuedFiles.value=e.queuedFiles.value.concat(E),y("added",E),r.autoUpload===!0&&e.upload())}function ce(){v.value===!0&&e.upload()}function G(u,g,E){if(u===!0){const L={type:"a",key:g,icon:U.iconSet.uploader[g],flat:!0,dense:!0};let R;return g==="add"?(L.onClick=b,R=ve):L.onClick=E,f(oe,L,R)}}function ve(){return f("input",{ref:h,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:r.accept,multiple:r.multiple===!0?"multiple":void 0,capture:r.capture,onMousedown:he,onClick:b,onChange:de})}function qe(){return d.header!==void 0?d.header(W):[f("div",{class:"q-uploader__header-content column"},[f("div",{class:"flex flex-center no-wrap q-gutter-xs"},[G(e.queuedFiles.value.length!==0,"removeQueue",Y),G(e.uploadedFiles.value.length!==0,"removeUploaded",D),e.isUploading.value===!0?f(fe,{class:"q-uploader__spinner"}):null,f("div",{class:"col column justify-center"},[r.label!==void 0?f("div",{class:"q-uploader__title"},[r.label]):null,f("div",{class:"q-uploader__subtitle"},[k.value+" / "+_.value])]),G(P.value,"add"),G(r.hideUploadBtn===!1&&v.value===!0,"upload",e.upload),G(e.isUploading.value,"clear",e.abort)])])]}function ze(){return d.list!==void 0?d.list(W):e.files.value.map(u=>f("div",{key:u.__key,class:"q-uploader__file relative-position"+(r.noThumbnails!==!0&&u.__img!==void 0?" q-uploader__file--img":"")+(u.__status==="failed"?" q-uploader__file--failed":u.__status==="uploaded"?" q-uploader__file--uploaded":""),style:r.noThumbnails!==!0&&u.__img!==void 0?{backgroundImage:'url("'+u.__img.src+'")',backgroundSize:r.thumbnailFit}:null},[f("div",{class:"q-uploader__file-header row flex-center no-wrap"},[u.__status==="failed"?f(we,{class:"q-uploader__file-status",name:U.iconSet.type.negative,color:"negative"}):null,f("div",{class:"q-uploader__file-header-content col"},[f("div",{class:"q-uploader__title"},[u.name]),f("div",{class:"q-uploader__subtitle row items-center no-wrap"},[u.__sizeLabel+" / "+u.__progressLabel])]),u.__status==="uploading"?f(oa,{value:u.__progress,min:0,max:1,indeterminate:u.__progress===0}):f(oe,{round:!0,dense:!0,flat:!0,icon:U.iconSet.uploader[u.__status==="uploaded"?"done":"clear"],onClick:()=>{te(u)}})])]))}De(()=>{e.isUploading.value===!0&&e.abort(),e.files.value.length!==0&&se()});const W={};for(const u in e)Pe(e[u])===!0?Le(W,u,()=>e[u].value):W[u]=e[u];return Object.assign(W,{upload:ce,reset:H,removeUploadedFiles:D,removeQueuedFiles:Y,removeFile:te,pickFiles:b,addFiles:V}),Oe(W,{canAddFiles:()=>P.value,canUpload:()=>v.value,uploadSizeLabel:()=>k.value,uploadProgressLabel:()=>_.value}),c({...e,upload:ce,reset:H,removeUploadedFiles:D,removeQueuedFiles:Y,removeFile:te,pickFiles:b,addFiles:V,canAddFiles:P,canUpload:v,uploadSizeLabel:k,uploadProgressLabel:_}),()=>{const u=[f("div",{class:I.value},qe()),f("div",{class:"q-uploader__list scroll"},ze()),n("uploader")];e.isBusy.value===!0&&u.push(f("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[f(fe)]));const g={ref:N,class:$.value};return P.value===!0&&Object.assign(g,{onDragover:p,onDragleave:o}),f("div",g,u)}}const da=()=>!0;function ca(l){const c={};return l.forEach(s=>{c[s]=da}),c}const va=ca(Se);var pa=({name:l,props:c,emits:s,injectPlugin:r})=>ye({name:l,props:{...sa,...c},emits:Te(s)===!0?{...va,...s}:[...Se,...s],setup(d,{expose:y}){return ia(r,y)}});function O(l){return typeof l=="function"?l:()=>l}const ma="QUploader",fa={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>l=>l.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},_a=["factoryFailed","uploaded","failed","uploading"];function ga({props:l,emit:c,helpers:s}){const r=z([]),d=z([]),y=z(0),S=F(()=>({url:O(l.url),method:O(l.method),headers:O(l.headers),formFields:O(l.formFields),fieldName:O(l.fieldName),withCredentials:O(l.withCredentials),sendRaw:O(l.sendRaw),batch:O(l.batch)})),U=F(()=>y.value>0),q=F(()=>d.value.length!==0);let a;function C(){r.value.forEach(e=>{e.abort()}),d.value.length!==0&&(a=!0)}function Q(){const e=s.queuedFiles.value.slice(0);s.queuedFiles.value=[],S.value.batch(e)?N(e):e.forEach(b=>{N([b])})}function N(e){if(y.value++,typeof l.factory!="function"){h(e,{});return}const b=l.factory(e);if(!b)c("factoryFailed",new Error("QUploader: factory() does not return properly"),e),y.value--;else if(typeof b.catch=="function"&&typeof b.then=="function"){d.value.push(b);const V=p=>{s.isAlive()===!0&&(d.value=d.value.filter(o=>o!==b),d.value.length===0&&(a=!1),s.queuedFiles.value=s.queuedFiles.value.concat(e),e.forEach(o=>{s.updateFileStatus(o,"failed")}),c("factoryFailed",p,e),y.value--)};b.then(p=>{a===!0?V(new Error("Aborted")):s.isAlive()===!0&&(d.value=d.value.filter(o=>o!==b),h(e,p))}).catch(V)}else h(e,b||{})}function h(e,b){const V=new FormData,p=new XMLHttpRequest,o=(v,$)=>b[v]!==void 0?O(b[v])($):S.value[v]($),t=o("url",e);if(!t){console.error("q-uploader: invalid or no URL specified"),y.value--;return}const n=o("formFields",e);n!==void 0&&n.forEach(v=>{V.append(v.name,v.value)});let T=0,m=0,w=0,j=0,_;p.upload.addEventListener("progress",v=>{if(_===!0)return;const $=Math.min(j,v.loaded);s.uploadedSize.value+=$-w,w=$;let I=w-m;for(let H=T;I>0&&H<e.length;H++){const D=e[H];if(I>D.size)I-=D.size,T++,m+=D.size,s.updateFileStatus(D,"uploading",D.size);else{s.updateFileStatus(D,"uploading",I);return}}},!1),p.onreadystatechange=()=>{p.readyState<4||(p.status&&p.status<400?(s.uploadedFiles.value=s.uploadedFiles.value.concat(e),e.forEach(v=>{s.updateFileStatus(v,"uploaded")}),c("uploaded",{files:e,xhr:p})):(_=!0,s.uploadedSize.value-=w,s.queuedFiles.value=s.queuedFiles.value.concat(e),e.forEach(v=>{s.updateFileStatus(v,"failed")}),c("failed",{files:e,xhr:p})),y.value--,r.value=r.value.filter(v=>v!==p))},p.open(o("method",e),t),o("withCredentials",e)===!0&&(p.withCredentials=!0);const k=o("headers",e);k!==void 0&&k.forEach(v=>{p.setRequestHeader(v.name,v.value)});const P=o("sendRaw",e);e.forEach(v=>{s.updateFileStatus(v,"uploading",0),P!==!0&&V.append(o("fieldName",v),v,v.name),v.xhr=p,v.__abort=()=>{p.abort()},j+=v.size}),c("uploading",{files:e,xhr:p}),r.value.push(p),P===!0?p.send(new Blob(e)):p.send(V)}return{isUploading:U,isBusy:q,abort:C,upload:Q}}var ba={name:ma,props:fa,emits:_a,injectPlugin:ga},ya=pa(ba);const ha={class:"flex justify-center"},Fa={key:0},wa={key:1},xa={key:2},ka={key:0},Sa={class:"col flex justify-center"},tt={__name:"OpenLayout",setup(l){const c=Ae(),s=aa(),r=z(null),d=z({val:null,opts:[]}),y=[{id:1,label:"Descuadre"},{id:2,label:"Mal Devolucion"},{id:3,label:"Retirada Mal"}],S=[{id:1,label:"Eliminar"},{id:2,label:"Modificar"}],U=z({val:null,opts:null}),q=z({val:null,opts:[]}),a=z({_store:null,cash:null,_created_by:null,_cashier:null,_type:{id:0,label:"Ninguno"},unsquare:null,mismatch_reason:null,current_cut:null,ticket:null,refund_ticket:null,refund_reason:null,withdrawal_number:null,movement_type_id:{id:0,label:"Ninguno"},reason_modify:null,withdrawal_mount:null}),C=F(()=>a.value._type.id==1&&a.value.cash&&a.value._cashier&&a.value.unsquare&&a.value.mismatch_reason&&a.value.current_cut||a.value._type.id==2&&a.value.cash&&a.value._cashier&&a.value.ticket&&a.value.refund_reason&&a.value.current_cut?!1:!(a.value._type.id==3&&a.value.cash&&a.value._cashier&&a.value.current_cut&&a.value.withdrawal_number&&a.value.movement_type_id.id!=0&&a.value.reason_modify)),Q=async()=>{let o=c.session.store.id;const t=await le.index(o);t.fail?console.log(t):(U.value.opts=t,b())},N=async()=>{let t=`http://${c.session.store.ip_address}/access/public/modify/getCash`;const n=await We.get(t);n.status==200?(console.log(n.data),d.value.opts=n.data):console.log(n)},h=()=>{s.notify({message:"No se acepta este archivo",type:"negative",position:"center"})},e=o=>{a.value.current_cut=o[0]},b=async()=>{let o=c.session.store.id;console.log(o);const t=await le.getPrinters(o);t.fail?console.log(t):(q.value.opts=t,console.log("Impresoras listas :)"))},V=async()=>{s.loading.show({message:"Enviando Datos"});let o=a.value._type.id;a.value._store=c.session.store.id,a.value._created_by=c.session.id;const t=new FormData;t.append("_store",a.value._store),t.append("cash",a.value.cash.CODTER),t.append("cash_name",a.value.cash.DESTER),t.append("_created_by",a.value._created_by),t.append("_cashier",a.value._cashier.id),t.append("_type",a.value._type.id),t.append("current_cut",a.value.current_cut),o==1?(t.append("unsquare",a.value.unsquare),t.append("mismatch_reason",a.value.mismatch_reason)):o==2?(t.append("ticket",a.value.ticket),t.append("refund_ticket",a.value.refund_ticket),t.append("refund_reason",a.value.refund_reason)):o==3&&(t.append("withdrawal_number",a.value.withdrawal_number),t.append("movement_type_id",a.value.movement_type_id.id),t.append("reason_modify",a.value.reason_modify),t.append("print",q.value.val.ip_address),a.value.movement_type_id.id==2&&t.append("withdrawal_mount",a.value.withdrawal_mount));const n=await le.opening(t);n.fail?(console.log(n),n.fail.status==400?(s.notify({type:"negative",message:n.fail.response.data,position:"center"}),alert(n.fail.response.data),s.loading.hide()):console.log(n)):(console.log(n),s.notify({type:"positive",message:n,position:"center"}),s.loading.hide(),p())},p=()=>{a.value={_store:null,cash:null,_created_by:null,_cashier:null,_type:{id:0,label:"Ninguno"},unsquare:null,mismatch_reason:null,current_cut:null,ticket:null,refund_ticket:null,refund_reason:null,withdrawal_number:null,movement_type_id:{id:0,label:"Ninguno"},reason_modify:null,withdrawal_mount:null},r.value.reset(),q.value.val=null};return Q(),Q(),N(),(o,t)=>(J(),Me(Ye,{view:"hHh Lpr fFf"},{default:x(()=>[i(Ue,{class:"transparent text-dark",bordered:""},{default:x(()=>[i(ea),i(me)]),_:1}),i(me,{spaced:"",inset:"",vertical:"",dark:""}),i(Ze,null,{default:x(()=>[i($e,{class:"justify-between"},{default:x(()=>[A("div",null,[t[13]||(t[13]=_e("Helpers ")),i(we,{name:"navigate_next",color:"primary"}),t[14]||(t[14]=_e()),t[15]||(t[15]=A("span",{class:"text-h6"},"Apertura de Cajas",-1))])]),_:1}),i(Ke,null,{default:x(()=>[A("div",ha,[i(Je,{class:"q-gutter-md",onSubmit:V},{default:x(()=>[i(Xe,{class:"my-card",square:"",bordere:""},{default:x(()=>[i(B,null,{default:x(()=>t[16]||(t[16]=[A("div",{class:"text-h4 text-center"},"APERTURA DE CAJA",-1),A("div",{class:"text-subtitle2 text-center"},"Movimientos en cajas despues de el corte",-1),A("div",{class:"text-center text-bold text-subtitle2 text-red"},"Recuerda que se tienen que guardar los cortes anteriores",-1)])),_:1}),i(B,null,{default:x(()=>[i(K,{modelValue:a.value.cash,"onUpdate:modelValue":t[0]||(t[0]=n=>a.value.cash=n),options:d.value.opts,label:"Caja","option-label":"DESTER","option-value":"CODTER",outlined:"",dense:""},null,8,["modelValue","options"])]),_:1}),i(B,null,{default:x(()=>[i(K,{modelValue:a.value._cashier,"onUpdate:modelValue":t[1]||(t[1]=n=>a.value._cashier=n),options:U.value.opts,label:"Cajero","option-label":"complete_name",outlined:"",dense:""},null,8,["modelValue","options"])]),_:1}),i(B,null,{default:x(()=>[i(K,{modelValue:a.value._type,"onUpdate:modelValue":t[2]||(t[2]=n=>a.value._type=n),options:y,label:"Motivo",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),a.value._type.label=="Descuadre"?(J(),Z("div",Fa,[i(B,null,{default:x(()=>[i(M,{modelValue:a.value.unsquare,"onUpdate:modelValue":t[3]||(t[3]=n=>a.value.unsquare=n),type:"Number",label:"Monto de descuadre",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),i(B,null,{default:x(()=>[i(M,{modelValue:a.value.mismatch_reason,"onUpdate:modelValue":t[4]||(t[4]=n=>a.value.mismatch_reason=n),type:"text",label:"Motivo de descuadre",outlined:"",dense:""},null,8,["modelValue"])]),_:1})])):ee("",!0),a.value._type.label=="Mal Devolucion"?(J(),Z("div",wa,[i(B,null,{default:x(()=>[i(M,{modelValue:a.value.ticket,"onUpdate:modelValue":t[5]||(t[5]=n=>a.value.ticket=n),type:"text",label:"Cual es el numero de ticket original",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),i(B,null,{default:x(()=>[i(M,{modelValue:a.value.refund_ticket,"onUpdate:modelValue":t[6]||(t[6]=n=>a.value.refund_ticket=n),type:"text",label:"Cual es el numero de devolucion original",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),i(B,null,{default:x(()=>[i(M,{modelValue:a.value.refund_reason,"onUpdate:modelValue":t[7]||(t[7]=n=>a.value.refund_reason=n),type:"text",label:"Especifica por que se creara una devolucion nueva",outlined:"",dense:""},null,8,["modelValue"])]),_:1})])):ee("",!0),a.value._type.label=="Retirada Mal"?(J(),Z("div",xa,[i(B,null,{default:x(()=>[i(M,{modelValue:a.value.withdrawal_number,"onUpdate:modelValue":t[8]||(t[8]=n=>a.value.withdrawal_number=n),type:"Number",label:"Numero de retirada",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),i(B,null,{default:x(()=>[i(K,{modelValue:a.value.movement_type_id,"onUpdate:modelValue":t[9]||(t[9]=n=>a.value.movement_type_id=n),options:S,label:"Que se la hara?",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),a.value.movement_type_id.label=="Modificar"?(J(),Z("div",ka,[i(B,null,{default:x(()=>[i(M,{modelValue:a.value.withdrawal_mount,"onUpdate:modelValue":t[10]||(t[10]=n=>a.value.withdrawal_mount=n),type:"Number",label:"Monto a modificar",outlined:"",dense:""},null,8,["modelValue"])]),_:1})])):ee("",!0),i(B,null,{default:x(()=>[i(M,{modelValue:a.value.reason_modify,"onUpdate:modelValue":t[11]||(t[11]=n=>a.value.reason_modify=n),type:"text",label:"Especifica por que el cambio de la retirada",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),i(B,null,{default:x(()=>[i(K,{modelValue:q.value.val,"onUpdate:modelValue":t[12]||(t[12]=n=>q.value.val=n),options:q.value.opts,label:"Impresora","option-label":"name",outlined:"",dense:""},null,8,["modelValue","options"])]),_:1})])):ee("",!0),i(B,null,{default:x(()=>[A("div",Sa,[i(ya,{"hide-upload-btn":"",style:{height:"auto",width:"100%"},label:"Evidencia",accept:"image/*",ref_key:"reference",ref:r,onAdded:e,"field-name":"file",flat:"",onRejected:h},null,512)])]),_:1})]),_:1}),A("div",null,[i(oe,{label:"Enviar",type:"submit",color:"primary",class:"full-width",disable:C.value},null,8,["disable"])])]),_:1})])]),_:1})]),_:1})]),_:1}))}};export{tt as default};
