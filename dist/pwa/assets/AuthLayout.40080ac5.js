import{Q as g,a as n}from"./QCard.eab9b540.js";import{Q as u}from"./QInput.ae6dc5c4.js";import{r as _,c as h,o as c,a as v,w as a,u as y,e,f as Q,g as x,Q as V,h as k,i as d,P as S}from"./index.d6535de1.js";import{Q as C}from"./QForm.8c4b5b3d.js";import{Q as b}from"./QPage.4498dc94.js";import{Q as B,a as w}from"./QLayout.0f77cedd.js";import{u as N}from"./VDB.6b3d0108.js";import{u as P}from"./use-quasar.505fcb9f.js";import{C as D}from"./index.6ece48f5.js";import"./use-key-composition.3e547522.js";import"./uid.42677368.js";import"./QResizeObserver.36001cf2.js";import"./_commonjsHelpers.88e99c8f.js";const J=d("div",{class:"fs-inc4"},"Acceso",-1),L=d("div",{class:"text-right fw-xbold text-primary fs-dec2"},"VH v1.0",-1),q={key:0,class:"text-center"},T={__name:"AuthLayout",setup(z){const l=N(),i=P(),f=y(),t=_({nick:"",pass:""}),p=h(()=>t.value.nick&&t.value.pass),m=()=>{console.log("Iniciando sesion ...",t.value);const r=l.findByNick(t.value.nick);if(r)if(D.MD5(t.value.pass).toString()==r.credentials.hash){let s=JSON.parse(JSON.stringify(r));delete s.credentials.pass,S.set("auth",s),l.setSession(s),f.replace("/")}else i.notify({message:"Credenciales erroneas",color:"negative",icon:"fas fa-bugs"});else i.notify({message:"Credenciales erroneas",color:"negative",icon:"fas fa-bugs"})};return(r,o)=>(c(),v(B,{view:"hHh Lpr fFf"},{default:a(()=>[e(w,null,{default:a(()=>[e(b,{padding:"",class:"flex flex-center"},{default:a(()=>[e(g,{flat:"",class:"bg-transparent"},{default:a(()=>[e(n,{class:"row items-center justify-between"},{default:a(()=>[J,L]),_:1}),e(n,{horizontal:""},{default:a(()=>[e(n,null,{default:a(()=>[e(C,{onSubmit:m,class:"q-gutter-lg"},{default:a(()=>[e(u,{outlined:"",rounded:"",standout:"text-primary",placeholder:"nick","input-class":"fs-inc2 text-center",modelValue:t.value.nick,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value.nick=s),type:"text",autofocus:"",autocapitalize:"off",autocomplete:"off"},null,8,["modelValue"]),e(u,{outlined:"",rounded:"",placeholder:"nip","input-class":"fs-inc2 text-center",modelValue:t.value.pass,"onUpdate:modelValue":o[1]||(o[1]=s=>t.value.pass=s),type:"password"},null,8,["modelValue"]),Q(p)?(c(),x("div",q,[e(V,{label:"Entrar",type:"submit",color:"primary"})])):k("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{T as default};
