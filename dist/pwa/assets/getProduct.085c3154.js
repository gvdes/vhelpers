import{a as d}from"./QList.afd4d6b9.js";import{u as y,a as k,aH as P,r as f,o as n,d as x,w as t,e,f as a,S,U as T,a0 as l,g,a4 as C,a3 as N,a6 as m,h as B}from"./index.71b74531.js";import{Q as V}from"./QToolbar.0922fcc7.js";import{Q as A}from"./QHeader.1c7702f0.js";import{Q as b,a as u}from"./QCard.22e46b63.js";import{Q as H,a as p}from"./QTr.9d985b2e.js";import{Q as I}from"./QTable.297f96cc.js";import{Q as O}from"./QFooter.e92723e5.js";import{Q as D}from"./QPage.c8d6d40a.js";import{Q as F,a as L}from"./QLayout.a1408eb6.js";import{P as R}from"./ProductsAutocomplete.02b66577.js";import{_ as j}from"./UserToolbar.ea4e8fed.js";import{u as q}from"./axios.927f9c8f.js";import{d as E}from"./productsApi.ecfd62c2.js";import"./QResizeObserver.1c2b02b3.js";import"./QSelect.368cc7e9.js";import"./QLinearProgress.ddb1c777.js";import"./QCheckbox.7c58759c.js";import"./QScrollObserver.bed0e1e3.js";import"./QInput.efb421e5.js";/* empty css                                                                         */import"./QExpansionItem.20af0b8e.js";import"./QDrawer.12cdaae6.js";import"./touch.9135741d.js";import"./QCardActions.ecdb2615.js";import"./ClosePopup.ad010d3e.js";import"./auth.01c76d8a.js";const $={class:"col"},M={class:"row justify-center"},U={class:"row"},z={class:"text-subtitle2 col text-bold text-left text-grey text-overline"},G={class:"text-subtitle2 col text-bold text-center text-grey text-overline"},J={class:"text-subtitle2 col text-bold text-right text-grey text-overline"},K={class:"row"},W={class:"text-h6 col text-bold text-left"},X={class:"col text-bold text-center"},Y={class:"text-h6 col text-bold text-right"},Z={class:"text-subtitle2 col"},ee={class:"text-weight-bold"},te={class:"text-bold text-blue-13"},ae={class:"row q-ml-sm"},Ve={__name:"getProduct",setup(se){y();const _=q();k(),P();const o=f(null),h=f({columns:[{name:"anio",label:"A\xD1O",field:"year",align:"center"},{name:"sales",label:"COMPRAS",field:"compras",align:"center"},{name:"purchases",label:"VENTAS",field:"ventas",align:"center"}]}),Q=r=>{console.log(r),v(r.id)},w=r=>{console.log(r),v(r.id)},v=async r=>{_.loading.show({message:"Obteniendo Datos"}),o.value=null,console.log(r);const s=await E.getProduct(r);s.fail?console.log(s):(_.loading.hide(),console.log(s),s.prices.push({id:8,alias:"COS",pivot:{price:s.cost}}),s.prices.sort((i,c)=>c.id-i.id),o.value=s)};return(r,s)=>(n(),x(F,{view:"hHh Lpr fFf"},{default:t(()=>[e(A,{class:"bg-grey-3 text-dark",bordered:""},{default:t(()=>[e(j),e(d),e(V,{class:"justify-between row"},{default:t(()=>[a("div",$,[s[0]||(s[0]=a("span",{class:"text-grey"},"Helpers",-1)),e(S,{name:"navigate_next",color:"primary"}),s[1]||(s[1]=a("span",{class:"text-h6"},"Informaci\xF3n Producto",-1))])]),_:1})]),_:1}),e(L,null,{default:t(()=>[e(D,{padding:""},{default:t(()=>[a("div",M,[e(T,{name:"bounce"},{default:t(()=>[o.value?(n(),x(b,{key:0,class:"my-card"},{default:t(()=>[e(u,{class:"item-center"},{default:t(()=>[a("div",U,[a("div",z,l(o.value.category.familia.seccion.name),1),a("div",G,l(o.value.category.familia.name),1),a("div",J,l(o.value.category.name),1)])]),_:1}),e(u,{class:"item-center"},{default:t(()=>[a("div",K,[a("div",W,l(o.value.code),1),a("div",X,[s[2]||(s[2]=a("div",{class:"text-caption"},"Stock",-1)),a("div",null,l(o.value.total_stock),1)]),a("div",Y,l(o.value.name),1)]),a("div",Z,l(o.value.description),1)]),_:1}),e(u,{class:"item-center row"},{default:t(()=>[(n(!0),g(N,null,C(o.value.prices,(i,c)=>(n(),g("div",{class:"col text-subtitle2 text-center",key:c},[a("div",ee,l(i.alias),1),e(d,{spaced:"",inset:"",vertical:"",dark:""}),a("div",te,l(i.pivot.price),1),e(d,{spaced:"",inset:"",vertical:"",dark:""})]))),128))]),_:1}),e(u,null,{default:t(()=>[e(I,{rows:o.value.details,hideBottom:"",columns:h.value.columns,pagination:{rowsPerPage:0}},{"bottom-row":t(()=>[e(H,{class:"text-bold bg-yellow-12"},{default:t(()=>[e(p,{class:"text-center"},{default:t(()=>s[3]||(s[3]=[m(" Total ")])),_:1}),e(p,{class:"text-center"},{default:t(()=>[m(l(o.value.details.reduce((i,c)=>i+Number(c.compras),0)),1)]),_:1}),e(p,{class:"text-center"},{default:t(()=>[m(l(o.value.details.reduce((i,c)=>i+Number(c.ventas),0)),1)]),_:1})]),_:1})]),_:1},8,["rows","columns"])]),_:1})]),_:1})):B("",!0)]),_:1})]),e(O,{reveal:"",elevated:"",bordered:""},{default:t(()=>[e(d,{spaced:"",inset:"",vertical:"",dark:""}),a("div",ae,[e(b,{class:"col"},{default:t(()=>[e(R,{checkState:!1,onInput:Q,with_prices_Invoice:"",with_stock:"",onAgregar:w,with_locations:""})]),_:1}),e(d,{spaced:"",inset:"",vertical:"",dark:""})]),e(d,{spaced:"",inset:"",vertical:"",dark:""})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Ve as default};
