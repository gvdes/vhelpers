import{Q as N}from"./position-engine.69af4b94.js";import{r as f,c as F,o as b,a as D,w as l,e,i as d,a3 as u,U as g,g as C,h as V,f as T,aP as L,a4 as r,a2 as B,Q as y}from"./index.5e171c53.js";import{a as h,Q as P}from"./axios.f4993c05.js";import{_ as U,Q as O,a as H,C as $}from"./UserToolbar.2d125d2e.js";import{Q as j}from"./QInput.2cf5a073.js";import{Q as q}from"./QTable.dff7a930.js";import{Q as K}from"./QSpinnerFacebook.ff28a6cd.js";import{Q as J}from"./QTooltip.ccf63a0d.js";import{Q}from"./QDialog.d826e7c9.js";import{Q as z,a as M,b as E,c as p,d as G}from"./QLayout.b935ebb0.js";import{Q as W,a as x,b as n}from"./QList.cbb38478.js";import{Q as X}from"./QSelect.535d7eaa.js";import{Q as Y}from"./QForm.17a67e53.js";import{u as Z}from"./VDB.eb2032b2.js";import{u as ee}from"./use-quasar.f991425b.js";import"./QLinearProgress.3a02f4e4.js";const le=d("span",{class:"text-h6"},"Consulta de Pagos",-1),te={key:0},ae={key:0},oe={class:"text-h4"},se={class:"text-subtitle2"},ue={class:"text-h5"},re={class:"text-h5 text-center"},ne={class:"text-h5 text-center"},de=d("div",{class:"text-h6 text-center"},"Impresora",-1),Ie={__name:"TarjetaLayout",setup(ie){const v=Z();ee();const I=f({val:null,body:null}),s=f({state:!1,val:null,body:null}),i=f({val:null,filter:null,state:!1,body:null});f(!1);const o=f({state:!1,body:null});let c=F(()=>i.value.body&&s.value.body);const w=()=>{let m=o.value.body.TICKET.split("-"),t={type:"Reimpresion",serie:m[0],folio:m[1],print:s.value.val.ip},R=`http://${v.session.store.ip}/access/public/modify/newmod`;h.post(R,t).then(_=>{console.log(_),s.value.val=null,s.value.state=!1}).catch(_=>_)},k=async()=>{console.log("Recibiendo Datos :)");let t=`http://${v.session.store.ip}/access/public/reports/getCash`;h.get(t).then(a=>{I.value.body=a.data.terminales,i.value.body=a.data.formaspagos,i.value.state=!0,console.log("ya lo recibi que no te enganen :)")}).catch(a=>console.log(a))},S=async()=>{let t=`http://${v.session.store.ip}/access/public/modify/getPrinter`;h.get(t).then(a=>{s.value.body=a.data,console.log("Impresoras listas :)")}).catch(a=>{console.log(a.response.data.message)})},A=(m,t)=>{console.log("aqui se podra reimprimir"),console.log(t.TICKET),o.value.state=!0,o.value.body=t};return k(),S(),(m,t)=>(b(),D(z,{view:"hHh Lpr fFf"},{default:l(()=>[e(O,{class:"transparent text-dark",bordered:""},{default:l(()=>[e(U),e(N),e(P,{class:"justify-between"},{default:l(()=>[d("div",null,[u("Helpers "),e(g,{name:"navigate_next",color:"primary"}),u(),le])]),_:1})]),_:1}),e(G,null,{default:l(()=>[e(M,{padding:""},{default:l(()=>[i.value.state?(b(),C("div",te,[e(q,{class:"my-sticky-header-table",title:"Fromas de Pago",rows:i.value.body,"row-key":"name",filter:i.value.filter,separator:"cell",onRowClick:A},{"top-right":l(()=>[e(j,{borderless:"",dense:"",debounce:"300",modelValue:i.value.filter,"onUpdate:modelValue":t[0]||(t[0]=a=>i.value.filter=a),placeholder:"Search"},{append:l(()=>[e(g,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","filter"])])):V("",!0),e(Q,{modelValue:T(c),"onUpdate:modelValue":t[1]||(t[1]=a=>L(c)?c.value=a:c=a),persistent:""},{default:l(()=>[T(c)?(b(),C("div",ae,[e(K,{color:"primary",size:"7.5em"}),e(J,{offset:[0,8]},{default:l(()=>[u("Cargando Informacion")]),_:1})])):V("",!0)]),_:1},8,["modelValue"]),e(Q,{modelValue:o.value.state,"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.state=a),persistent:""},{default:l(()=>[e(E,{style:{width:"700px","max-width":"70vw"}},{default:l(()=>[e(p,{class:"row justify-between"},{default:l(()=>[d("div",oe,"Ticket : "+r(o.value.body.TICKET),1),d("div",se,r(o.value.body.TERMINAL),1)]),_:1}),e(p,null,{default:l(()=>[d("div",ue,r(o.value.body.CNOFAC),1)]),_:1}),e(p,null,{default:l(()=>[d("div",re,r(o.value.body.CLIENTE),1),d("div",ne,r(o.value.body.FECHA),1)]),_:1}),e(p,null,{default:l(()=>[e(W,{bordered:""},{default:l(()=>[e(x,null,{default:l(()=>[e(n,null,{default:l(()=>[u("EFECTIVO")]),_:1}),e(n,null,{default:l(()=>[u("TARJETA")]),_:1}),e(n,null,{default:l(()=>[u("TRANSFERENCIA")]),_:1}),e(n,null,{default:l(()=>[u("VALE")]),_:1}),e(n,null,{default:l(()=>[u("CREDITO")]),_:1})]),_:1}),e(x,null,{default:l(()=>[e(n,null,{default:l(()=>[u(r(o.value.body.EFECTIVO),1)]),_:1}),e(n,null,{default:l(()=>[u(r(o.value.body.TARJETAS),1)]),_:1}),e(n,null,{default:l(()=>[u(r(o.value.body.TRANSFERENCIAS),1)]),_:1}),e(n,null,{default:l(()=>[u(r(o.value.body.VALES),1)]),_:1}),e(n,null,{default:l(()=>[u(r(o.value.body.CREDITOS),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(H,{align:"center"},{default:l(()=>[B(e(y,{flat:"",color:"negative",icon:"close"},null,512),[[$]]),e(y,{flat:"",color:"primary",icon:"print",onClick:t[2]||(t[2]=a=>s.value.state=!s.value.state)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:s.value.state,"onUpdate:modelValue":t[5]||(t[5]=a=>s.value.state=a)},{default:l(()=>[e(E,{class:"my-card"},{default:l(()=>[e(p,null,{default:l(()=>[de]),_:1}),e(p,null,{default:l(()=>[e(Y,{onSubmit:w,class:"q-gutter-md"},{default:l(()=>[e(X,{dense:"","option-label":"name",modelValue:s.value.val,"onUpdate:modelValue":t[4]||(t[4]=a=>s.value.val=a),options:s.value.body,label:"Impresora",filled:"",autofocus:"",style:{width:"200px"}},null,8,["modelValue","options"]),d("div",null,[e(y,{label:"Enviar",type:"submit",color:"primary",style:{width:"200px"},disable:s.value.val===null},null,8,["disable"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{Ie as default};
