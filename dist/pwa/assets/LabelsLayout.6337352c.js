import{a as oe,d as ge,Q as Pe,b as Se,c as ve}from"./QList.99184142.js";import{Q as Oe}from"./QHeader.d8bd88ea.js";import{D as Xe,E as pe,c as te,F as Ye,k as Ae,j as ye,l as Ge,i as Ue,u as je,r as K,o as j,d as le,w as h,e as c,f as z,a6 as ae,S as ze,Q as V,a9 as Je,a1 as Be,g as se,a3 as ce,h as me,a0 as M,a4 as fe,a7 as $e,a5 as he}from"./index.3dbdaaf7.js";import{Q as ne,a as ee}from"./QCard.751dec23.js";import{Q as Ze}from"./QOptionGroup.68453e45.js";import{Q as we}from"./QBtnGroup.eace6be0.js";import{a as Ke}from"./QDrawer.9cfd8083.js";import{Q as et}from"./QInput.fe5893ea.js";import{q as tt,Q as at,a as xe}from"./QSelect.eba1d0de.js";import{Q as de}from"./QCardActions.4947d6d1.js";import{Q as ot}from"./QTable.65ab6229.js";import{Q as lt}from"./QPage.cc797d25.js";import{Q as st,a as nt}from"./QLayout.3611efe5.js";import{C as be}from"./ClosePopup.16b5bca5.js";import{_ as it}from"./UserToolbar.c59f3200.js";import{P as rt,d as ct}from"./ProductsAutocomplete.c8383292.js";import{u as dt}from"./axios.3587cc9e.js";import{E as Y}from"./jspdf.plugin.autotable.71798610.js";import{E as ut}from"./exceljs.min.9e24d01d.js";import"./browser.eff7c919.js";import"./QResizeObserver.18764d57.js";import"./QRadio.5eaed4a2.js";import"./QCheckbox.b9e10fc6.js";import"./QToggle.35ae8b6e.js";import"./QScrollObserver.016dfedb.js";import"./touch.9135741d.js";import"./QLinearProgress.842d0692.js";import"./QExpansionItem.7212ea69.js";import"./auth.b72e0e07.js";/* empty css                                                                         */import"./_commonjsHelpers.88e99c8f.js";const gt={position:{type:String,default:"bottom-right",validator:O=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(O)},offset:{type:Array,validator:O=>O.length===2},expand:Boolean};function vt(){const{props:O,proxy:{$q:W}}=Ge(),P=Xe(Ye,pe);if(P===pe)return console.error("QPageSticky needs to be child of QLayout"),pe;const E=te(()=>{const D=O.position;return{top:D.indexOf("top")!==-1,right:D.indexOf("right")!==-1,bottom:D.indexOf("bottom")!==-1,left:D.indexOf("left")!==-1,vertical:D==="top"||D==="bottom",horizontal:D==="left"||D==="right"}}),J=te(()=>P.header.offset),A=te(()=>P.right.offset),u=te(()=>P.footer.offset),I=te(()=>P.left.offset),ie=te(()=>{let D=0,B=0;const X=E.value,re=W.lang.rtl===!0?-1:1;X.top===!0&&J.value!==0?B=`${J.value}px`:X.bottom===!0&&u.value!==0&&(B=`${-u.value}px`),X.left===!0&&I.value!==0?D=`${re*I.value}px`:X.right===!0&&A.value!==0&&(D=`${-re*A.value}px`);const Z={transform:`translate(${D}, ${B})`};return O.offset&&(Z.margin=`${O.offset[1]}px ${O.offset[0]}px`),X.vertical===!0?(I.value!==0&&(Z[W.lang.rtl===!0?"right":"left"]=`${I.value}px`),A.value!==0&&(Z[W.lang.rtl===!0?"left":"right"]=`${A.value}px`)):X.horizontal===!0&&(J.value!==0&&(Z.top=`${J.value}px`),u.value!==0&&(Z.bottom=`${u.value}px`)),Z}),Q=te(()=>`q-page-sticky row flex-center fixed-${O.position} q-page-sticky--${O.expand===!0?"expand":"shrink"}`);function ue(D){const B=Ae(D.default);return ye("div",{class:Q.value,style:ie.value},O.expand===!0?B:[ye("div",B)])}return{$layout:P,getStickyContent:ue}}var pt=Ue({name:"QPageSticky",props:gt,setup(O,{slots:W}){const{getStickyContent:P}=vt();return()=>P(W)}});const mt={class:"flex jutify-between row"},ft={class:"col"},ht={class:"q-pa-md"},xt={class:"q-pa-md"},bt={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Ft={class:"text-h5 text-bold text-center"},Pt={class:"text-subtitle2 text-bold text-center"},St={class:"text-subtitle2 text-bold text-center"},yt={class:"text-subtitle2 text-bold text-center"},zt={class:"text-subtitle2 text-bold text-center"},$t={class:"row"},wt={class:"text-center"},_t={class:"text-center"},Nt={class:"text-bold q-pb-sm text-center"},kt={class:"row q-pt-xs"},Ct={class:"text-negative"},ra={__name:"LabelsLayout",setup(O){const W=je(),P=dt(),E=K([]),J=K({filter:"",pagination:{rowsPerPage:9}}),A=K({state:!1}),u=K({state:!1,val:null,opts:[{id:1,label:"Navidad Extra Grande"},{id:2,label:"Navidad Grande"},{id:3,label:"Navidad Mediano"},{id:4,label:"Navidad Pequeno"},{id:5,label:"Navidad Vertical"},{id:6,label:"Juguete Ni\xF1o"},{id:7,label:"Juguete Ni\xF1a"},{id:8,label:"Juguete Extra Ni\xF1a"},{id:9,label:"Juguete Extra Ni\xF1o"},{id:10,label:"Juguete Horizontal Ni\xF1o"},{id:11,label:"Juguete Horizontal Ni\xF1a"},{id:12,label:"Rectangular 2 x 4"}]}),I=K({val:[0,1,2,4],opts:[{label:"Menudeo",value:1},{label:"Mayoreo",value:2},{label:"Docena",value:3},{label:"Caja",value:4}]}),ie=K(null),Q=K({state:!1,wndGetRows:[],wndNoDataFound:[],wndTotal:[],wndGetAdded:[],_supply_by:0,message:"",messageRepeat:"",wndNotExist:[]}),ue=r=>{let n=[],l=[],d=new Object;return r.products.map(p=>D(p.prices)?n.push(p):l.push(p)),console.log(r),d.notFound=n,d.add=l,d},D=r=>{let n=!0;return r.map((l,d)=>{n=l.pivot.price==0}),n},B=r=>{console.log(r)},X=K({state:!1}),re=r=>{let n=E.value.findIndex(l=>l.id==r.id);if(console.log(n),n>=0)P.notify({message:"El Producto ya esta agregado",type:"negative",position:"center"});else{let l=Fe(r.prices,r.pieces);r._copies=1,r.type=l.type,r.usedPrices=l.prices,r._copies=1,E.value.push(r),console.log(r)}},Z=r=>{let n=E.value.findIndex(l=>l.id==r.id);E.value.splice(n,1)},_e=()=>{E.value=[],A.value.state=!1},Ne=()=>{ie.value.click()},ke=async()=>{let r=document.getElementById("inputFile").files[0],n=new ut.Workbook,l=[],d=[],p=0;n.xlsx.load(r).then(y=>{if(n.worksheets[0].getColumn("A").eachCell({includeEmpty:!0},function(T,R){T.value&&l.push(T.value)}),d=l.filter((T,R,$)=>$.indexOf(T)==R),l.length){let T={codes:l,_workpoint:W.session.store.id_viz};console.log(T),P.loading.show({message:"Procesando archivo, espera.."}),ct.getMassive(T).then(R=>{let $=R.data,w=0,f=ue($);if($.fails.notFound.map(x=>Q.value.wndNotExist.push(x)),Q.value.wndGetRows=f.add.length,Q.value.state=!Q.value.state,Q.value.wndGetAdded=f.add,Q.value.wndNoDataFound=f.notFound,Q.value.wndNoDataFound.length>0){let x=Q.value.wndNoDataFound.length;Q.value.message=x<=1?"El producto no contiene precios.":"Los productos no contienen precios."}f.add.map(x=>{let _=Fe(x.prices,x.pieces);x._copies=1,x.type=_.type,x.usedPrices=_.prices,E.value.push(x),w++}),w&&!$.fails.notFound.length&&d.length==l.length?P.notify({message:`Etiquetas generadas: ${w}`,color:"positive",icon:"done",timeout:1e3}):(p=l.length-d.length,Q.value.messageRepeat=p<=1?`${p} producto se repitio. Favor de validar su documento antes de subirlo.`:`${p} productos se repitieron. Favor de validar su documento antes de subirlo.`),console.log(Q.value),P.loading.hide()}).catch(R=>{console.log(R),P.notify({message:"Hay un problema con obtener los datos :/.",icon:"fas fa-grin-beam-sweat",color:"negative"})})}else P.notify({message:"Vaya!! Al parecer este archivo esta vacio.",icon:"fas fa-grin-beam-sweat",color:"negative"})})},Fe=(r,n)=>{let l=[...r];const d=l.find(y=>y.pivot._type==4),p=l.find(y=>y.pivot._type==1);if(d.pivot.price==p.pivot.price){let y={id:0,alias:"OFERTA",name:"Oferta",pivot:{price:l[0].pivot.price},used:!0};return console.log("oferta"),{type:"off",prices:[y]}}else return console.log("estandar"),{type:"std",prices:l}},Ce=r=>{switch(r){case"off":return"orange-9";case"std":return"green-9"}},Ee=()=>{P.loading.show({message:"Generando Etiquetas"}),u.value.val.id==1?He(E.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==2?qe(E.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==3?Le(E.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==4?Ie(E.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==5?We(E.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==6?Qe(E.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==7?Te(E.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==8?Re(E.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==9?Ve(E.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==10?De(E.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")}):u.value.val.id==11&&Me(E.value).then(r=>{P.notify({message:"Se Descargo las etiquetas Correctamente",type:"positive",position:"center"}),u.value.state=!1,u.value.val=null,P.loading.hide()}).catch(r=>{alert("Hubo un error al descargar las etiquetas")})},qe=r=>new Promise((n,l)=>{try{const d=r,p=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)p.push(a)});const y="/icons/Navidad/Navidad6(2).png",C="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=100,x=85,_=5,q=5,b=2,S=b*3;p.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+_),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,C,t,o,f,x),e.setFontSize(30),e.setFont("helvetica","bold"),e.text(a.name,t+61,o+77),e.setFontSize(14),e.setFont("helvetica","normal");const N=f-20,k=e.splitTextToSize(a.label,N);e.text(k,t+10,o+25),e.setFontSize(12);let g=o+39,v=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(22),e.setFont("helvetica","bold"),e.text("Unico Precio",t+30,g+m*v+5),e.setFontSize(28),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+34,g+m*v+20)):(e.setFontSize(22),e.setFont("helvetica","bold"),e.text(s.alias,t+23,g+m*v),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+45,g+m*v))}),e.setFontSize(16),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+10,o+12),e.text(a.large,t+18,o+74),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+70,o+12),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+19,o+77)}),e.save(`${W.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),He=r=>new Promise((n,l)=>{try{const d=r,p=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)p.push(a)});const y="/icons/Navidad/Navidad6(2).png",C="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=205,x=125,_=5,q=5,b=1,S=b*2;p.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+_),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,C,t,o,f,x),e.setFontSize(70),e.setFont("helvetica","bold"),e.text(a.name,t+120,o+112),e.setFontSize(20),e.setFont("helvetica","normal");const N=f-20,k=e.splitTextToSize(a.label,N);e.text(k,t+18,o+31),e.setFontSize(12);let g=o+39,v=12;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(35),e.setFont("helvetica","bold"),e.text("Unico Precio",t+60,g+m*v+10),e.setFontSize(50),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+64,g+m*v+35)):(e.setFontSize(35),e.setFont("helvetica","bold"),e.text(s.alias,t+60,g+m*v+15),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+93,g+m*v+15))}),e.setFontSize(45),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+18,o+23),e.text(a.large,t+35,o+112),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+185,o+23,{align:"right"}),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+38,o+114)}),e.save(`${W.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Le=r=>new Promise((n,l)=>{try{const d=r,p=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)p.push(a)});const y="/icons/Navidad/Navidad9(1).png",C="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=65,x=85,_=5,q=5,b=3,S=b*3;p.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+_),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,C,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+37,o+77),e.setFontSize(10),e.setFont("helvetica","normal");const N=f-20,k=e.splitTextToSize(a.label,N);e.text(k,t+5,o+25),e.setFontSize(12);let g=o+40,v=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(18),e.setFont("helvetica","bold"),e.text("Unico Precio",t+13,g+m*v),e.setFontSize(26),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+13,g+m*v+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+10,g+m*v),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+30,g+m*v))}),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+25,o+20),e.text(a.large,t+18,o+77),e.text(`${a.pieces} PZS`,t+20,o+73),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+79)}),e.save(`${W.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Ie=r=>new Promise((n,l)=>{try{const d=r,p=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)p.push(a)});const y="/icons/Navidad/NaviSan(1).png",C="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=67,x=63,_=0,q=3,b=3,S=b*4;p.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+_),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,C,t,o,f,x),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(a.name,t+23,o+37),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(a.label.substring(0,25),t+15,o+43),e.setFontSize(10);let N=o+36,k=12;a.usedPrices.filter(g=>I.value.val.includes(g.id)).forEach((g,v)=>{g.alias=="OFERTA"?(e.setFontSize(10),e.setFont("helvetica","bold"),e.text("Unico Precio",t+23,N+v*k+12),e.setFontSize(14),e.text(`$ ${Number(g.pivot.price).toFixed(0)}`,t+27,N+v*k+17)):(e.setFontSize(10),e.setFont("helvetica","bold"),e.text(g.alias,t+v*k+10,N+12),e.text(`$ ${Number(g.pivot.price).toFixed(0)}`,t+v*k+10,N+16))}),e.setFontSize(6),e.setFont("helvetica","bold"),e.text(`(${a.code})`,t+28,o+40),e.text(a.large,t+40,o+55),e.text(`${a.pieces} PZS`,t+40,o+57)}),e.save(`${W.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),We=r=>new Promise((n,l)=>{try{const d=r,p=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)p.push(a)});const y="/icons/Navidad/NavidadVer(2).png",C="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=48,x=85,_=5,q=5,b=4,S=b*4;p.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+_),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,C,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+20,o+80),e.setFontSize(10),e.setFont("helvetica","normal");const N=f-15,k=e.splitTextToSize(a.label,N);e.text(k,t+5,o+22),e.setFontSize(12);let g=o+35,v=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(18),e.setFont("helvetica","bold"),e.text("Unico Precio",t+5,g+m*v),e.setFontSize(26),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+10,g+m*v+15)):(e.setFontSize(16),e.setFont("helvetica","bold"),e.text(s.alias,t+5,g+m*v),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+20,g+m*v))}),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+24,o+17,{align:"center"}),e.text(a.large,t+20,o+68),e.text(`${a.pieces} PZS`,t+20,o+73),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+81)}),e.save(`${W.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Qe=r=>new Promise((n,l)=>{try{const d=r,p=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)p.push(a)});const y="/icons/Juguete/Ninio.png",C="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=65,x=85,_=5,q=5,b=3,S=b*3;p.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+_),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,C,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+15,o+10),e.setFontSize(10),e.setFont("helvetica","normal");const N=f-20,k=e.splitTextToSize(a.label,N);e.text(k,t+3,o+25),e.setFontSize(12);let g=o+40,v=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+5,g+m*v),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+5,g+m*v+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+2,g+m*v),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+19,g+m*v))}),e.setFontSize(10),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+45,o+40),e.text(a.large,t+45,o+52),e.text(`${a.pieces} PZS`,t+45,o+46),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${W.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Te=r=>new Promise((n,l)=>{try{const d=r,p=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)p.push(a)});const y="/icons/Juguete/Ninia.png",C="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=65,x=85,_=5,q=5,b=3,S=b*3;p.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+_),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,C,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+15,o+20),e.setFontSize(10),e.setFont("helvetica","normal");const N=f-20,k=e.splitTextToSize(a.label,N);e.text(k,t+5,o+25),e.setFontSize(12);let g=o+40,v=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+15,g+m*v),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+15,g+m*v+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+15,g+m*v),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+32,g+m*v))}),e.setFontSize(13),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+62,o+70,{align:"right"}),e.setFont("helvetica","normal"),e.text(a.large,t+15,o+65),e.text(`${a.pieces} PZS`,t+15,o+70),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${W.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Re=r=>new Promise((n,l)=>{try{const d=r,p=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)p.push(a)});const y="/icons/Juguete/xlargeninia.png",C="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=205,x=125,_=5,q=5,b=1,S=b*2;p.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+_),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,C,t,o,f,x),e.setFontSize(70),e.setFont("helvetica","bold"),e.text(a.name,t+120,o+112),e.setFontSize(20),e.setFont("helvetica","normal");const N=f-20,k=e.splitTextToSize(a.label,N);e.text(k,t+18,o+31),e.setFontSize(12);let g=o+39,v=12;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(35),e.setFont("helvetica","bold"),e.text("Unico Precio",t+60,g+m*v+10),e.setFontSize(50),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+64,g+m*v+35)):(e.setFontSize(35),e.setFont("helvetica","bold"),e.text(s.alias,t+60,g+m*v+15),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+93,g+m*v+15))}),e.setFontSize(45),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+18,o+23),e.text(a.large,t+35,o+112),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+185,o+23,{align:"right"}),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+38,o+114)}),e.save(`${W.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Ve=r=>new Promise((n,l)=>{try{const d=r,p=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)p.push(a)});const y="/icons/Juguete/xlargeninio.png",C="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=205,x=125,_=5,q=5,b=1,S=b*2;p.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+_),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,C,t,o,f,x),e.setFontSize(70),e.setFont("helvetica","bold"),e.text(a.name,t+120,o+112),e.setFontSize(20),e.setFont("helvetica","normal");const N=f-20,k=e.splitTextToSize(a.label,N);e.text(k,t+18,o+31),e.setFontSize(12);let g=o+39,v=12;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(35),e.setFont("helvetica","bold"),e.text("Unico Precio",t+60,g+m*v+10),e.setFontSize(50),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+64,g+m*v+35)):(e.setFontSize(35),e.setFont("helvetica","bold"),e.text(s.alias,t+60,g+m*v+15),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+93,g+m*v+15))}),e.setFontSize(45),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+18,o+23),e.text(a.large,t+35,o+112),e.setFont("helvetica","normal"),e.text(`${a.pieces} PZS`,t+185,o+23,{align:"right"}),e.setFontSize(6),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+38,o+114)}),e.save(`${W.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),De=r=>new Promise((n,l)=>{try{const d=r,p=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)p.push(a)});const y="/icons/Juguete/Ninio.png",C="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=100,x=60,_=5,q=5,b=2,S=b*4;p.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+_),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,C,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+5,o+10),e.setFontSize(10),e.setFont("helvetica","normal");const N=f-20,k=e.splitTextToSize(a.label,N);e.text(k,t+5,o+15),e.setFontSize(12);let g=o+25,v=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+15,g+m*v),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+15,g+m*v+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+15,g+m*v),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+32,g+m*v))}),e.setFontSize(13),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+70,o+25),e.text(a.large,t+45,o+52),e.text(`${a.pieces} PZS`,t+70,o+30),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${W.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}}),Me=r=>new Promise((n,l)=>{try{const d=r,p=[];d.forEach(a=>{for(let i=0;i<a._copies;i++)p.push(a)});const y="/icons/Juguete/Ninia.png",C="PNG",e=new Y({format:"letter"}),T=e.internal.pageSize.getWidth(),R=e.internal.pageSize.getHeight(),$=5,w=10,f=100,x=60,_=5,q=5,b=2,S=b*4;p.forEach((a,i)=>{const U=Math.floor(i/S),F=i%S,H=Math.floor(F/b),L=F%b,t=$+L*(f+_),o=w+H*(x+q);i>0&&F===0&&e.addPage(),e.addImage(y,C,t,o,f,x),e.setFontSize(22),e.setFont("helvetica","bold"),e.text(a.name,t+5,o+20),e.setFontSize(10),e.setFont("helvetica","normal");const N=f-20,k=e.splitTextToSize(a.label,N);e.text(k,t+5,o+25),e.setFontSize(12);let g=o+32,v=7;a.usedPrices.filter(s=>I.value.val.includes(s.id)).forEach((s,m)=>{s.alias=="OFERTA"?(e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Unico Precio",t+20,g+m*v),e.setFontSize(20),e.text(`$ ${Number(s.pivot.price).toFixed(2)}`,t+20,g+m*v+15)):(e.setFontSize(18),e.setFont("helvetica","bold"),e.text(s.alias,t+20,g+m*v),e.text(`$${Number(s.pivot.price).toFixed(0)}`,t+37,g+m*v))}),e.setFontSize(13),e.setFont("helvetica","bold"),e.text(`${a.code}`,t+70,o+32),e.text(a.large,t+45,o+52),e.text(`${a.pieces} PZS`,t+70,o+37),e.setFontSize(4),e.setFont("helvetica","normal"),e.text(a.locations?a.locations.map(s=>s.path).join("/"):"",t+18,o+84)}),e.save(`${W.session.credentials.nick} etiquetas ${u.value.val.label}`),n()}catch(d){l(d)}});return(r,n)=>(j(),le(st,{view:"hHh Lpr fFf"},{default:h(()=>[c(Oe,{class:"transparent text-dark",bordered:""},{default:h(()=>[c(it),c(oe)]),_:1}),c(nt,null,{default:h(()=>[c(lt,{padding:""},{default:h(()=>[z("div",mt,[z("div",ft,[n[10]||(n[10]=ae("Helpers ")),c(ze,{name:"navigate_next",color:"primary"}),n[11]||(n[11]=ae()),n[12]||(n[12]=z("span",{class:"text-h6"},"Creacion de Etiquetas",-1))]),c(V,{class:"flex justify-end",flat:"",onClick:n[0]||(n[0]=l=>X.value.state=!X.value.state),round:"",dense:"",icon:"menu"})]),c(ne,{class:"my-card"},{default:h(()=>[c(rt,{checkState:!1,onInput:B,with_prices:"",onAgregar:re,with_locations:""})]),_:1}),c(oe,{spaced:"",inset:"",vertical:"",dark:""}),c(Ke,{modelValue:X.value.state,"onUpdate:modelValue":n[4]||(n[4]=l=>X.value.state=l),width:200,breakpoint:500,bordered:"",class:Je(Be(P).dark.isActive?"bg-grey-9":"bg-grey-3")},{default:h(()=>[z("div",null,[c(oe,{spaced:"",inset:"",vertical:"",dark:""}),n[13]||(n[13]=z("div",{class:"text-center text-bold"},"Precios",-1)),z("div",ht,[c(Ze,{options:I.value.opts,type:"checkbox",modelValue:I.value.val,"onUpdate:modelValue":n[1]||(n[1]=l=>I.value.val=l)},null,8,["options","modelValue"])])]),c(oe,{spaced:"",inset:"",vertical:"",dark:""}),n[14]||(n[14]=z("div",{class:"text-center text-bold"}," Opciones ",-1)),z("div",xt,[c(we,{spread:""},{default:h(()=>[c(V,{color:"primary",icon:"upload_file",flat:"",title:"Subir Etiquetas",onClick:Ne}),E.value.length?(j(),se(ce,{key:0},[c(V,{color:"primary",icon:"delete",flat:"",title:"Eliminar Etiquetas",onClick:n[2]||(n[2]=l=>A.value.state=!A.value.state)}),c(V,{color:"primary",icon:"download",flat:"",title:"Descargar Etquetas",onClick:n[3]||(n[3]=l=>u.value.state=!u.value.state)})],64)):me("",!0)]),_:1}),z("input",{type:"file",ref_key:"inputFile",ref:ie,id:"inputFile",onInput:ke,hidden:"",accept:".xlsx,.xls"},null,544)])]),_:1},8,["modelValue","class"]),c(ot,{rows:E.value,"row-key":"name",grid:"",filter:J.value.filter,pagination:J.value.pagination,"no-data-label":"''"},{"top-right":h(()=>[c(et,{borderless:"",dense:"",debounce:"300",modelValue:J.value.filter,"onUpdate:modelValue":n[5]||(n[5]=l=>J.value.filter=l),placeholder:"Buscar"},{append:h(()=>[c(ze,{name:"search"})]),_:1},8,["modelValue"])]),item:h(l=>[z("div",bt,[c(ne,{class:"my-card"},{default:h(()=>[c(ee,null,{default:h(()=>{var d;return[c(tt,{size:"sm",class:"fixed-right absolute-right text-bold text-white text-uppercase",color:Ce(l.row.type)},{default:h(()=>[ae(M(l.row.type),1)]),_:2},1032,["color"]),z("div",Ft,M(l.row.code),1),z("div",Pt,M(l.row.name),1),z("div",St,M(l.row.label),1),z("div",yt,"Longitud: "+M(l.row.large),1),z("div",zt,"Ubicacion: "+M((d=l.row.locations)==null?void 0:d.map(p=>p.path).join("/")),1),c(oe,{spaced:"",inset:"",vertical:"",dark:""}),z("div",$t,[(j(!0),se(ce,null,fe(l.row.usedPrices.filter(p=>I.value.val.includes(p.id)),(p,y)=>(j(),se("div",{class:"col items-start",key:y},[z("div",wt,M(p.alias),1),z("div",_t,M(p.pivot.price),1)]))),128))])]}),_:2},1024),c(de,{align:"center"},{default:h(()=>[c(V,{flat:"",icon:"delete",color:"negative",onClick:d=>Z(l.row)},null,8,["onClick"]),c(V,{flat:"",icon:"add",onClick:d=>l.row._copies++},null,8,["onClick"]),z("div",null,[n[15]||(n[15]=z("div",{class:"text-caption text--2"},"copias",-1)),z("div",Nt,M(l.row._copies),1)]),c(V,{flat:"",icon:"remove",onClick:d=>l.row._copies<=1?"":l.row._copies--},null,8,["onClick"])]),_:2},1024)]),_:2},1024)])]),bottom:h(l=>[c(pt,{position:"bottom",class:"full-width",offset:[0,18]},{default:h(()=>[z("div",kt,[c(we,{rounded:"",flat:"",color:"primary"},{default:h(()=>[l.pagesNumber>2?(j(),le(V,{key:0,icon:"first_page",round:"",dense:"",flat:"",disable:l.isFirstPage,onClick:l.firstPage,class:"q-px-sm"},null,8,["disable","onClick"])):me("",!0),c(V,{icon:"chevron_left",round:"",dense:"",flat:"",disable:l.isFirstPage,onClick:l.prevPage,class:"q-px-sm"},null,8,["disable","onClick"]),c(V,{flat:"",disable:"","no-caps":""},{default:h(()=>[ae(M(l.pagination.page)+" / "+M(l.pagesNumber),1)]),_:2},1024),c(V,{icon:"chevron_right",round:"",dense:"",flat:"",disable:l.isLastPage,onClick:l.nextPage,class:"q-px-sm"},null,8,["disable","onClick"]),l.pagesNumber>2?(j(),le(V,{key:1,icon:"last_page",round:"",dense:"",flat:"",onClick:l.lastPage,class:"q-px-sm"},null,8,["onClick"])):me("",!0)]),_:2},1024)])]),_:2},1024)]),"no-data":h(()=>n[16]||(n[16]=[])),_:1},8,["rows","filter","pagination"]),c(ge,{modelValue:A.value.state,"onUpdate:modelValue":n[6]||(n[6]=l=>A.value.state=l),persistent:""},{default:h(()=>[c(ne,null,{default:h(()=>[c(ee,{class:"row items-center"},{default:h(()=>[c($e,{icon:"warning",color:"white","text-color":"negative"}),n[17]||(n[17]=z("div",{class:"q-ml-sm"},"Se eliminaran todos los articulos de la lista ",-1))]),_:1}),c(ee,null,{default:h(()=>n[18]||(n[18]=[z("div",{class:"q-ml-sm"},"Deseas Continuar?",-1)])),_:1}),c(de,{align:"right"},{default:h(()=>[he(c(V,{flat:"",label:"No",color:"positive"},null,512),[[be]]),c(V,{flat:"",label:"Si",color:"negative",onClick:_e})]),_:1})]),_:1})]),_:1},8,["modelValue"]),c(ge,{modelValue:u.value.state,"onUpdate:modelValue":n[8]||(n[8]=l=>u.value.state=l),persistent:""},{default:h(()=>[c(ne,null,{default:h(()=>[c(ee,{class:"row items-center"},{default:h(()=>[c($e,{icon:"picture_as_pdf",color:"white","text-color":"red"}),n[19]||(n[19]=z("div",{class:"q-ml-sm"},"En que Formato deseas las etiquetas?",-1))]),_:1}),c(ee,null,{default:h(()=>[c(at,{modelValue:u.value.val,"onUpdate:modelValue":n[7]||(n[7]=l=>u.value.val=l),options:u.value.opts,label:"Etiquetas",filled:""},null,8,["modelValue","options"])]),_:1}),c(de,{align:"right"},{default:h(()=>[he(c(V,{flat:"",label:"Cancel",color:"negative"},null,512),[[be]]),c(V,{flat:"",label:"Generar",color:"positive",onClick:Ee,disable:u.value.val==null},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),c(ge,{modelValue:Q.value.state,"onUpdate:modelValue":n[9]||(n[9]=l=>Q.value.state=l)},{default:h(()=>[c(ne,{class:"my-card",style:{width:"70%"}},{default:h(()=>[c(ee,{class:"items-center"},{default:h(()=>[n[20]||(n[20]=z("div",{class:"text-center text-bold"},"Repetidos",-1)),z("div",Ct,M(Q.value.messageRepeat),1)]),_:1}),c(ee,null,{default:h(()=>[n[21]||(n[21]=z("div",{class:"text-center"},"Productos Sin Precio",-1)),c(Pe,null,{default:h(()=>[(j(!0),se(ce,null,fe(Q.value.wndNoDataFound,(l,d)=>(j(),le(Se,{key:d},{default:h(()=>[c(ve,null,{default:h(()=>[c(xe,{overline:""},{default:h(()=>[ae(M(l.code),1)]),_:2},1024)]),_:2},1024),c(ve,null,{default:h(()=>[c(xe,{caption:""},{default:h(()=>[ae(M(l.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),c(ee,null,{default:h(()=>[n[22]||(n[22]=z("div",{class:"text-center"},"Productos Sin Existencia",-1)),c(Pe,null,{default:h(()=>[(j(!0),se(ce,null,fe(Q.value.wndNotExist,(l,d)=>(j(),le(Se,{key:d},{default:h(()=>[c(ve,null,{default:h(()=>[c(xe,{overline:""},{default:h(()=>[ae(M(l),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),c(de,{align:"right"},{default:h(()=>[he(c(V,{flat:"",label:"OK",color:"primary"},null,512),[[be]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{ra as default};
