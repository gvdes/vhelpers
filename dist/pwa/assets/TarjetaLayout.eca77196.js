import{Q as R}from"./position-engine.53842f55.js";import{r as c,c as N,o as b,a as F,w as l,e,i as d,a3 as u,U as g,g as C,h as V,a4 as r,a2 as D,Q as y}from"./index.6bbbe671.js";import{a as h,Q as L}from"./axios.62d0ef44.js";import{_ as B,Q as P,a as U,C as O}from"./UserToolbar.3d0fe261.js";import{Q as $}from"./QInput.86e848ae.js";import{Q as H}from"./QTable.4fdbdcc2.js";import{Q as j}from"./QSpinnerFacebook.a346ecf8.js";import{Q as q}from"./QTooltip.e8d8716f.js";import{Q}from"./QDialog.b3f64587.js";import{Q as K,a as J,b as T,c as p,d as z}from"./QLayout.53fa629c.js";import{Q as M,a as E,b as n}from"./QList.0c14bc24.js";import{Q as G}from"./QSelect.9d159285.js";import{Q as W}from"./QForm.223445a6.js";import{u as X}from"./VDB.f419d993.js";import{u as Y}from"./use-quasar.c9d0ae77.js";import"./QLinearProgress.8a626a99.js";const Z=d("span",{class:"text-h6"},"Consulta de Pagos",-1),ee={key:0},le={key:0},te={class:"text-h4"},ae={class:"text-subtitle2"},oe={class:"text-h5"},se={class:"text-h5 text-center"},ue={class:"text-h5 text-center"},re=d("div",{class:"text-h6 text-center"},"Impresora",-1),Ee={__name:"TarjetaLayout",setup(ne){const f=X();Y();const x=c({val:null,body:null}),s=c({state:!1,val:null,body:null}),i=c({val:null,filter:null,state:!1,body:null}),v=c(!1),o=c({state:!1,body:null});N(()=>i.value.body&&s.value.body);const I=()=>{let m=o.value.body.TICKET.split("-"),t={type:"Reimpresion",serie:m[0],folio:m[1],print:s.value.val.ip},A=`http://${f.session.store.ip}/access/public/modify/newmod`;h.post(A,t).then(_=>{console.log(_),s.value.val=null,s.value.state=!1}).catch(_=>_)},w=async()=>{console.log("Recibiendo Datos :)");let t=`http://${f.session.store.ip}/access/public/reports/getCash`;h.get(t).then(a=>{x.value.body=a.data.terminales,i.value.body=a.data.formaspagos,i.value.state=!0,console.log("ya lo recibi que no te enganen :)")}).catch(a=>console.log(a))},k=async()=>{let t=`http://${f.session.store.ip}/access/public/modify/getPrinter`;h.get(t).then(a=>{s.value.body=a.data,console.log("Impresoras listas :)")}).catch(a=>{console.log(a.response.data.message)})},S=(m,t)=>{console.log("aqui se podra reimprimir"),console.log(t.TICKET),o.value.state=!0,o.value.body=t};return w(),k(),(m,t)=>(b(),F(K,{view:"hHh Lpr fFf"},{default:l(()=>[e(P,{class:"transparent text-dark",bordered:""},{default:l(()=>[e(B),e(R),e(L,{class:"justify-between"},{default:l(()=>[d("div",null,[u("Helpers "),e(g,{name:"navigate_next",color:"primary"}),u(),Z])]),_:1})]),_:1}),e(z,null,{default:l(()=>[e(J,{padding:""},{default:l(()=>[i.value.state?(b(),C("div",ee,[e(H,{class:"my-sticky-header-table",title:"Fromas de Pago",rows:i.value.body,"row-key":"name",filter:i.value.filter,separator:"cell",onRowClick:S},{"top-right":l(()=>[e($,{borderless:"",dense:"",debounce:"300",modelValue:i.value.filter,"onUpdate:modelValue":t[0]||(t[0]=a=>i.value.filter=a),placeholder:"Search"},{append:l(()=>[e(g,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","filter"])])):V("",!0),e(Q,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=a=>v.value=a),persistent:""},{default:l(()=>[v.value?(b(),C("div",le,[e(j,{color:"primary",size:"7.5em"}),e(q,{offset:[0,8]},{default:l(()=>[u("Cargando Informacion")]),_:1})])):V("",!0)]),_:1},8,["modelValue"]),e(Q,{modelValue:o.value.state,"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.state=a),persistent:""},{default:l(()=>[e(T,{style:{width:"700px","max-width":"70vw"}},{default:l(()=>[e(p,{class:"row justify-between"},{default:l(()=>[d("div",te,"Ticket : "+r(o.value.body.TICKET),1),d("div",ae,r(o.value.body.TERMINAL),1)]),_:1}),e(p,null,{default:l(()=>[d("div",oe,r(o.value.body.CNOFAC),1)]),_:1}),e(p,null,{default:l(()=>[d("div",se,r(o.value.body.CLIENTE),1),d("div",ue,r(o.value.body.FECHA),1)]),_:1}),e(p,null,{default:l(()=>[e(M,{bordered:""},{default:l(()=>[e(E,null,{default:l(()=>[e(n,null,{default:l(()=>[u("EFECTIVO")]),_:1}),e(n,null,{default:l(()=>[u("TARJETA")]),_:1}),e(n,null,{default:l(()=>[u("TRANSFERENCIA")]),_:1}),e(n,null,{default:l(()=>[u("VALE")]),_:1}),e(n,null,{default:l(()=>[u("CREDITO")]),_:1})]),_:1}),e(E,null,{default:l(()=>[e(n,null,{default:l(()=>[u(r(o.value.body.EFECTIVO),1)]),_:1}),e(n,null,{default:l(()=>[u(r(o.value.body.TARJETAS),1)]),_:1}),e(n,null,{default:l(()=>[u(r(o.value.body.TRANSFERENCIAS),1)]),_:1}),e(n,null,{default:l(()=>[u(r(o.value.body.VALES),1)]),_:1}),e(n,null,{default:l(()=>[u(r(o.value.body.CREDITOS),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(U,{align:"center"},{default:l(()=>[D(e(y,{flat:"",color:"negative",icon:"close"},null,512),[[O]]),e(y,{flat:"",color:"primary",icon:"print",onClick:t[2]||(t[2]=a=>s.value.state=!s.value.state)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:s.value.state,"onUpdate:modelValue":t[5]||(t[5]=a=>s.value.state=a)},{default:l(()=>[e(T,{class:"my-card"},{default:l(()=>[e(p,null,{default:l(()=>[re]),_:1}),e(p,null,{default:l(()=>[e(W,{onSubmit:I,class:"q-gutter-md"},{default:l(()=>[e(G,{dense:"","option-label":"name",modelValue:s.value.val,"onUpdate:modelValue":t[4]||(t[4]=a=>s.value.val=a),options:s.value.body,label:"Impresora",filled:"",autofocus:"",style:{width:"200px"}},null,8,["modelValue","options"]),d("div",null,[e(y,{label:"Enviar",type:"submit",color:"primary",style:{width:"200px"},disable:s.value.val===null},null,8,["disable"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{Ee as default};
