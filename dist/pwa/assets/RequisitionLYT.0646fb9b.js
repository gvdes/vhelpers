import{Q as m}from"./QSeparator.5be9a59e.js";import{r as V,c as C,o as B,a as I,w as t,e as o,f as S,a4 as u,Y as X,Q as _,a0 as Y,g as D,ay as W,az as G,a5 as v,h as P,b0 as Z,a3 as ee}from"./index.62c2a511.js";import{Q as ke}from"./QToolbar.6de377a5.js";import{Q as Ve}from"./QHeader.42981c62.js";import{u as we,Q as A,a as j}from"./use-quasar.6d95b474.js";import{Q as y,a as F}from"./QSelect.2c4767b3.js";import{Q as he}from"./QForm.95205fb5.js";import{Q as le}from"./QDialog.57daa15a.js";import{Q as O,a as M}from"./QItemSection.7edb7927.js";import{Q as K}from"./QRadio.4a7e2ac0.js";import{Q as J}from"./QInput.35e2952a.js";import{Q as xe,a as f}from"./QTr.b023ae57.js";import{Q as Ce}from"./QPopupEdit.51a91e6b.js";import{Q as _e}from"./QTable.5e01f534.js";import{Q as Qe}from"./QCardActions.0c6934eb.js";import{Q as Ue}from"./QPage.453d37f3.js";import{Q as Be,a as Se}from"./QLayout.fbed4118.js";import{C as ae}from"./ClosePopup.0de3bfc4.js";import{u as Pe}from"./VDB.90d5996b.js";import{_ as qe}from"./UserToolbar.3ce921ca.js";import{i as q}from"./resoursesApi.696d463e.js";import{a as Ne}from"./axios.ba7b1b0e.js";import"./jspdf.plugin.autotable.03a4ae94.js";import{E as Ee}from"./exceljs.min.9e24d01d.js";import"./browser.a927a609.js";import"./QResizeObserver.ac50d480.js";import"./use-key-composition.034df0e8.js";import"./uid.937d8ee7.js";import"./position-engine.32961d90.js";import"./rtl.276c3f1b.js";import"./QCheckbox.f0e3188c.js";import"./QList.56766321.js";import"./QLinearProgress.9efd24f2.js";import"./axios.9ab26c22.js";import"./_commonjsHelpers.88e99c8f.js";const ze={class:"row"},Re={key:0,class:"row"},Le={key:1,class:"row"},je={key:2,class:"row"},Me={class:"row"},wl={__name:"RequisitionLYT",setup(Te){const p=Pe(),g=we(),T=V({status:!1}),x=V({val:null,opts:[]}),N=V({val:null,opts:[{id:1,label:"Ubicaciones"},{id:2,label:"Categorias"}]}),r=V({state:!1,all:[],seccion:{val:[]},familias:{val:[]},categories:{val:[]}}),s=V({state:!1,seccion:{val:[],opts:[]},familias:{val:[],opts:[]},categorias:{val:[],opts:[]}}),$=V({val:20}),b=V({state:"percentage"}),k=V([]),E=V(null),w=V({state:!1,val:null,body:[]}),d=V({state:!1,val:[],opts:[],locaciones:{val:[]}}),Q=V({columns:[{name:"codigo",required:!0,label:"Codigo",align:"left",sortable:!0,field:e=>e.code},{name:"description",label:"Descripcion",align:"left",sortable:!0,field:e=>e.description},{name:"Seccion",label:"Seccion",align:"left",sortable:!0,field:e=>e.categories.familia.seccion.name},{name:"Familia",label:"Familia",align:"left",sortable:!0,field:e=>e.categories.familia.name},{name:"Categoria",label:"Categoria",align:"left",sortable:!0,field:e=>e.categories.name},{name:"pieces",label:"PXC",align:"center",sortable:!0,field:e=>e.pieces},{name:"locations",label:"Ubicacion",align:"center",sortable:!0,field:e=>e.locations},{name:"cedis",label:"Ced CJ",align:"center",sortable:!0,field:e=>e.cedis},{name:"texcoco",label:"Tex CJ",align:"center",sortable:!0,field:e=>e.texcoco},{name:"brasil",label:"Bra CJ",align:"center",sortable:!0,field:e=>e.brasil},{name:"Sucursal",label:`${p.session.store.name}`,align:"center",sortable:!0,field:e=>e.sucursal},{name:"min",label:"Minimo",align:"center",sortable:!0,field:e=>e.min},{name:"max",label:"Maximo",align:"center",sortable:!0,field:e=>e.max},{name:"Percentge",label:`${p.session.store.name} % `,align:"center",sortable:!0,field:e=>e.percentage},{name:"required",label:"Solicitado CJ",align:"center",sortable:!0,field:e=>e.required},{name:"action",label:"Accion",align:"center"}],filter:"",visible:["codigo","description","Seccion","Familia","Categoria","pieces","cedis","texcoco","Sucursal","required","action"]}),oe=C(()=>r.value.all.filter(e=>e.deep==0)),H=C(()=>r.value.seccion.val.length>0?r.value.all.filter(e=>e.deep==1&&r.value.seccion.val.map(a=>a.id).includes(e.root)):r.value.all.filter(e=>e.deep==1)),ie=C(()=>{if(r.value.seccion.val.length>0&&r.value.familias.val.length==0){let e=r.value.all.filter(a=>a.deep==1&&r.value.seccion.val.map(l=>l.id).includes(a.root)).map(a=>a.id);return r.value.all.filter(a=>a.deep==2&&e.includes(a.root))}else return r.value.familias.val.length>0?r.value.all.filter(e=>e.deep==2&&r.value.familias.val.map(a=>a.id).includes(e.root)):r.value.all.filter(e=>e.deep==2)}),te=C(()=>r.value.seccion.val.length>0),se=C(()=>{if(d.value.val.length>0){let e=[];return d.value.opts.filter(a=>d.value.val.map(l=>l.id).includes(a.id)).forEach(a=>a.sections.forEach(l=>e.push(l))),e}else{let e=[];return d.value.opts.forEach(a=>a.sections.forEach(l=>e.push(l))),e}}),z=C(()=>k.value.map(e=>{let a=Math.round(Number(e.stocks.filter(n=>n.id==1).map(n=>n.pivot.stock))/Number(e.pieces)),l=Math.round(Number(e.stocks.filter(n=>n.id==2).map(n=>n.pivot.stock))/Number(e.pieces)),i=Math.round(Number(e.stocks.filter(n=>n.id==16).map(n=>n.pivot.stock))/Number(e.pieces)),c=Number(e.stocks.filter(n=>n.id==p.session.store.id_viz).map(n=>n.pivot.stock)),h=Math.round(Number(e.stocks.filter(n=>n.id==p.session.store.id_viz).map(n=>n.pivot.stock))*100/Number(e.pieces));return{id:e.id,name:e.name,code:e.code,cost:e.cost,description:e.description,categories:e.categories,pieces:e.pieces,min:Number(e.stocks.filter(n=>n.id==p.session.store.id_viz).map(n=>n.pivot.min)),max:Number(e.stocks.filter(n=>n.id==p.session.store.id_viz).map(n=>n.pivot.max)),cedis:a,texcoco:l,brasil:i,sucursal:c,percentage:h,required:e.required,locations:e.locations}}).filter(e=>{if(b.value.state=="percentage")return p.session.store.id_viz==1?e.texcoco>0&&e.percentage<=$.value.val:e.cedis+e.texcoco>0&&e.percentage<=$.value.val;if(b.value.state=="minmax")return p.session.store.id_viz==1?e.texcoco>0&&e.sucursal<=e.min&&e.min>0:e.cedis+e.texcoco>0&&e.sucursal<=e.min&&e.min>0;if(b.value.state=="query")return e})),U=C(()=>{if(N.value.val.id==2)return z.value;if(s.value.seccion.val.length==0&&s.value.familias.val.length==0&&s.value.categorias.val.length==0)return z.value;if(s.value.seccion.val.length>0&&s.value.familias.val.length==0&&s.value.categorias.val.length==0)return z.value.filter(e=>s.value.seccion.val.map(a=>a.id).includes(e.categories.familia.seccion.id));if(s.value.seccion.val.length>0&&s.value.familias.val.length>0&&s.value.categorias.val.length==0)return z.value.filter(e=>s.value.seccion.val.map(a=>a.id).includes(e.categories.familia.seccion.id)&&s.value.familias.val.map(a=>a.id).includes(e.categories.familia.id));if(s.value.seccion.val.length>0&&s.value.familias.val.length>0&&s.value.categorias.val.length>0)return z.value.filter(e=>s.value.seccion.val.map(a=>a.id).includes(e.categories.familia.seccion.id)&&s.value.familias.val.map(a=>a.id).includes(e.categories.familia.id)&&s.value.categorias.val.map(a=>a.id).includes(e.categories.id))}),ne=C(()=>s.value.seccion.val.length>0?s.value.familias.opts.filter(e=>s.value.seccion.val.map(a=>a.id).includes(e.root)):s.value.familias.opts),re=C(()=>s.value.familias.val.length>0?s.value.categorias.opts.filter(e=>s.value.familias.val.map(a=>a.id).includes(e.root)):s.value.categorias.opts),ue=async()=>{g.loading.show({message:"Obteniendo secciones"});const e=await q.getCedis();e.fail?console.log(e):(console.log(e),x.value.opts=e,g.loading.hide()),console.log(e)},de=async()=>{r.value={state:!1,all:[],seccion:{val:[]},familias:{val:[]},categories:{val:[]}},d.value={state:!1,val:[],opts:[],locaciones:{val:[]}};let e=p.session.store.id_viz,a=N.value.val.id;g.loading.show({message:"Obteniendo secciones"});const l=await q.getSeccion(e,{_type:a});l.fail?console.log(l):(console.log(l),l.message?g.notify({message:"No existe la categoria",type:"negative",position:"center"}):l.families?(r.value.all=l.families,r.value.state=!0):l.locations&&(d.value.state=!0,d.value.opts=l.locations,r.value.all=l.sections),g.loading.hide())},ce=async()=>{g.loading.show({message:"Obteniendo Reporte"});let e=p.session.store.id_viz,a={_workpoint_to:x.value.val.id,_workpoint_from:e,seccion:r.value.seccion.val.map(i=>i.id),familia:r.value.familias.val.map(i=>i.id),categoria:r.value.categories.val.map(i=>i.id)};const l=await q.reportProductsCategories(a);l.fail?console.log(l):(g.loading.hide(),console.log(l),k.value=l,R())},me=async()=>{g.loading.show({message:"Obteniendo Reporte"});let e=p.session.store.id_viz,a={_workpoint_to:x.value.val.id,_workpoint_from:e,celler:d.value.val.map(i=>i.id),locations:d.value.locaciones.val.map(i=>i.id),section:r.value.seccion.val.map(i=>i.id)};console.log(a);const l=await q.getProductsCompareLocation(a);console.log(l),l.fail?console.log(l):(g.loading.hide(),console.log(l),k.value=l,k.value.forEach(i=>{const c=i.categories.familia.seccion;c&&!s.value.seccion.opts.map(L=>L.id).includes(c.id)&&s.value.seccion.opts.push(c);const h=i.categories.familia;h&&!s.value.familias.opts.map(L=>L.id).includes(h.id)&&s.value.familias.opts.push(h);const n=i.categories;n&&!s.value.categorias.opts.map(L=>L.id).includes(n.id)&&s.value.categorias.opts.push(n)}),s.value.state=!0,R())},ve=(e,a)=>{const l=k.value.find(i=>i.id===e);console.log(l),l&&(l.required=a.value,a.set())},pe=async()=>{g.loading.show({message:"Creando Pedido"});let e={workpoint_from:p.session.store.id_viz,workpoint_to:x.value.val.id,products:U.value,notes:E.value,id_userviz:p.session.id,type:2};console.log(e);const a=await q.create(e);a.fail?console.log(a):(console.log(a),g.notify({message:`Se creo el pedido ${a.order.id}`,type:"positive",position:"center"}),k.value=[],E.value=[],H.value.val=[],d.value.val=[],r.value.val=[],g.loading.hide(),window.location.reload())},fe=e=>{console.log(e);let a=k.value.findIndex(l=>l.id===e.id);console.log(a),a>=0&&k.value.splice(a,1)},ge=async()=>{console.log("aqui imprimo");let e={products:U.value,from:p.session.store,ip_address:w.value.val.ip_address};const a=await q.preview(e);a.fail?console.log(a):(console.log(a),g.notify({message:"Impresion Correcta",type:"positive",position:"center"}),w.value.val=null,w.value.state=!1)},be=async()=>{const e=new Ee.Workbook,a=e.addWorksheet("Resurtido");console.log(),a.addTable({name:"Resurtido",ref:"A1",headerRow:!0,totalsRow:!1,style:{showRowStripes:!0},columns:[{name:"Codigo",filterButton:!0},{name:"Descripcion",filterButton:!0},{name:"Seccion",filterButton:!0},{name:"Familia",filterButton:!0},{name:"Categoria",filterButton:!0},{name:"PXC",filterButton:!0},{name:"Ubicacion",filterButton:!0},{name:"Cedis CJ",filterButton:!0},{name:"Texcoco CJ",filterButton:!0},{name:"Brasil CJ",filterButton:!0},{name:"Sucursal",filterButton:!0},{name:"MIN",filterButton:!0},{name:"MAX",filterButton:!0},{name:"Porcentaje",filterButton:!0},{name:"Solicitado",filterButton:!0}],rows:U.value.map(i=>[i.code,i.description,i.categories.familia.seccion.name,i.categories.familia.name,i.categories.name,i.pieces,i.locations.map(c=>c.path).join(", "),i.cedis,i.texcoco,i.brasil,i.sucursal,i.min,i.max,i.percentage,i.required])}),a.columns.forEach(i=>{let c=0;i.eachCell({includeEmpty:!0},h=>{const n=h.value?h.value.toString().length:10;n>c&&(c=n)}),i.width=c<10?10:c}),(async()=>{const i=await e.xlsx.writeBuffer(),c=new Blob([i],{type:"application/octet-stream"}),h=URL.createObjectURL(c),n=document.createElement("a");n.href=h,n.download="Resurtido.xlsx",document.body.appendChild(n),n.click(),document.body.removeChild(n)})()},ye=async()=>{let e=p.session.store.id;console.log(e);try{let a=await Ne.get(`/cashier/getPrinters/${e}`);a.status==200&&(w.value.body=a.data,console.log(a),w.value.state=!0)}catch(a){console.log(a),g.notify({message:"No se pudiron obtener las impresoras",type:"negative",position:"center",icon:"error"})}},R=async()=>{if(console.log(b.value.state),k.value.length>0)return b.value.state=="minmax"?k.value.forEach(e=>{let a=Math.round(Number(e.stocks.filter(i=>i.id==p.session.store.id_viz).map(i=>i.pivot.stock))/Number(e.pieces)),l=Math.round(Number(e.stocks.filter(i=>i.id==p.session.store.id_viz).map(i=>i.pivot.max))/Number(e.pieces));l-a>=1?e.required=Math.round(l-a):e.required=1}):k.value.forEach(e=>e.required=1)};return ue(),(e,a)=>(B(),I(Be,{view:"hHh Lpr fFf"},{default:t(()=>[o(Ve,{class:"transparent text-dark",bordered:""},{default:t(()=>[o(qe),o(m),o(ke,{class:"justify-between"},{default:t(()=>[S("div",null,[a[24]||(a[24]=u("Helpers ")),o(X,{name:"navigate_next",color:"primary"}),a[25]||(a[25]=u()),a[26]||(a[26]=S("span",{class:"text-h6"},"Resurtido",-1))])]),_:1})]),_:1}),o(le,{modelValue:w.value.state,"onUpdate:modelValue":a[1]||(a[1]=l=>w.value.state=l)},{default:t(()=>[o(A,{class:"my-card"},{default:t(()=>[o(j,null,{default:t(()=>a[27]||(a[27]=[S("div",{class:"text-h6 text-center"},"Impresora",-1)])),_:1}),o(j,null,{default:t(()=>[o(he,{onSubmit:ge,class:"q-gutter-md"},{default:t(()=>[o(y,{dense:"","option-label":"name",modelValue:w.value.val,"onUpdate:modelValue":a[0]||(a[0]=l=>w.value.val=l),options:w.value.body,label:"Impresora",filled:"",autofocus:"",style:{width:"200px"}},null,8,["modelValue","options"]),S("div",null,[o(_,{label:"Enviar",type:"submit",color:"primary",style:{width:"200px"},disable:w.value.val===null},null,8,["disable"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(Se,null,{default:t(()=>[o(Ue,{padding:""},{default:t(()=>[S("div",ze,[o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(y,{class:"col",modelValue:x.value.val,"onUpdate:modelValue":a[2]||(a[2]=l=>x.value.val=l),options:x.value.opts,label:"Pedido Para","option-label":"name",filled:"",disable:x.value.val!=null,"option-disable":l=>l.id==Y(p).session.store.id_viz},null,8,["modelValue","options","disable","option-disable"]),o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(y,{class:"col",modelValue:N.value.val,"onUpdate:modelValue":[a[3]||(a[3]=l=>N.value.val=l),de],options:N.value.opts,label:"Tipo",filled:"",disable:!x.value.val},null,8,["modelValue","options","disable"])]),o(m,{spaced:"",inset:"",vertical:"",dark:""}),r.value.state?(B(),D("div",Re,[o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(y,{dense:"",class:"col",modelValue:r.value.seccion.val,"onUpdate:modelValue":a[4]||(a[4]=l=>r.value.seccion.val=l),options:oe.value,label:"Seccion","option-label":"name",filled:"",multiple:"","use-chips":""},null,8,["modelValue","options"]),o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(y,{dense:"",class:"col",modelValue:r.value.familias.val,"onUpdate:modelValue":a[5]||(a[5]=l=>r.value.familias.val=l),options:H.value,label:"Familia","option-label":"name",filled:"",multiple:"","use-chips":"",disable:r.value.seccion.val.length==0},{option:t(l=>[o(O,W(G(l.itemProps)),{default:t(()=>[o(M,null,{default:t(()=>[o(F,null,{default:t(()=>[u(v(l.opt.name),1)]),_:2},1024),o(F,{caption:""},{default:t(()=>[u(v(l.opt.familia.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","disable"]),o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(y,{dense:"",class:"col",modelValue:r.value.categories.val,"onUpdate:modelValue":a[6]||(a[6]=l=>r.value.categories.val=l),options:ie.value,label:"Categorias","option-label":"name",filled:"",multiple:"","use-chips":"",disable:r.value.familias.val.length==0},{option:t(l=>[o(O,W(G(l.itemProps)),{default:t(()=>[o(M,null,{default:t(()=>[o(F,null,{default:t(()=>[u(v(l.opt.name),1)]),_:2},1024),o(F,{caption:""},{default:t(()=>[u(v(l.opt.familia.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","disable"]),o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(_,{color:"primary",icon:"send",onClick:ce,disable:!te.value,flat:"",dense:"",rounded:""},null,8,["disable"])])):P("",!0),d.value.state?(B(),D("div",Le,[o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(y,{dense:"",class:"col",modelValue:r.value.seccion.val,"onUpdate:modelValue":a[7]||(a[7]=l=>r.value.seccion.val=l),options:r.value.all,label:"Seccion","option-label":"name",filled:"",multiple:"","use-chips":""},null,8,["modelValue","options"]),o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(y,{dense:"",class:"col",modelValue:d.value.val,"onUpdate:modelValue":a[8]||(a[8]=l=>d.value.val=l),options:d.value.opts,label:"Ubicacion","option-label":"name",filled:"",multiple:"","use-chips":""},null,8,["modelValue","options"]),o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(y,{dense:"",class:"col",modelValue:d.value.locaciones.val,"onUpdate:modelValue":a[9]||(a[9]=l=>d.value.locaciones.val=l),options:se.value,label:"Locaciones","option-label":"name",filled:"",multiple:"","use-chips":"",disable:d.value.val.length==0},null,8,["modelValue","options","disable"]),o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(_,{color:"primary",icon:"send",onClick:me,flat:"",dense:"",rounded:"",disable:d.value.val.length==0||d.value.locaciones.val.length==0},null,8,["disable"])])):P("",!0),o(m,{spaced:"",inset:"",vertical:"",dark:""}),s.value.state?(B(),D("div",je,[o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(y,{dense:"",class:"col",modelValue:s.value.seccion.val,"onUpdate:modelValue":a[10]||(a[10]=l=>s.value.seccion.val=l),options:s.value.seccion.opts,label:"Seccion","option-label":"name",filled:"",multiple:"","use-chips":""},null,8,["modelValue","options"]),o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(y,{dense:"",class:"col",modelValue:s.value.familias.val,"onUpdate:modelValue":a[11]||(a[11]=l=>s.value.familias.val=l),options:ne.value,label:"Familia","option-label":"name",filled:"",multiple:"","use-chips":"",disable:s.value.seccion.val.length==0},null,8,["modelValue","options","disable"]),o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(y,{dense:"",class:"col",modelValue:s.value.categorias.val,"onUpdate:modelValue":a[12]||(a[12]=l=>s.value.categorias.val=l),options:re.value,label:"Categorias","option-label":"name",filled:"",multiple:"","use-chips":"",disable:s.value.familias.val.length==0},null,8,["modelValue","options","disable"]),o(m,{spaced:"",inset:"",vertical:"",dark:""})])):P("",!0),o(m,{spaced:"",inset:"",vertical:"",dark:""}),o(A,{class:"my-card"},{default:t(()=>[o(j,null,{default:t(()=>[S("div",Me,[o(O,{class:"col"},{default:t(()=>[o(M,null,{default:t(()=>[o(K,{dense:"",modelValue:b.value.state,"onUpdate:modelValue":[a[13]||(a[13]=l=>b.value.state=l),R],val:"percentage",label:"Porcentaje"},null,8,["modelValue"])]),_:1}),b.value.state=="percentage"?(B(),I(M,{key:0,caption:""},{default:t(()=>[o(J,{dense:"",modelValue:$.value.val,"onUpdate:modelValue":a[14]||(a[14]=l=>$.value.val=l),type:"number",filled:"",label:"Porcentaje",disable:b.value.state=="minmax"},null,8,["modelValue","disable"])]),_:1})):P("",!0),o(M)]),_:1}),o(K,{dense:"",class:"col",modelValue:b.value.state,"onUpdate:modelValue":[a[15]||(a[15]=l=>b.value.state=l),R],val:"minmax",label:"Minimo y Maximo"},null,8,["modelValue"]),o(K,{dense:"",class:"col",modelValue:b.value.state,"onUpdate:modelValue":[a[16]||(a[16]=l=>b.value.state=l),R],val:"query",label:"Consultas"},null,8,["modelValue"])])]),_:1})]),_:1}),o(m,{spaced:"",inset:"",vertical:"",dark:""}),k.value.length>0?(B(),I(_e,{key:3,rows:U.value,columns:Q.value.columns,separator:"cell",filter:Q.value.filter,flat:"",bordered:"",class:"my-sticky-header-column-table","visible-columns":Q.value.visible},{"top-right":t(()=>[o(J,{borderless:"",dense:"",debounce:"300",modelValue:Q.value.filter,"onUpdate:modelValue":a[17]||(a[17]=l=>Q.value.filter=l),placeholder:"Buscar"},{append:t(()=>[o(X,{name:"search"})]),_:1},8,["modelValue"]),b.value.state!=="query"?(B(),I(_,{key:0,color:"primary","icon-right":"send",flat:"",onClick:a[18]||(a[18]=l=>T.value.state=!T.value.state),disable:U.value.length==0},null,8,["disable"])):P("",!0),o(_,{color:"primary",icon:"print",flat:"",onClick:ye,disable:U.value.length==0},null,8,["disable"]),o(_,{color:"primary",icon:"download",flat:"",onClick:be,disable:U.value.length==0},null,8,["disable"]),o(y,{modelValue:Q.value.visible,"onUpdate:modelValue":a[19]||(a[19]=l=>Q.value.visible=l),multiple:"",outlined:"",dense:"","options-dense":"","display-value":Y(g).lang.table.columns,"emit-value":"","map-options":"",options:Q.value.columns,"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"])]),body:t(l=>[o(xe,{props:l},{default:t(()=>[o(f,{key:"codigo",props:l},{default:t(()=>[u(v(l.row.code),1)]),_:2},1032,["props"]),o(f,{key:"description",props:l},{default:t(()=>[u(v(l.row.description),1)]),_:2},1032,["props"]),o(f,{key:"Seccion",props:l},{default:t(()=>[u(v(l.row.categories.familia.seccion.name),1)]),_:2},1032,["props"]),o(f,{key:"Familia",props:l},{default:t(()=>[u(v(l.row.categories.familia.name),1)]),_:2},1032,["props"]),o(f,{key:"Categoria",props:l},{default:t(()=>[u(v(l.row.categories.name),1)]),_:2},1032,["props"]),o(f,{key:"pieces",props:l},{default:t(()=>[u(v(l.row.pieces),1)]),_:2},1032,["props"]),o(f,{key:"locations",props:l},{default:t(()=>{var i;return[u(v((i=l.row.locations)==null?void 0:i.map(c=>c.path).join(", ")),1)]}),_:2},1032,["props"]),o(f,{key:"cedis",props:l},{default:t(()=>[u(v(l.row.cedis),1)]),_:2},1032,["props"]),o(f,{key:"texcoco",props:l},{default:t(()=>[u(v(l.row.texcoco),1)]),_:2},1032,["props"]),o(f,{key:"brasil",props:l},{default:t(()=>[u(v(l.row.brasil),1)]),_:2},1032,["props"]),o(f,{key:"Sucursal",props:l},{default:t(()=>[u(v(l.row.sucursal),1)]),_:2},1032,["props"]),o(f,{key:"min",props:l},{default:t(()=>[u(v(l.row.min),1)]),_:2},1032,["props"]),o(f,{key:"max",props:l},{default:t(()=>[u(v(l.row.max),1)]),_:2},1032,["props"]),o(f,{key:"Percentge",props:l},{default:t(()=>[u(v(l.row.percentage)+" % ",1)]),_:2},1032,["props"]),o(f,{key:"required",props:l},{default:t(()=>[u(v(l.row.required)+" ",1),o(Ce,{modelValue:l.row.required,"onUpdate:modelValue":i=>l.row.required=i},{default:t(i=>[o(J,{modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,dense:"",autofocus:"",counter:"",onKeyup:Z(c=>ve(l.row.id,i),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),o(f,{key:"action",props:l},{default:t(()=>[o(_,{color:"negative",icon:"delete",onClick:i=>fe(l.row),flat:""},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter","visible-columns"])):P("",!0),o(le,{modelValue:T.value.state,"onUpdate:modelValue":a[23]||(a[23]=l=>T.value.state=l),persistent:""},{default:t(()=>[o(A,{style:{"min-width":"350px"}},{default:t(()=>[o(j,null,{default:t(()=>a[28]||(a[28]=[S("div",{class:"text-h6"},"Agrega una nota",-1)])),_:1}),o(j,{class:"q-pt-none"},{default:t(()=>[o(J,{dense:"",modelValue:E.value,"onUpdate:modelValue":a[20]||(a[20]=l=>E.value=l),autofocus:"",onKeyup:a[21]||(a[21]=Z(l=>e.prompt=!1,["enter"]))},null,8,["modelValue"])]),_:1}),o(Qe,{align:"right",class:"text-primary"},{default:t(()=>[ee(o(_,{flat:"",label:"Cancelar",onClick:a[22]||(a[22]=l=>E.value=null)},null,512),[[ae]]),ee(o(_,{flat:"",label:"Enviar Pedido",onClick:pe},null,512),[[ae]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{wl as default};
