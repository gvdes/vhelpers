import{u as y,f as k,r as i,a as D,c as S,d as e,i as s,a6 as _,a3 as w,Q as f,l as u,k as r,ah as I,n as p,j as A,a4 as c,m as B,a5 as N,aX as $}from"./index.6772a291.js";import{Q as U}from"./QToolbar.e9468a06.js";import{Q as q}from"./QPage.a5cb312a.js";import{Q as v}from"./QSelect.4738e4d7.js";import{C as E}from"./ClosePopup.fff889ca.js";import"./QImg.087d1b59.js";import"./QList.832348b5.js";import"./QSpace.62a5af0f.js";import"./QExpansionItem.5fb7069d.js";import"./favorites.f52709b7.js";import"./axios.b16d05b9.js";import{u as R}from"./use-quasar.e757a0da.js";import"./dayjs.min.cbcf888d.js";import"./jspdf.plugin.autotable.9beeab41.js";import{$sktRestock as g}from"./socket.168d2ba4.js";import{i as V}from"./invoicesApi.a52004ea.js";import"./QResizeObserver.212d10b7.js";import"./QScrollObserver.6bb52127.js";import"./_commonjsHelpers.88e99c8f.js";const j={class:"row"},le={__name:"invoice",setup(P){const Q=y(),m=R(),C=k(),d=i([]);i([]);const n=i(!1),l=i({from:null,to:null,notes:null,created_by:null}),b=async()=>{const t=await V.index();t.fail?console.log(t):(console.log(t),d.value=t.stores)},x=async()=>{m.loading.show({message:"Creando Salida"}),l.value.created_by=Q.session.credentials.staff,console.log(l.value);const t=await V.addInvoice(l.value);t.fail?console.log(t):(console.log(t),g.emit("creating",{order:t.requisition}),g.emit("partitionCreate",t.partition),C.push(`/distribute/invoice/${t.requisition.id}`),m.loading.hide())};return b(),(t,o)=>(D(),S(w,null,[e(q,{padding:""},{default:s(()=>[e(f,{class:"my-card",dense:""},{default:s(()=>[e(u,{dense:""},{default:s(()=>[e(U,{class:"justify-between"},{default:s(()=>[r("div",null,[o[5]||(o[5]=r("span",{class:"text-grey"},"Helpers",-1)),e(I,{name:"navigate_next",color:"primary"}),o[6]||(o[6]=r("span",{class:"text-h6"},"SALIDAS DE MERCANCIA",-1))]),r("div",j,[e(p,{icon:"add",flat:"",rounded:"",onClick:o[0]||(o[0]=a=>n.value=!n.value)})])]),_:1})]),_:1})]),_:1})]),_:1}),e(_,{modelValue:n.value,"onUpdate:modelValue":o[4]||(o[4]=a=>n.value=a),persistent:""},{default:s(()=>[e(f,null,{default:s(()=>[e(u,{class:"text-center text-bold text-h5"},{default:s(()=>o[7]||(o[7]=[A(" Sucursal Destino ")])),_:1}),e(u,null,{default:s(()=>[e(v,{modelValue:l.value.to,"onUpdate:modelValue":o[1]||(o[1]=a=>l.value.to=a),options:d.value.filter(a=>a._type==1),label:"Oringen",filled:"",dense:"","option-label":"name"},null,8,["modelValue","options"]),e(c,{spaced:"",inset:"",vertical:"",dark:""}),e(v,{modelValue:l.value.from,"onUpdate:modelValue":o[2]||(o[2]=a=>l.value.from=a),options:d.value.filter(a=>a._type==2),label:"Destino",filled:"",dense:"","option-label":"name"},null,8,["modelValue","options"]),e(c,{spaced:"",inset:"",vertical:"",dark:""}),e(B,{modelValue:l.value.notes,"onUpdate:modelValue":o[3]||(o[3]=a=>l.value.notes=a),type:"text",label:"Notas",filled:"",dense:""},null,8,["modelValue"])]),_:1}),e(N,{align:"right"},{default:s(()=>[$(e(p,{flat:"",label:"Cancelar",color:"negative"},null,512),[[E]]),e(p,{flat:"",label:"Crear",color:"positive",onClick:x})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{le as default};
