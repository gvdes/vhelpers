import{Q as S}from"./QSeparator.2ed53e30.js";import{r as u,o as l,a as w,w as a,u as E,e,i as s,a3 as y,Y as B,g as r,a4 as n,h as f,a1 as k,a0 as b}from"./index.fbad9e40.js";import{Q as L}from"./QToolbar.03a0633b.js";import{Q as A}from"./QHeader.9d073b66.js";import{u as H,Q as v,a as i}from"./use-quasar.aefc3bfd.js";import{Q as g}from"./QBadge.26f977e4.js";import{Q as N}from"./QLinearProgress.d0384775.js";import{Q as P}from"./QSpinnerFacebook.419e4119.js";import{Q as $}from"./QTooltip.6875e9fb.js";import{Q as q}from"./QDialog.076e111e.js";import{Q as z}from"./QPage.4e7f95a9.js";import{Q as O,a as j}from"./QLayout.ca1195e5.js";import{u as I}from"./VDB.e4db0a52.js";import{_ as M}from"./UserToolbar.bc5d7e22.js";import{a as U}from"./axios.f1f32898.js";import"./QResizeObserver.8021a2d6.js";import"./position-engine.fda72c89.js";import"./QCardActions.5b4bcc67.js";import"./ClosePopup.e7ba3a08.js";const Y=s("span",{class:"text-h6"},"Consulta Ventas",-1),R={key:0,class:"row justify-between"},G=s("div",{class:"text-h6 text-center"},"Ventas 2023",-1),J={class:"text-h4 text-center"},K=s("div",{class:"text-h6 text-center"},"Tickets 2023",-1),W={class:"text-h4 text-center"},X=s("div",{class:"text-h6 text-center"},"Ventas 2024",-1),Z={class:"text-h4 text-center"},ee=s("div",{class:"text-h6 text-center"},"Tickets 2024",-1),te={class:"text-h4 text-center"},ae=s("div",{class:"text-h6 text-center"},"Diferencia",-1),se={class:"text-h4 text-center"},oe=s("div",{class:"text-h6 text-center"},"Tickets Diferencia",-1),le={class:"text-h4 text-center"},re=s("div",{class:"text-h6 text-center"},"VENTA HOY ",-1),ne={class:"text-h4 text-center"},ie=s("div",{class:"text-h6 text-center"},"Tickets Hoy",-1),ce={class:"text-h4 text-center"},ue={key:1},de={class:"absolute-full flex flex-center"},me={key:2},_e={class:"absolute-full flex flex-center"},fe={key:0},Ae={__name:"SaleLayout",setup(ve){const V=E(),d=I(),F=H(),Q=u(!1),m=u(!1),h=u(!1),t=u(null),c=u(!1),T=async()=>{c.value=!0;let _=`http://${d.session.store.ip}/access/public/reports/getSales`;U.get(_).then(o=>{t.value=o.data,console.log("datos obt"),Q.value=!0,m.value=!0,c.value=!1}).catch(o=>{console.log(o.response.data.message)})},C=()=>{m.value=!1,h.value=!0},p=()=>{m.value=!0,h.value=!1};return d.session.rol=="root"||d.session.rol=="gen"||d.session.rol=="aud"?T():(F.notify({message:"No tienes acceso a esta pagina",type:"negative",position:"center"}),V.replace("/")),(D,_)=>(l(),w(O,{view:"hHh Lpr fFf"},{default:a(()=>[e(A,{class:"transparent text-dark",bordered:""},{default:a(()=>[e(M),e(S),e(L,{class:"justify-between"},{default:a(()=>[s("div",null,[y("Helpers "),e(B,{name:"navigate_next",color:"primary"}),y(),Y])]),_:1})]),_:1}),e(j,null,{default:a(()=>[e(z,{padding:""},{default:a(()=>[Q.value?(l(),r("div",R,[e(v,{class:"my-card",onClick:p},{default:a(()=>[e(i,null,{default:a(()=>[G,s("div",J,n(Number(t.value.salesant/t.value.salesant*100)+"%"),1)]),_:1}),e(i,null,{default:a(()=>[K,s("div",W,n(t.value.tiketsant),1)]),_:1})]),_:1}),e(v,{class:"my-card",onClick:p},{default:a(()=>[e(i,null,{default:a(()=>[X,s("div",Z,n(Number(t.value.salesact/t.value.salesant*100).toFixed(2)+"%"),1)]),_:1}),e(i,null,{default:a(()=>[ee,s("div",te,n(t.value.tiketsact),1)]),_:1})]),_:1}),e(v,{class:"my-card",onClick:p},{default:a(()=>[e(i,null,{default:a(()=>[ae,s("div",se,n(Number(Number(t.value.salesact/t.value.salesant*100)-Number(t.value.salesant/t.value.salesant*100)).toFixed(2)+"%"),1)]),_:1}),e(i,null,{default:a(()=>[oe,s("div",le,n(t.value.tiketsact-t.value.tiketsant),1)]),_:1})]),_:1}),e(v,{class:"my-card",onClick:C},{default:a(()=>[e(i,null,{default:a(()=>[re,s("div",ne,n(Number.parseFloat(t.value.saleshoy).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),_:1}),e(i,null,{default:a(()=>[ie,s("div",ce,n(t.value.hoytck),1)]),_:1})]),_:1})])):f("",!0),m.value?(l(),r("div",ue,[(l(!0),r(k,null,b(t.value.ventasdepmonth,(o,x)=>(l(),r("div",{class:"q-pa-md",key:x},[e(N,{size:"25px",stripe:"",rounded:"",value:o.VENTA/t.value.salesact,color:"primary"},{default:a(()=>[s("div",de,[e(g,{color:"white","text-color":"accent",label:o.NOMDEP+"   (% "+Number.parseFloat(o.VENTA/t.value.salesact*100).toFixed(2)+")"},null,8,["label"])])]),_:2},1032,["value"])]))),128))])):f("",!0),h.value?(l(),r("div",me,[(l(!0),r(k,null,b(t.value.ventasdepday,(o,x)=>(l(),r("div",{class:"q-pa-md",key:x},[e(N,{size:"25px",stripe:"",rounded:"",value:o.VENTA/t.value.saleshoy,color:"primary"},{default:a(()=>[s("div",_e,[e(g,{color:"white","text-color":"accent",label:o.NOMDEP+"   (% "+Number.parseFloat(o.VENTA/t.value.saleshoy*100).toFixed(2)+")"},null,8,["label"])])]),_:2},1032,["value"])]))),128))])):f("",!0),e(q,{modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=o=>c.value=o),persistent:""},{default:a(()=>[c.value?(l(),r("div",fe,[e(P,{color:"primary",size:"7.5em"}),e($,{offset:[0,8]},{default:a(()=>[y("Cargando Informacion")]),_:1})])):f("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{Ae as default};
