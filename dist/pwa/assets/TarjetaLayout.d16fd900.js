import{Q as R}from"./position-engine.717cdb75.js";import{r as f,o as b,a as N,w as l,e,i as d,a3 as s,U as g,g as C,h as V,a4 as r,a2 as F,Q as y}from"./index.84395746.js";import{a as h,Q as D}from"./axios.44d59afb.js";import{_ as L,Q as B,a as P,C as U}from"./UserToolbar.d4b7fc02.js";import{Q as O}from"./QInput.5cb787fd.js";import{Q as $}from"./QTable.ec495676.js";import{Q as H}from"./QSpinnerFacebook.1b625dba.js";import{Q as j}from"./QTooltip.be1dbaca.js";import{Q}from"./QDialog.9cacbb18.js";import{Q as q,a as K,b as T,c as p,d as J}from"./QLayout.324173c3.js";import{Q as z,a as E,b as n}from"./QList.47241955.js";import{Q as M}from"./QSelect.e700f8dd.js";import{Q as G}from"./QForm.5e450e4d.js";import{u as W}from"./VDB.409ae954.js";import{u as X}from"./use-quasar.c7270a87.js";import"./QLinearProgress.1c0e2dd0.js";const Y=d("span",{class:"text-h6"},"Consulta de Pagos",-1),Z={key:0},ee={key:0},le={class:"text-h4"},te={class:"text-subtitle2"},ae={class:"text-h5"},oe={class:"text-h5 text-center"},se={class:"text-h5 text-center"},ue=d("div",{class:"text-h6 text-center"},"Impresora",-1),Te={__name:"TarjetaLayout",setup(re){const v=W();X();const x=f({val:null,body:null}),u=f({state:!1,val:null,body:null}),i=f({val:null,filter:null,state:!1,body:null}),c=f(!1),o=f({state:!1,body:null}),I=()=>{let m=o.value.body.TICKET.split("-"),t={type:"Reimpresion",serie:m[0],folio:m[1],print:u.value.val.ip},A=`http://${v.session.store.ip}/access/public/modify/newmod`;h.post(A,t).then(_=>{console.log(_),u.value.val=null,u.value.state=!1}).catch(_=>_)},w=async()=>{console.log("Recibiendo Datos :)"),c.value=!0;let t=`http://${v.session.store.ip}/access/public/reports/getCash`;h.get(t).then(a=>{x.value.body=a.data.terminales,i.value.body=a.data.formaspagos,i.value.state=!0,console.log("ya lo recibi que no te enganen :)"),c.value=!1}).catch(a=>console.log(a))},k=async()=>{let t=`http://${v.session.store.ip}/access/public/modify/getPrinter`;h.get(t).then(a=>{u.value.body=a.data,console.log("Impresoras listas :)")}).catch(a=>{console.log(a.response.data.message)})},S=(m,t)=>{console.log("aqui se podra reimprimir"),console.log(t.TICKET),o.value.state=!0,o.value.body=t};return w(),k(),(m,t)=>(b(),N(q,{view:"hHh Lpr fFf"},{default:l(()=>[e(B,{class:"transparent text-dark",bordered:""},{default:l(()=>[e(L),e(R),e(D,{class:"justify-between"},{default:l(()=>[d("div",null,[s("Helpers "),e(g,{name:"navigate_next",color:"primary"}),s(),Y])]),_:1})]),_:1}),e(J,null,{default:l(()=>[e(K,{padding:""},{default:l(()=>[i.value.state?(b(),C("div",Z,[e($,{class:"my-sticky-header-table",title:"Fromas de Pago",rows:i.value.body,"row-key":"name",filter:i.value.filter,separator:"cell",onRowClick:S},{"top-right":l(()=>[e(O,{borderless:"",dense:"",debounce:"300",modelValue:i.value.filter,"onUpdate:modelValue":t[0]||(t[0]=a=>i.value.filter=a),placeholder:"Search"},{append:l(()=>[e(g,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","filter"])])):V("",!0),e(Q,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a),persistent:""},{default:l(()=>[c.value?(b(),C("div",ee,[e(H,{color:"primary",size:"7.5em"}),e(j,{offset:[0,8]},{default:l(()=>[s("Cargando Informacion")]),_:1})])):V("",!0)]),_:1},8,["modelValue"]),e(Q,{modelValue:o.value.state,"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.state=a),persistent:""},{default:l(()=>[e(T,{style:{width:"700px","max-width":"70vw"}},{default:l(()=>[e(p,{class:"row justify-between"},{default:l(()=>[d("div",le,"Ticket : "+r(o.value.body.TICKET),1),d("div",te,r(o.value.body.TERMINAL),1)]),_:1}),e(p,null,{default:l(()=>[d("div",ae,r(o.value.body.CNOFAC),1)]),_:1}),e(p,null,{default:l(()=>[d("div",oe,r(o.value.body.CLIENTE),1),d("div",se,r(o.value.body.FECHA),1)]),_:1}),e(p,null,{default:l(()=>[e(z,{bordered:""},{default:l(()=>[e(E,null,{default:l(()=>[e(n,null,{default:l(()=>[s("EFECTIVO")]),_:1}),e(n,null,{default:l(()=>[s("TARJETA")]),_:1}),e(n,null,{default:l(()=>[s("TRANSFERENCIA")]),_:1}),e(n,null,{default:l(()=>[s("VALE")]),_:1}),e(n,null,{default:l(()=>[s("CREDITO")]),_:1})]),_:1}),e(E,null,{default:l(()=>[e(n,null,{default:l(()=>[s(r(o.value.body.EFECTIVO),1)]),_:1}),e(n,null,{default:l(()=>[s(r(o.value.body.TARJETAS),1)]),_:1}),e(n,null,{default:l(()=>[s(r(o.value.body.TRANSFERENCIAS),1)]),_:1}),e(n,null,{default:l(()=>[s(r(o.value.body.VALES),1)]),_:1}),e(n,null,{default:l(()=>[s(r(o.value.body.CREDITOS),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(P,{align:"center"},{default:l(()=>[F(e(y,{flat:"",color:"negative",icon:"close"},null,512),[[U]]),e(y,{flat:"",color:"primary",icon:"print",onClick:t[2]||(t[2]=a=>u.value.state=!u.value.state)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:u.value.state,"onUpdate:modelValue":t[5]||(t[5]=a=>u.value.state=a)},{default:l(()=>[e(T,{class:"my-card"},{default:l(()=>[e(p,null,{default:l(()=>[ue]),_:1}),e(p,null,{default:l(()=>[e(G,{onSubmit:I,class:"q-gutter-md"},{default:l(()=>[e(M,{dense:"","option-label":"name",modelValue:u.value.val,"onUpdate:modelValue":t[4]||(t[4]=a=>u.value.val=a),options:u.value.body,label:"Impresora",filled:"",autofocus:"",style:{width:"200px"}},null,8,["modelValue","options"]),d("div",null,[e(y,{label:"Enviar",type:"submit",color:"primary",style:{width:"200px"},disable:u.value.val===null},null,8,["disable"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{Te as default};
