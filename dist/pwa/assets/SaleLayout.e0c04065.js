import{Q as w}from"./QSeparator.4b2c57a4.js";import{u as E,r as m,o as r,a as D,w as s,e,f as l,a4 as h,Y as B,g as n,a5 as u,h as p,a2 as Q,a1 as N}from"./index.1eb0c284.js";import{Q as L}from"./QToolbar.19019efb.js";import{Q as A}from"./QHeader.4a50e5b2.js";import{Q as x,a as i}from"./QCard.a83387b5.js";import{Q as f}from"./QBadge.398f17a3.js";import{Q as g}from"./QLinearProgress.975c7374.js";import{Q as H}from"./QSpinnerFacebook.7c935f8b.js";import{Q as I}from"./QTooltip.fa96dc78.js";import{Q as P}from"./QDialog.feb16004.js";import{Q as $}from"./QPage.478cc9d0.js";import{Q as q,a as z}from"./QLayout.fdf85430.js";import{u as U}from"./VDB.3b813074.js";import{_ as j}from"./UserToolbar.5d8d6bc4.js";import{a as K}from"./axios.9ab26c22.js";import{u as O}from"./use-quasar.4a3a4e1a.js";import"./QResizeObserver.3fc61669.js";import"./position-engine.9da78d89.js";import"./QCardActions.89707339.js";import"./ClosePopup.02bfe67f.js";const Y={key:0,class:"row justify-between"},M={class:"text-h4 text-center"},R={class:"text-h4 text-center"},G={class:"text-h4 text-center"},J={class:"text-h4 text-center"},W={class:"text-h4 text-center"},X={class:"text-h4 text-center"},Z={class:"text-h4 text-center"},ee={class:"text-h4 text-center"},te={key:1},ae={class:"absolute-full flex flex-center"},se={key:2},le={class:"absolute-full flex flex-center"},oe={key:0},Fe={__name:"SaleLayout",setup(re){const V=E(),c=U(),T=O(),k=m(!1),v=m(!1),b=m(!1),a=m(null),d=m(!1),F=async()=>{d.value=!0;let t=`http://${c.session.store.ip}/access/public/reports/getSales`;K.get(t).then(o=>{console.log(o.data),a.value=o.data,console.log("datos obt"),k.value=!0,v.value=!0,d.value=!1}).catch(o=>{console.log(o.response.data.message)})},C=()=>{v.value=!1,b.value=!0},_=()=>{v.value=!0,b.value=!1};return c.session.rol=="root"||c.session.rol=="gen"||c.session.rol=="aud"||c.session.rol=="rrhh"?F():(T.notify({message:"No tienes acceso a esta pagina",type:"negative",position:"center"}),V.replace("/")),(S,t)=>(r(),D(q,{view:"hHh Lpr fFf"},{default:s(()=>[e(A,{class:"transparent text-dark",bordered:""},{default:s(()=>[e(j),e(w),e(L,{class:"justify-between"},{default:s(()=>[l("div",null,[t[1]||(t[1]=h("Helpers ")),e(B,{name:"navigate_next",color:"primary"}),t[2]||(t[2]=h()),t[3]||(t[3]=l("span",{class:"text-h6"},"Consulta Ventas",-1))])]),_:1})]),_:1}),e(z,null,{default:s(()=>[e($,{padding:""},{default:s(()=>[k.value?(r(),n("div",Y,[e(x,{class:"my-card",onClick:_},{default:s(()=>[e(i,null,{default:s(()=>[t[4]||(t[4]=l("div",{class:"text-h6 text-center"},"Ventas 2024",-1)),l("div",M,u(Number(a.value.salesant/a.value.salesant*100)+"%"),1)]),_:1}),e(i,null,{default:s(()=>[t[5]||(t[5]=l("div",{class:"text-h6 text-center"},"Tickets 2024",-1)),l("div",R,u(a.value.tiketsant),1)]),_:1})]),_:1}),e(x,{class:"my-card",onClick:_},{default:s(()=>[e(i,null,{default:s(()=>[t[6]||(t[6]=l("div",{class:"text-h6 text-center"},"Ventas 2025",-1)),l("div",G,u(Number(a.value.salesact/Number(a.value.salesant*1.1)*100).toFixed(2)+"%"),1)]),_:1}),e(i,null,{default:s(()=>[t[7]||(t[7]=l("div",{class:"text-h6 text-center"},"Tickets 2025",-1)),l("div",J,u(a.value.tiketsact),1)]),_:1})]),_:1}),e(x,{class:"my-card",onClick:_},{default:s(()=>[e(i,null,{default:s(()=>[t[8]||(t[8]=l("div",{class:"text-h6 text-center"},"Diferencia",-1)),l("div",W,u(Number(Number(a.value.salesact/Number(a.value.salesant*1.1)*100)-Number(Number(a.value.salesant*1.1)/Number(a.value.salesant*1.1)*100)).toFixed(2)+"%"),1)]),_:1}),e(i,null,{default:s(()=>[t[9]||(t[9]=l("div",{class:"text-h6 text-center"},"Tickets Diferencia",-1)),l("div",X,u(a.value.tiketsact-a.value.tiketsant),1)]),_:1})]),_:1}),e(x,{class:"my-card",onClick:C},{default:s(()=>[e(i,null,{default:s(()=>[t[10]||(t[10]=l("div",{class:"text-h6 text-center"},"VENTA HOY ",-1)),l("div",Z,u(Number.parseFloat(a.value.saleshoy).toLocaleString("en-US",{style:"currency",currency:"USD"})),1)]),_:1}),e(i,null,{default:s(()=>[t[11]||(t[11]=l("div",{class:"text-h6 text-center"},"Tickets Hoy",-1)),l("div",ee,u(a.value.hoytck),1)]),_:1})]),_:1})])):p("",!0),v.value?(r(),n("div",te,[(r(!0),n(Q,null,N(a.value.ventasdepmonth,(o,y)=>(r(),n("div",{class:"q-pa-md",key:y},[e(g,{size:"25px",stripe:"",rounded:"",value:o.VENTA/a.value.salesact,color:"primary"},{default:s(()=>[l("div",ae,[e(f,{color:"white","text-color":"accent",label:o.NOMDEP},null,8,["label"]),e(f,{color:"white","text-color":"accent",label:"   (% "+Number.parseFloat(o.VENTA/a.value.salesact*100).toFixed(2)+")"},null,8,["label"]),e(f,{color:"white","text-color":"accent",label:"   ("+Number.parseFloat(o.TICKETS).toFixed(0)+" tcks)"},null,8,["label"])])]),_:2},1032,["value"])]))),128))])):p("",!0),b.value?(r(),n("div",se,[(r(!0),n(Q,null,N(a.value.ventasdepday,(o,y)=>(r(),n("div",{class:"q-pa-md",key:y},[e(g,{size:"25px",stripe:"",rounded:"",value:o.VENTA/a.value.saleshoy,color:"primary"},{default:s(()=>[l("div",le,[e(f,{color:"white","text-color":"accent",label:"   (% "+Number.parseFloat(o.VENTA/a.value.saleshoy*100).toFixed(2)+")"},null,8,["label"]),e(f,{color:"white","text-color":"accent",label:"   ("+Number.parseFloat(o.TICKETS).toFixed(0)+" tcks)"},null,8,["label"])])]),_:2},1032,["value"])]))),128))])):p("",!0),e(P,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=o=>d.value=o),persistent:""},{default:s(()=>[d.value?(r(),n("div",oe,[e(H,{color:"primary",size:"7.5em"}),e(I,{offset:[0,8]},{default:s(()=>t[12]||(t[12]=[h("Cargando Informacion")])),_:1})])):p("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{Fe as default};
