import{a as e}from"./axios.a1a5c455.js";import{b0 as a}from"./index.d87ba090.js";var i={index(){return e.get("/catalog").then(t=>t.data).catch(t=>({fail:t}))},getPrinters(t){return e.post("/catalog",t).then(r=>r.data).catch(r=>({fail:r}))},getFamilys(t){return e.get(`/catalog/familys/${t}`).then(r=>r.data).catch(r=>({fail:r}))},getFamilysProducts(t){return e.post("/catalog/family-products",t).then(r=>r.data).catch(r=>({fail:r}))}};const c=a("catalog",{state:()=>({title:null,order:null,orderState:!1,printers:{val:null,opts:[]}}),getters:{},actions:{setTitle(t){this.title=t},setOrder(t){this.order=t,this.order.products||(this.order.products=[]),this.orderState=!0,this.saveOrder()},setOrderState(t){this.orderState=t,this.saveOrder()},pushProduct(t){this.order.products.push(t),this.saveOrder()},updateProduct(t){const r=this.order.products.findIndex(s=>s.id===t.id);r!==-1&&(this.order.products[r]=t),this.saveOrder()},removeProduct(t){this.order.products=this.order.products.filter(r=>r.id!==t),this.saveOrder()},saveOrder(){localStorage.setItem("catalog_order",JSON.stringify(this.order))},loadOrder(){const t=localStorage.getItem("catalog_order");if(t){const r=JSON.parse(t);this.order=r,this.order.products||(this.order.products=[]),this.orderState=!0}},setPrinters(t){this.printers.val=t},clearOrder(){this.order={products:[]},this.orderState=!1,localStorage.removeItem("catalog_order")}}});export{i as a,c};
