import{a as e}from"./axios.ca8f7ee4.js";import{aY as s}from"./index.37883b8c.js";var u={index(){return e.get("/catalog").then(t=>t.data).catch(t=>({fail:t}))},getPrinters(t){return e.post("/catalog",t).then(i=>i.data).catch(i=>({fail:i}))},getFamilys(t){return e.get(`/catalog/familys/${t}`).then(i=>i.data).catch(i=>({fail:i}))},getFamilysProducts(t){return e.post("/catalog/family-products",t).then(i=>i.data).catch(i=>({fail:i}))}};const d=s("catalog",{state:()=>({title:null,order:null,orderState:!1,requisitionState:!1,requisition:null,printers:{val:null,opts:[]}}),getters:{},actions:{setTitle(t){this.title=t},setOrder(t){this.order=t,this.order.products||(this.order.products=[]),this.orderState=!0,this.saveOrder()},setOrderState(t){this.orderState=t,this.saveOrder()},pushProduct(t){this.order.products.push(t),this.saveOrder()},updateProduct(t){const i=this.order.products.findIndex(r=>r.id===t.id);i!==-1&&(this.order.products[i]=t),this.saveOrder()},removeProduct(t){this.order.products=this.order.products.filter(i=>i.id!==t),this.saveOrder()},saveOrder(){localStorage.setItem("catalog_order",JSON.stringify(this.order))},loadOrder(){const t=localStorage.getItem("catalog_order");if(t){const i=JSON.parse(t);this.order=i,this.order.products||(this.order.products=[]),this.orderState=!0}},setPrinters(t){this.printers.val=t},clearOrder(){this.order={products:[]},this.orderState=!1,localStorage.removeItem("catalog_order")},setRequisitionState(t){this.requisitionState=t,this.saveRequisition()},setRequisition(t){this.requisition=t,this.requisition.products||(this.requisition.products=[]),this.requisitionState=!0,this.saveRequisition()},saveRequisition(){localStorage.setItem("catalog_requisition",JSON.stringify(this.requisition))},loadRequisition(){const t=localStorage.getItem("catalog_requisition");if(t){const i=JSON.parse(t);this.requisition=i,this.requisition.products||(this.requisition.products=[]),this.requisitionState=!0}},pushProductRequisition(t){this.requisition.products.push(t),this.saveRequisition()},updateProductRequisition(t){const i=this.requisition.products.findIndex(r=>r.id===t.id);i!==-1&&(this.requisition.products[i]=t),this.saveRequisition()},removeProductRequisition(t){this.requisition.products=this.requisition.products.filter(i=>i.id!==t),this.saveRequisition()},clearRequisition(){this.requisition={products:[]},this.requisitionState=!1,localStorage.removeItem("catalog_requisition")}}});export{u as a,d as c};
