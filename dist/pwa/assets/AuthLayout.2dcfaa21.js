import{u as g,Q as v,a as r}from"./use-quasar.4a8b59d1.js";import{Q as n}from"./QInput.0b7e2d87.js";import{u as y,r as Q,c as x,o as i,a as V,w as s,e as t,f as u,g as _,Q as k,h as S,P as h}from"./index.af78e72d.js";import{Q as w}from"./QForm.6392d345.js";import{Q as b}from"./QPage.b4044e59.js";import{Q as B,a as C}from"./QLayout.dd3eafb7.js";import{u as N}from"./VDB.44967776.js";import{a as P}from"./auth.47587533.js";import"./index.ce678b9e.js";import"./QScrollObserver.79afb293.js";import"./QResizeObserver.3992b2f0.js";import"./axios.0d2bd0f9.js";import"./_commonjsHelpers.88e99c8f.js";const A={key:0,class:"text-center"},G={__name:"AuthLayout",setup(L){const c=N(),p=g(),f=y(),a=Q({nick:"",pass:""}),d=x(()=>a.value.nick&&a.value.pass),m=async()=>{console.log("Iniciando sesion ...",a.value);const o=await P.trySignin(a.value);if(o.fail)o.fail.status==404&&p.notify({message:"Credenciales erroneas",color:"negative",icon:"fas fa-bugs"}),console.log(o);else{let e=JSON.parse(JSON.stringify(o));console.log(e),h.set("auth",e),c.setSession(e),f.replace("/")}};return(o,e)=>(i(),V(B,{view:"hHh Lpr fFf"},{default:s(()=>[t(C,null,{default:s(()=>[t(b,{padding:"",class:"flex flex-center"},{default:s(()=>[t(v,{flat:"",class:"bg-transparent"},{default:s(()=>[t(r,{class:"row items-center justify-between"},{default:s(()=>e[2]||(e[2]=[u("div",{class:"fs-inc4"},"Acceso",-1),u("div",{class:"text-right fw-xbold text-primary fs-dec2"},"VH v1.0",-1)])),_:1}),t(r,{horizontal:""},{default:s(()=>[t(r,null,{default:s(()=>[t(w,{onSubmit:m,class:"q-gutter-lg"},{default:s(()=>[t(n,{outlined:"",rounded:"",standout:"text-primary",placeholder:"nick","input-class":"fs-inc2 text-center",modelValue:a.value.nick,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.nick=l),type:"text",autofocus:"",autocapitalize:"off",autocomplete:"off"},null,8,["modelValue"]),t(n,{outlined:"",rounded:"",placeholder:"nip","input-class":"fs-inc2 text-center",modelValue:a.value.pass,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.pass=l),type:"password"},null,8,["modelValue"]),d.value?(i(),_("div",A,[t(k,{label:"Entrar",type:"submit",color:"primary"})])):S("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{G as default};
