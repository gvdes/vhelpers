import{Q as g}from"./QPage.3d276047.js";import{aI as w,a as x,u as A,r,c as v,p as y,l as M,o as _,d as S,w as $,e as m,a1 as d}from"./index.e74f744c.js";import"./QSelect.d601643f.js";import{u as k}from"./use-quasar.da86dd6a.js";import"./dayjs.min.cbcf888d.js";import"./QList.bf2ca64e.js";import"./QDrawer.840dcc13.js";import"./QExpansionItem.d7aaa58c.js";import"./QCardSection.3a5b15bd.js";import"./QCardActions.2124a3dd.js";import"./QCard.726ff719.js";import"./ClosePopup.82bddfb2.js";import"./axios.952f42b7.js";import{u as C,m as h}from"./vue3-apexcharts.c96d6050.js";import"./use-key-composition.8f0344f2.js";import"./_commonjsHelpers.88e99c8f.js";import"./use-checkbox.04130c60.js";import"./QResizeObserver.c2d55b44.js";import"./QScrollObserver.ac138a58.js";const J={__name:"month",setup(L){const f=k(),e=C();w(),x(),A();const i=r({}),n=r([]),l=r({}),c=r([]),b=v(()=>f.platform.is.mobile),u=()=>{const a=b.value;i.value={chart:{id:"stores",background:"none",toolbar:{show:!1}},tooltip:{y:{formatter:o=>"$"+o.toLocaleString("es-MX")}},xaxis:{categories:e.stores.map(o=>a?o.sucursal.alias:o.sucursal.name),labels:{show:!0}},plotOptions:{bar:{horizontal:!0,columnWidth:"100%",barHeight:"90%"}},dataLabels:{formatter:o=>`$ ${o.toLocaleString("es-MX")}`,style:{colors:["#333"]}}},n.value=[{name:`VENTA ${e.today}`,data:e.stores.map(o=>{var t,s;return((s=(t=o.data)==null?void 0:t.salesAct)==null?void 0:s.totalMonth)||0})}]},p=()=>{const a=e.stores.reduce((t,s)=>t+(s.data.salesAct.totalMonth||0),0),o=e.stores.reduce((t,s)=>t+(s.data.salesAnt.totalMonth||0),0);e.stores.reduce((t,s)=>t+(s.data.salesAct.tickets||0),0),e.stores.reduce((t,s)=>t+(s.data.salesAnt.tickets||0),0),l.value=l.value={chart:{id:"global",toolbar:{show:!1},background:"transparent"},colors:["#4ECDC4","#556270"],tooltip:{y:{formatter:t=>"$"+t.toLocaleString("es-MX")}},xaxis:{categories:["A\xD1O Anterior","A\xD1O Actual"]},yaxis:{labels:{show:!1},axisBorder:{show:!1},axisTicks:{show:!1}},dataLabels:{formatter:t=>`$ ${t.toLocaleString("es-MX")}`,style:{colors:["#333"]}}},c.value=[{data:[o,a]}]};return y(()=>{e.stores.length>0?(u(),p()):M(()=>e.stores,a=>{a.length>0&&(u(),p())},{immediate:!0})}),(a,o)=>(_(),S(g,{padding:""},{default:$(()=>[m(d(h),{type:"bar",width:"97%",height:"300px",options:l.value,series:c.value},null,8,["options","series"]),m(d(h),{type:"bar",width:"97%",height:"400px",options:i.value,series:n.value},null,8,["options","series"])]),_:1}))}};export{J as default};
