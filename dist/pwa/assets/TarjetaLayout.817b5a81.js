import{Q as at}from"./position-engine.ff19e8ff.js";import{c as w,aQ as gt,aR as Rt,j as Bt,r as I,v as ve,k as y,W as fe,l as Lt,m as Zt,aI as zt,F as nt,Q as q,o as Qe,a as Ut,w as b,e as h,i as N,a3 as F,U as lt,g as ot,h as rt,a4 as L,a2 as Pt}from"./index.faf24e23.js";import{a as Ee,Q as Jt}from"./axios.91fdf52c.js";import{_ as Xt,Q as Wt,a as ut,C as Kt}from"./UserToolbar.9d1789aa.js";import{d as Gt,j as ea,i as ta,Q as aa}from"./QInput.80c9462d.js";import{Q as na}from"./QTable.24dede1c.js";import{Q as la}from"./QSpinnerFacebook.c61e4396.js";import{Q as oa}from"./QTooltip.45f6d5be.js";import{Q as be}from"./QDialog.d8055f8e.js";import{u as ra,f as ua,Q as sa,a as ia,b as je,c as J,d as da}from"./QLayout.5f933d4d.js";import{Q as st,a as Z}from"./QItem.f80cacc2.js";import{Q as ca}from"./QList.c738effc.js";import{p as S,Q as va}from"./QSelect.d050fd5b.js";import{Q as fa}from"./QForm.3c8c4303.js";import{u as ma}from"./use-cache.b0833c75.js";import{u as ha}from"./VDB.f558b6a3.js";import{u as ga}from"./use-quasar.5d608839.js";import"./QLinearProgress.54ad6f69.js";import"./QCheckbox.1f20d1a5.js";const K=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function ya(e,l,c){return Object.prototype.toString.call(e)==="[object Date]"&&(c=e.getDate(),l=e.getMonth()+1,e=e.getFullYear()),ba(Ne(e,l,c))}function it(e,l,c){return Mt(Da(e,l,c))}function Ma(e){return _a(e)===0}function xe(e,l){return l<=6?31:l<=11||Ma(e)?30:29}function _a(e){const l=K.length;let c=K[0],r,s,o,g,u;if(e<c||e>=K[l-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<l&&(r=K[u],s=r-c,!(e<r));u+=1)c=r;return g=e-c,s-g<6&&(g=g-s+k(s+4,33)*33),o=$($(g+1,33)-1,4),o===-1&&(o=4),o}function yt(e,l){const c=K.length,r=e+621;let s=-14,o=K[0],g,u,m,C,f;if(e<o||e>=K[c-1])throw new Error("Invalid Jalaali year "+e);for(f=1;f<c&&(g=K[f],u=g-o,!(e<g));f+=1)s=s+k(u,33)*8+k($(u,33),4),o=g;C=e-o,s=s+k(C,33)*8+k($(C,33)+3,4),$(u,33)===4&&u-C===4&&(s+=1);const p=k(r,4)-k((k(r,100)+1)*3,4)-150,R=20+s-p;return l||(u-C<6&&(C=C-u+k(u+4,33)*33),m=$($(C+1,33)-1,4),m===-1&&(m=4)),{leap:m,gy:r,march:R}}function Da(e,l,c){const r=yt(e,!0);return Ne(r.gy,3,r.march)+(l-1)*31-k(l,7)*(l-7)+c-1}function ba(e){const l=Mt(e).gy;let c=l-621,r,s,o;const g=yt(c,!1),u=Ne(l,3,g.march);if(o=e-u,o>=0){if(o<=185)return s=1+k(o,31),r=$(o,31)+1,{jy:c,jm:s,jd:r};o-=186}else c-=1,o+=179,g.leap===1&&(o+=1);return s=7+k(o,30),r=$(o,30)+1,{jy:c,jm:s,jd:r}}function Ne(e,l,c){let r=k((e+k(l-8,6)+100100)*1461,4)+k(153*$(l+9,12)+2,5)+c-34840408;return r=r-k(k(e+100100+k(l-8,6),100)*3,4)+752,r}function Mt(e){let l=4*e+139361631;l=l+k(k(4*e+183187720,146097)*3,4)*4-3908;const c=k($(l,1461),4)*5+308,r=k($(c,153),5)+1,s=$(k(c,153),12)+1;return{gy:k(l,1461)-100100+k(8-s,6),gm:s,gd:r}}function k(e,l){return~~(e/l)}function $(e,l){return e-~~(e/l)*l}const wa=["gregorian","persian"],xa={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>wa.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},pa=["update:modelValue"];function X(e){return e.year+"/"+S(e.month)+"/"+S(e.day)}function Ya(e,l){const c=w(()=>e.disable!==!0&&e.readonly!==!0),r=w(()=>c.value===!0?0:-1),s=w(()=>{const u=[];return e.color!==void 0&&u.push(`bg-${e.color}`),e.textColor!==void 0&&u.push(`text-${e.textColor}`),u.join(" ")});function o(){return e.locale!==void 0?{...l.lang.date,...e.locale}:l.lang.date}function g(u){const m=new Date,C=u===!0?null:0;if(e.calendar==="persian"){const f=ya(m);return{year:f.jy,month:f.jm,day:f.jd}}return{year:m.getFullYear(),month:m.getMonth()+1,day:m.getDate(),hour:C,minute:C,second:C,millisecond:C}}return{editable:c,tabindex:r,headerClass:s,getLocale:o,getCurrentDate:g}}const _t=864e5,Sa=36e5,Ae=6e4,Dt="YYYY-MM-DDTHH:mm:ss.SSSZ",Ca=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Ha=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Fe={};function ka(e,l){const c="("+l.days.join("|")+")",r=e+c;if(Fe[r]!==void 0)return Fe[r];const s="("+l.daysShort.join("|")+")",o="("+l.months.join("|")+")",g="("+l.monthsShort.join("|")+")",u={};let m=0;const C=e.replace(Ha,p=>{switch(m++,p){case"YY":return u.YY=m,"(-?\\d{1,2})";case"YYYY":return u.YYYY=m,"(-?\\d{1,4})";case"M":return u.M=m,"(\\d{1,2})";case"MM":return u.M=m,"(\\d{2})";case"MMM":return u.MMM=m,g;case"MMMM":return u.MMMM=m,o;case"D":return u.D=m,"(\\d{1,2})";case"Do":return u.D=m++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return u.D=m,"(\\d{2})";case"H":return u.H=m,"(\\d{1,2})";case"HH":return u.H=m,"(\\d{2})";case"h":return u.h=m,"(\\d{1,2})";case"hh":return u.h=m,"(\\d{2})";case"m":return u.m=m,"(\\d{1,2})";case"mm":return u.m=m,"(\\d{2})";case"s":return u.s=m,"(\\d{1,2})";case"ss":return u.s=m,"(\\d{2})";case"S":return u.S=m,"(\\d{1})";case"SS":return u.S=m,"(\\d{2})";case"SSS":return u.S=m,"(\\d{3})";case"A":return u.A=m,"(AM|PM)";case"a":return u.a=m,"(am|pm)";case"aa":return u.aa=m,"(a\\.m\\.|p\\.m\\.)";case"ddd":return s;case"dddd":return c;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return u.Z=m,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return u.ZZ=m,"(Z|[+-]\\d{2}\\d{2})";case"X":return u.X=m,"(-?\\d+)";case"x":return u.x=m,"(-?\\d{4,})";default:return m--,p[0]==="["&&(p=p.substring(1,p.length-1)),p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),f={map:u,regex:new RegExp("^"+C)};return Fe[r]=f,f}function bt(e,l){return e!==void 0?e:l!==void 0?l.date:Rt.date}function dt(e,l=""){const c=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),o=r%60;return c+S(s)+l+S(o)}function Va(e,l,c,r,s){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(s!==void 0&&Object.assign(o,s),e==null||e===""||typeof e!="string")return o;l===void 0&&(l=Dt);const g=bt(c,gt.props),u=g.months,m=g.monthsShort,{regex:C,map:f}=ka(l,g),p=e.match(C);if(p===null)return o;let R="";if(f.X!==void 0||f.x!==void 0){const E=parseInt(p[f.X!==void 0?f.X:f.x],10);if(isNaN(E)===!0||E<0)return o;const V=new Date(E*(f.X!==void 0?1e3:1));o.year=V.getFullYear(),o.month=V.getMonth()+1,o.day=V.getDate(),o.hour=V.getHours(),o.minute=V.getMinutes(),o.second=V.getSeconds(),o.millisecond=V.getMilliseconds()}else{if(f.YYYY!==void 0)o.year=parseInt(p[f.YYYY],10);else if(f.YY!==void 0){const E=parseInt(p[f.YY],10);o.year=E<0?E:2e3+E}if(f.M!==void 0){if(o.month=parseInt(p[f.M],10),o.month<1||o.month>12)return o}else f.MMM!==void 0?o.month=m.indexOf(p[f.MMM])+1:f.MMMM!==void 0&&(o.month=u.indexOf(p[f.MMMM])+1);if(f.D!==void 0){if(o.day=parseInt(p[f.D],10),o.year===null||o.month===null||o.day<1)return o;const E=r!=="persian"?new Date(o.year,o.month,0).getDate():xe(o.year,o.month);if(o.day>E)return o}f.H!==void 0?o.hour=parseInt(p[f.H],10)%24:f.h!==void 0&&(o.hour=parseInt(p[f.h],10)%12,(f.A&&p[f.A]==="PM"||f.a&&p[f.a]==="pm"||f.aa&&p[f.aa]==="p.m.")&&(o.hour+=12),o.hour=o.hour%24),f.m!==void 0&&(o.minute=parseInt(p[f.m],10)%60),f.s!==void 0&&(o.second=parseInt(p[f.s],10)%60),f.S!==void 0&&(o.millisecond=parseInt(p[f.S],10)*10**(3-p[f.S].length)),(f.Z!==void 0||f.ZZ!==void 0)&&(R=f.Z!==void 0?p[f.Z].replace(":",""):p[f.ZZ],o.timezoneOffset=(R[0]==="+"?-1:1)*(60*R.slice(1,3)+1*R.slice(3,5)))}return o.dateHash=S(o.year,6)+"/"+S(o.month)+"/"+S(o.day),o.timeHash=S(o.hour)+":"+S(o.minute)+":"+S(o.second)+R,o}function ct(e){const l=new Date(e.getFullYear(),e.getMonth(),e.getDate());l.setDate(l.getDate()-(l.getDay()+6)%7+3);const c=new Date(l.getFullYear(),0,4);c.setDate(c.getDate()-(c.getDay()+6)%7+3);const r=l.getTimezoneOffset()-c.getTimezoneOffset();l.setHours(l.getHours()-r);const s=(l-c)/(_t*7);return 1+Math.floor(s)}function U(e,l,c){const r=new Date(e),s=`set${c===!0?"UTC":""}`;switch(l){case"year":case"years":r[`${s}Month`](0);case"month":case"months":r[`${s}Date`](1);case"day":case"days":case"date":r[`${s}Hours`](0);case"hour":case"hours":r[`${s}Minutes`](0);case"minute":case"minutes":r[`${s}Seconds`](0);case"second":case"seconds":r[`${s}Milliseconds`](0)}return r}function we(e,l,c){return(e.getTime()-e.getTimezoneOffset()*Ae-(l.getTime()-l.getTimezoneOffset()*Ae))/c}function wt(e,l,c="days"){const r=new Date(e),s=new Date(l);switch(c){case"years":case"year":return r.getFullYear()-s.getFullYear();case"months":case"month":return(r.getFullYear()-s.getFullYear())*12+r.getMonth()-s.getMonth();case"days":case"day":case"date":return we(U(r,"day"),U(s,"day"),_t);case"hours":case"hour":return we(U(r,"hour"),U(s,"hour"),Sa);case"minutes":case"minute":return we(U(r,"minute"),U(s,"minute"),Ae);case"seconds":case"second":return we(U(r,"second"),U(s,"second"),1e3)}}function vt(e){return wt(e,U(e,"year"),"days")+1}function ft(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const mt={YY(e,l,c){const r=this.YYYY(e,l,c)%100;return r>=0?S(r):"-"+S(Math.abs(r))},YYYY(e,l,c){return c!=null?c:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return S(e.getMonth()+1)},MMM(e,l){return l.monthsShort[e.getMonth()]},MMMM(e,l){return l.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return ft(this.Q(e))},D(e){return e.getDate()},Do(e){return ft(e.getDate())},DD(e){return S(e.getDate())},DDD(e){return vt(e)},DDDD(e){return S(vt(e),3)},d(e){return e.getDay()},dd(e,l){return this.dddd(e,l).slice(0,2)},ddd(e,l){return l.daysShort[e.getDay()]},dddd(e,l){return l.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return ct(e)},ww(e){return S(ct(e))},H(e){return e.getHours()},HH(e){return S(e.getHours())},h(e){const l=e.getHours();return l===0?12:l>12?l%12:l},hh(e){return S(this.h(e))},m(e){return e.getMinutes()},mm(e){return S(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return S(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return S(Math.floor(e.getMilliseconds()/10))},SSS(e){return S(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,l,c,r){const s=r==null?e.getTimezoneOffset():r;return dt(s,":")},ZZ(e,l,c,r){const s=r==null?e.getTimezoneOffset():r;return dt(s)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ia(e,l,c,r,s){if(e!==0&&!e||e===1/0||e===-1/0)return;const o=new Date(e);if(isNaN(o))return;l===void 0&&(l=Dt);const g=bt(c,gt.props);return l.replace(Ca,(u,m)=>u in mt?mt[u](o,g,r,s):m===void 0?u:m.split("\\]").join("]"))}const ae=20,qa=["Calendar","Years","Months"],ht=e=>qa.includes(e),$e=e=>/^-?[\d]+\/[0-1]\d$/.test(e),ue=" \u2014 ";function W(e){return e.year+"/"+S(e.month)}var Ta=Bt({name:"QDate",props:{...xa,...Gt,...ra,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:$e},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:$e},navigationMaxYearMonth:{type:String,validator:$e},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:ht}},emits:[...pa,"rangeStart","rangeEnd","navigation"],setup(e,{slots:l,emit:c}){const{proxy:r}=Zt(),{$q:s}=r,o=ua(e,s),{getCache:g}=ma(),{tabindex:u,headerClass:m,getLocale:C,getCurrentDate:f}=Ya(e,s);let p;const R=ea(e),E=ta(R),V=I(null),x=I(Je()),M=I(C()),G=w(()=>Je()),se=w(()=>C()),z=w(()=>f()),_=I(Xe(x.value,M.value)),j=I(e.defaultView),Re=s.lang.rtl===!0?"right":"left",me=I(Re.value),pe=I(Re.value),Ye=_.value.year,he=I(Ye-Ye%ae-(Ye<0?ae:0)),T=I(null),xt=w(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(o.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),ee=w(()=>e.color||"primary"),ne=w(()=>e.textColor||"white"),ge=w(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),Se=w(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),B=w(()=>Se.value.filter(t=>typeof t=="string").map(t=>Ve(t,x.value,M.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),le=w(()=>{const t=a=>Ve(a,x.value,M.value);return Se.value.filter(a=>zt(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),ye=w(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=it(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),Ce=w(()=>e.calendar==="persian"?X:(t,a,n)=>Ia(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?x.value:a,n===void 0?M.value:n,t.year,t.timezoneOffset)),ie=w(()=>B.value.length+le.value.reduce((t,a)=>t+1+wt(ye.value(a.to),ye.value(a.from)),0)),Be=w(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length>0)return e.title;if(T.value!==null){const n=T.value.init,d=ye.value(n);return M.value.daysShort[d.getDay()]+", "+M.value.monthsShort[n.month-1]+" "+n.day+ue+"?"}if(ie.value===0)return ue;if(ie.value>1)return`${ie.value} ${M.value.pluralDay}`;const t=B.value[0],a=ye.value(t);return isNaN(a.valueOf())===!0?ue:M.value.headerTitle!==void 0?M.value.headerTitle(a,t):M.value.daysShort[a.getDay()]+", "+M.value.monthsShort[t.month-1]+" "+t.day}),pt=w(()=>B.value.concat(le.value.map(a=>a.from)).sort((a,n)=>a.year-n.year||a.month-n.month)[0]),Yt=w(()=>B.value.concat(le.value.map(a=>a.to)).sort((a,n)=>n.year-a.year||n.month-a.month)[0]),Le=w(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length>0)return e.subtitle;if(ie.value===0)return ue;if(ie.value>1){const t=pt.value,a=Yt.value,n=M.value.monthsShort;return n[t.month-1]+(t.year!==a.year?" "+t.year+ue+n[a.month-1]+" ":t.month!==a.month?ue+n[a.month-1]:"")+" "+a.year}return B.value[0].year}),Me=w(()=>{const t=[s.iconSet.datetime.arrowLeft,s.iconSet.datetime.arrowRight];return s.lang.rtl===!0?t.reverse():t}),Ze=w(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):M.value.firstDayOfWeek),St=w(()=>{const t=M.value.daysShort,a=Ze.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),P=w(()=>{const t=_.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():xe(t.year,t.month)}),Ct=w(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),O=w(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Q=w(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),He=w(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return O.value!==null&&O.value.year>=_.value.year&&(t.year.prev=!1,O.value.year===_.value.year&&O.value.month>=_.value.month&&(t.month.prev=!1)),Q.value!==null&&Q.value.year<=_.value.year&&(t.year.next=!1,Q.value.year===_.value.year&&Q.value.month<=_.value.month&&(t.month.next=!1)),t}),_e=w(()=>{const t={};return B.value.forEach(a=>{const n=W(a);t[n]===void 0&&(t[n]=[]),t[n].push(a.day)}),t}),ze=w(()=>{const t={};return le.value.forEach(a=>{const n=W(a.from),d=W(a.to);if(t[n]===void 0&&(t[n]=[]),t[n].push({from:a.from.day,to:n===d?a.to.day:void 0,range:a}),n<d){let i;const{year:Y,month:v}=a.from,D=v<12?{year:Y,month:v+1}:{year:Y+1,month:1};for(;(i=W(D))<=d;)t[i]===void 0&&(t[i]=[]),t[i].push({from:void 0,to:i===d?a.to.day:void 0,range:a}),D.month++,D.month>12&&(D.year++,D.month=1)}}),t}),de=w(()=>{if(T.value===null)return;const{init:t,initHash:a,final:n,finalHash:d}=T.value,[i,Y]=a<=d?[t,n]:[n,t],v=W(i),D=W(Y);if(v!==A.value&&D!==A.value)return;const H={};return v===A.value?(H.from=i.day,H.includeFrom=!0):H.from=1,D===A.value?(H.to=Y.day,H.includeTo=!0):H.to=P.value,H}),A=w(()=>W(_.value)),Ht=w(()=>{const t={};if(e.options===void 0){for(let n=1;n<=P.value;n++)t[n]=!0;return t}const a=typeof e.options=="function"?e.options:n=>e.options.includes(n);for(let n=1;n<=P.value;n++){const d=A.value+"/"+S(n);t[n]=a(d)}return t}),kt=w(()=>{const t={};if(e.events===void 0)for(let a=1;a<=P.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:n=>e.events.includes(n);for(let n=1;n<=P.value;n++){const d=A.value+"/"+S(n);t[n]=a(d)===!0&&Ct.value(d)}}return t}),Vt=w(()=>{let t,a;const{year:n,month:d}=_.value;if(e.calendar!=="persian")t=new Date(n,d-1,1),a=new Date(n,d-1,0).getDate();else{const i=it(n,d,1);t=new Date(i.gy,i.gm-1,i.gd);let Y=d-1,v=n;Y===0&&(Y=12,v--),a=xe(v,Y)}return{days:t.getDay()-Ze.value-1,endDay:a}}),Ue=w(()=>{const t=[],{days:a,endDay:n}=Vt.value,d=a<0?a+7:a;if(d<6)for(let v=n-d;v<=n;v++)t.push({i:v,fill:!0});const i=t.length;for(let v=1;v<=P.value;v++){const D={i:v,event:kt.value[v],classes:[]};Ht.value[v]===!0&&(D.in=!0,D.flat=!0),t.push(D)}if(_e.value[A.value]!==void 0&&_e.value[A.value].forEach(v=>{const D=i+v-1;Object.assign(t[D],{selected:!0,unelevated:!0,flat:!1,color:ee.value,textColor:ne.value})}),ze.value[A.value]!==void 0&&ze.value[A.value].forEach(v=>{if(v.from!==void 0){const D=i+v.from-1,H=i+(v.to||P.value)-1;for(let ce=D;ce<=H;ce++)Object.assign(t[ce],{range:v.range,unelevated:!0,color:ee.value,textColor:ne.value});Object.assign(t[D],{rangeFrom:!0,flat:!1}),v.to!==void 0&&Object.assign(t[H],{rangeTo:!0,flat:!1})}else if(v.to!==void 0){const D=i+v.to-1;for(let H=i;H<=D;H++)Object.assign(t[H],{range:v.range,unelevated:!0,color:ee.value,textColor:ne.value});Object.assign(t[D],{flat:!1,rangeTo:!0})}else{const D=i+P.value-1;for(let H=i;H<=D;H++)Object.assign(t[H],{range:v.range,unelevated:!0,color:ee.value,textColor:ne.value})}}),de.value!==void 0){const v=i+de.value.from-1,D=i+de.value.to-1;for(let H=v;H<=D;H++)t[H].color=ee.value,t[H].editRange=!0;de.value.includeFrom===!0&&(t[v].editRangeFrom=!0),de.value.includeTo===!0&&(t[D].editRangeTo=!0)}_.value.year===z.value.year&&_.value.month===z.value.month&&(t[i+z.value.day-1].today=!0);const Y=t.length%7;if(Y>0){const v=7-Y;for(let D=1;D<=v;D++)t.push({i:D,fill:!0})}return t.forEach(v=>{let D="q-date__calendar-item ";v.fill===!0?D+="q-date__calendar-item--fill":(D+=`q-date__calendar-item--${v.in===!0?"in":"out"}`,v.range!==void 0&&(D+=` q-date__range${v.rangeTo===!0?"-to":v.rangeFrom===!0?"-from":""}`),v.editRange===!0&&(D+=` q-date__edit-range${v.editRangeFrom===!0?"-from":""}${v.editRangeTo===!0?"-to":""}`),(v.range!==void 0||v.editRange===!0)&&(D+=` text-${v.color}`)),v.classes=D}),t}),It=w(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});ve(()=>e.modelValue,t=>{if(p===t)p=0;else{const a=Xe(x.value,M.value);oe(a.year,a.month,a)}}),ve(j,()=>{V.value!==null&&r.$el.contains(document.activeElement)===!0&&V.value.focus()}),ve(()=>_.value.year+"|"+_.value.month,()=>{c("navigation",{year:_.value.year,month:_.value.month})}),ve(G,t=>{tt(t,M.value,"mask"),x.value=t}),ve(se,t=>{tt(x.value,t,"locale"),M.value=t});function Pe(){const t=z.value,a=_e.value[W(t)];(a===void 0||a.includes(t.day)===!1)&&qe(t),ke(t.year,t.month)}function qt(t){ht(t)===!0&&(j.value=t)}function Tt(t,a){["month","year"].includes(t)&&(t==="month"?Ke:Ie)(a===!0?-1:1)}function ke(t,a){j.value="Calendar",oe(t,a)}function Ot(t,a){if(e.range===!1||!t){T.value=null;return}const n=Object.assign({..._.value},t),d=a!==void 0?Object.assign({..._.value},a):n;T.value={init:n,initHash:X(n),final:d,finalHash:X(d)},ke(n.year,n.month)}function Je(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Ve(t,a,n){return Va(t,a,n,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Xe(t,a){const n=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(n.length===0)return We();const d=n[n.length-1],i=Ve(d.from!==void 0?d.from:d,t,a);return i.dateHash===null?We():i}function We(){let t,a;if(e.defaultYearMonth!==void 0){const n=e.defaultYearMonth.split("/");t=parseInt(n[0],10),a=parseInt(n[1],10)}else{const n=z.value!==void 0?z.value:f();t=n.year,a=n.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+S(a)+"/01"}}function Ke(t){let a=_.value.year,n=Number(_.value.month)+t;n===13?(n=1,a++):n===0&&(n=12,a--),oe(a,n),ge.value===!0&&De("month")}function Ie(t){const a=Number(_.value.year)+t;oe(a,_.value.month),ge.value===!0&&De("year")}function Qt(t){oe(t,_.value.month),j.value=e.defaultView==="Years"?"Months":"Calendar",ge.value===!0&&De("year")}function Et(t){oe(_.value.year,t),j.value="Calendar",ge.value===!0&&De("month")}function jt(t,a){const n=_e.value[a];(n!==void 0&&n.includes(t.day)===!0?Te:qe)(t)}function te(t){return{year:t.year,month:t.month,day:t.day}}function oe(t,a,n){if(O.value!==null&&t<=O.value.year&&(t=O.value.year,a<O.value.month&&(a=O.value.month)),Q.value!==null&&t>=Q.value.year&&(t=Q.value.year,a>Q.value.month&&(a=Q.value.month)),n!==void 0){const{hour:i,minute:Y,second:v,millisecond:D,timezoneOffset:H,timeHash:ce}=n;Object.assign(_.value,{hour:i,minute:Y,second:v,millisecond:D,timezoneOffset:H,timeHash:ce})}const d=t+"/"+S(a)+"/01";d!==_.value.dateHash&&(me.value=_.value.dateHash<d==(s.lang.rtl!==!0)?"left":"right",t!==_.value.year&&(pe.value=me.value),nt(()=>{he.value=t-t%ae-(t<0?ae:0),Object.assign(_.value,{year:t,month:a,day:1,dateHash:d})}))}function Ge(t,a,n){const d=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;p=d;const{reason:i,details:Y}=et(a,n);c("update:modelValue",d,i,Y)}function De(t){const a=B.value[0]!==void 0&&B.value[0].dateHash!==null?{...B.value[0]}:{..._.value};nt(()=>{a.year=_.value.year,a.month=_.value.month;const n=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():xe(a.year,a.month);a.day=Math.min(Math.max(1,a.day),n);const d=re(a);p=d;const{details:i}=et("",a);c("update:modelValue",d,t,i)})}function et(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...te(a.target),from:te(a.from),to:te(a.to)}}:{reason:`${t}-day`,details:te(a)}}function re(t,a,n){return t.from!==void 0?{from:Ce.value(t.from,a,n),to:Ce.value(t.to,a,n)}:Ce.value(t,a,n)}function qe(t){let a;if(e.multiple===!0)if(t.from!==void 0){const n=X(t.from),d=X(t.to),i=B.value.filter(v=>v.dateHash<n||v.dateHash>d),Y=le.value.filter(({from:v,to:D})=>D.dateHash<n||v.dateHash>d);a=i.concat(Y).concat(t).map(v=>re(v))}else{const n=Se.value.slice();n.push(re(t)),a=n}else a=re(t);Ge(a,"add",t)}function Te(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const n=re(t);t.from!==void 0?a=e.modelValue.filter(d=>d.from!==void 0?d.from!==n.from&&d.to!==n.to:!0):a=e.modelValue.filter(d=>d!==n),a.length===0&&(a=null)}Ge(a,"remove",t)}function tt(t,a,n){const d=B.value.concat(le.value).map(i=>re(i,t,a)).filter(i=>i.from!==void 0?i.from.dateHash!==null&&i.to.dateHash!==null:i.dateHash!==null);c("update:modelValue",(e.multiple===!0?d:d[0])||null,n)}function Ft(){if(e.minimal!==!0)return y("div",{class:"q-date__header "+m.value},[y("div",{class:"relative-position"},[y(fe,{name:"q-transition--fade"},()=>y("div",{key:"h-yr-"+Le.value,class:"q-date__header-subtitle q-date__header-link "+(j.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...g("vY",{onClick(){j.value="Years"},onKeyup(t){t.keyCode===13&&(j.value="Years")}})},[Le.value]))]),y("div",{class:"q-date__header-title relative-position flex no-wrap"},[y("div",{class:"relative-position col"},[y(fe,{name:"q-transition--fade"},()=>y("div",{key:"h-sub"+Be.value,class:"q-date__header-title-label q-date__header-link "+(j.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...g("vC",{onClick(){j.value="Calendar"},onKeyup(t){t.keyCode===13&&(j.value="Calendar")}})},[Be.value]))]),e.todayBtn===!0?y(q,{class:"q-date__header-today self-start",icon:s.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:u.value,onClick:Pe}):null])])}function Oe({label:t,type:a,key:n,dir:d,goTo:i,boundaries:Y,cls:v}){return[y("div",{class:"row items-center q-date__arrow"},[y(q,{round:!0,dense:!0,size:"sm",flat:!0,icon:Me.value[0],tabindex:u.value,disable:Y.prev===!1,...g("go-#"+a,{onClick(){i(-1)}})})]),y("div",{class:"relative-position overflow-hidden flex flex-center"+v},[y(fe,{name:"q-transition--jump-"+d},()=>y("div",{key:n},[y(q,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:u.value,...g("view#"+a,{onClick:()=>{j.value=a}})})]))]),y("div",{class:"row items-center q-date__arrow"},[y(q,{round:!0,dense:!0,size:"sm",flat:!0,icon:Me.value[1],tabindex:u.value,disable:Y.next===!1,...g("go+#"+a,{onClick(){i(1)}})})])]}const $t={Calendar:()=>[y("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[y("div",{class:"q-date__navigation row items-center no-wrap"},Oe({label:M.value.months[_.value.month-1],type:"Months",key:_.value.month,dir:me.value,goTo:Ke,boundaries:He.value.month,cls:" col"}).concat(Oe({label:_.value.year,type:"Years",key:_.value.year,dir:pe.value,goTo:Ie,boundaries:He.value.year,cls:""}))),y("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},St.value.map(t=>y("div",{class:"q-date__calendar-item"},[y("div",t)]))),y("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[y(fe,{name:"q-transition--slide-"+me.value},()=>y("div",{key:A.value,class:"q-date__calendar-days fit"},Ue.value.map(t=>y("div",{class:t.classes},[t.in===!0?y(q,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:u.value,...g("day#"+t.i,{onClick:()=>{At(t.i)},onMouseover:()=>{Nt(t.i)}})},t.event!==!1?()=>y("div",{class:"q-date__event bg-"+t.event}):null):y("div",""+t.i)]))))])])],Months(){const t=_.value.year===z.value.year,a=d=>O.value!==null&&_.value.year===O.value.year&&O.value.month>d||Q.value!==null&&_.value.year===Q.value.year&&Q.value.month<d,n=M.value.monthsShort.map((d,i)=>{const Y=_.value.month===i+1;return y("div",{class:"q-date__months-item flex flex-center"},[y(q,{class:t===!0&&z.value.month===i+1?"q-date__today":null,flat:Y!==!0,label:d,unelevated:Y,color:Y===!0?ee.value:null,textColor:Y===!0?ne.value:null,tabindex:u.value,disable:a(i+1),...g("month#"+i,{onClick:()=>{Et(i+1)}})})])});return e.yearsInMonthView===!0&&n.unshift(y("div",{class:"row no-wrap full-width"},[Oe({label:_.value.year,type:"Years",key:_.value.year,dir:pe.value,goTo:Ie,boundaries:He.value.year,cls:" col"})])),y("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},n)},Years(){const t=he.value,a=t+ae,n=[],d=i=>O.value!==null&&O.value.year>i||Q.value!==null&&Q.value.year<i;for(let i=t;i<=a;i++){const Y=_.value.year===i;n.push(y("div",{class:"q-date__years-item flex flex-center"},[y(q,{key:"yr"+i,class:z.value.year===i?"q-date__today":null,flat:!Y,label:i,dense:!0,unelevated:Y,color:Y===!0?ee.value:null,textColor:Y===!0?ne.value:null,tabindex:u.value,disable:d(i),...g("yr#"+i,{onClick:()=>{Qt(i)}})})]))}return y("div",{class:"q-date__view q-date__years flex flex-center"},[y("div",{class:"col-auto"},[y(q,{round:!0,dense:!0,flat:!0,icon:Me.value[0],tabindex:u.value,disable:d(t),...g("y-",{onClick:()=>{he.value-=ae}})})]),y("div",{class:"q-date__years-content col self-stretch row items-center"},n),y("div",{class:"col-auto"},[y(q,{round:!0,dense:!0,flat:!0,icon:Me.value[1],tabindex:u.value,disable:d(a),...g("y+",{onClick:()=>{he.value+=ae}})})])])}};function At(t){const a={..._.value,day:t};if(e.range===!1){jt(a,A.value);return}if(T.value===null){const n=Ue.value.find(i=>i.fill!==!0&&i.i===t);if(e.noUnset!==!0&&n.range!==void 0){Te({target:a,from:n.range.from,to:n.range.to});return}if(n.selected===!0){Te(a);return}const d=X(a);T.value={init:a,initHash:d,final:a,finalHash:d},c("rangeStart",te(a))}else{const n=T.value.initHash,d=X(a),i=n<=d?{from:T.value.init,to:a}:{from:a,to:T.value.init};T.value=null,qe(n===d?a:{target:a,...i}),c("rangeEnd",{from:te(i.from),to:te(i.to)})}}function Nt(t){if(T.value!==null){const a={..._.value,day:t};Object.assign(T.value,{final:a,finalHash:X(a)})}}return Object.assign(r,{setToday:Pe,setView:qt,offsetCalendar:Tt,setCalendarTo:ke,setEditingRange:Ot}),()=>{const t=[y("div",{class:"q-date__content col relative-position"},[y(fe,{name:"q-transition--fade"},$t[j.value])])],a=Lt(l.default);return a!==void 0&&t.push(y("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&E(t,"push"),y("div",{class:xt.value,...It.value},[Ft(),y("div",{ref:V,class:"q-date__main col column",tabindex:-1},t)])}}});const Oa=N("span",{class:"text-h6"},"Consulta de Pagos",-1),Qa={class:"justify-end"},Ea={key:0},ja={key:0},Fa={class:"text-h4"},$a={class:"text-subtitle2"},Aa={class:"text-h5"},Na={class:"text-h5 text-center"},Ra={class:"text-h5 text-center"},Ba=N("div",{class:"text-h6 text-center"},"Impresora",-1),La={class:"q-pa-md"},Za=N("div",{class:"q-pb-sm"},null,-1),vn={__name:"TarjetaLayout",setup(e){const l=ha();ga();const c=I({val:null,body:null}),r=I({state:!1,val:null,body:null}),s=I({val:null,filter:null,state:!1,body:null}),o=I(!1),g=I({state:!1,body:null}),u=I(!1),m=I(!1),C=I(null),f=()=>{let V=g.value.body.TICKET.split("-"),x={type:"Reimpresion",serie:V[0],folio:V[1],print:r.value.val.ip};u.value=!0;let G=`http://${l.session.store.ip}/access/public/modify/newmod`;Ee.post(G,x).then(se=>{console.log(se),u.value=!1,r.value.val=null,r.value.state=!1}).catch(se=>se)},p=async()=>{console.log("Recibiendo Datos :)"),o.value=!0;let x=`http://${l.session.store.ip}/access/public/reports/getCash`;Ee.get(x).then(M=>{c.value.body=M.data.terminales,s.value.body=M.data.formaspagos,r.value.body=M.data.impresoras,s.value.state=!0,o.value=!1,console.log("ya lo recibi que no te enganen :)"),console.log("Impresoras listas :)")}).catch(M=>console.log(M))},R=()=>{console.log(C.value);let V={filt:C.value};console.log("Recibiendo Datos :)"),o.value=!0;let M=`http://${l.session.store.ip}/access/public/reports/filter`;Ee.post(M,V).then(G=>{s.value.body=G.data.formaspagos,s.value.state=!0,o.value=!1,m.value=!1,console.log("ya lo recibi que no te enganen :)")}).catch(G=>console.log(G))},E=(V,x)=>{console.log("aqui se podra reimprimir"),console.log(x.TICKET),g.value.state=!0,g.value.body=x};return p(),(V,x)=>(Qe(),Ut(sa,{view:"hHh Lpr fFf"},{default:b(()=>[h(Wt,{class:"transparent text-dark",bordered:""},{default:b(()=>[h(Xt),h(at),h(Jt,{class:"justify-between"},{default:b(()=>[N("div",null,[F("Helpers "),h(lt,{name:"navigate_next",color:"primary"}),F(),Oa])]),_:1})]),_:1}),h(da,null,{default:b(()=>[h(ia,{padding:""},{default:b(()=>[N("div",Qa,[h(q,{color:"primary",icon:"event",onClick:x[0]||(x[0]=M=>m.value=!m.value),flat:"",round:""})]),h(at,{spaced:"",inset:"",vertical:"",dark:""}),s.value.state?(Qe(),ot("div",Ea,[h(na,{class:"my-sticky-header-table",title:"Fromas de Pago",rows:s.value.body,"row-key":"name",filter:s.value.filter,separator:"cell",onRowClick:E},{"top-right":b(()=>[h(aa,{borderless:"",dense:"",debounce:"300",modelValue:s.value.filter,"onUpdate:modelValue":x[1]||(x[1]=M=>s.value.filter=M),placeholder:"Search"},{append:b(()=>[h(lt,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","filter"])])):rt("",!0),h(be,{modelValue:o.value,"onUpdate:modelValue":x[2]||(x[2]=M=>o.value=M),persistent:""},{default:b(()=>[o.value?(Qe(),ot("div",ja,[h(la,{color:"primary",size:"7.5em"}),h(oa,{offset:[0,8]},{default:b(()=>[F("Cargando Informacion")]),_:1})])):rt("",!0)]),_:1},8,["modelValue"]),h(be,{modelValue:g.value.state,"onUpdate:modelValue":x[4]||(x[4]=M=>g.value.state=M),persistent:""},{default:b(()=>[h(je,{style:{width:"700px","max-width":"70vw"}},{default:b(()=>[h(J,{class:"row justify-between"},{default:b(()=>[N("div",Fa,"Ticket : "+L(g.value.body.TICKET),1),N("div",$a,L(g.value.body.TERMINAL),1)]),_:1}),h(J,null,{default:b(()=>[N("div",Aa,L(g.value.body.CNOFAC),1)]),_:1}),h(J,null,{default:b(()=>[N("div",Na,L(g.value.body.CLIENTE),1),N("div",Ra,L(g.value.body.FECHA),1)]),_:1}),h(J,null,{default:b(()=>[h(ca,{bordered:""},{default:b(()=>[h(st,null,{default:b(()=>[h(Z,null,{default:b(()=>[F("EFECTIVO")]),_:1}),h(Z,null,{default:b(()=>[F("TARJETA")]),_:1}),h(Z,null,{default:b(()=>[F("TRANSFERENCIA")]),_:1}),h(Z,null,{default:b(()=>[F("VALE")]),_:1}),h(Z,null,{default:b(()=>[F("CREDITO")]),_:1})]),_:1}),h(st,null,{default:b(()=>[h(Z,null,{default:b(()=>[F(L(g.value.body.EFECTIVO),1)]),_:1}),h(Z,null,{default:b(()=>[F(L(g.value.body.TARJETAS),1)]),_:1}),h(Z,null,{default:b(()=>[F(L(g.value.body.TRANSFERENCIAS),1)]),_:1}),h(Z,null,{default:b(()=>[F(L(g.value.body.VALES),1)]),_:1}),h(Z,null,{default:b(()=>[F(L(g.value.body.CREDITOS),1)]),_:1})]),_:1})]),_:1})]),_:1}),h(ut,{align:"center"},{default:b(()=>[Pt(h(q,{flat:"",color:"negative",icon:"close"},null,512),[[Kt]]),h(q,{flat:"",color:"primary",icon:"print",onClick:x[3]||(x[3]=M=>r.value.state=!r.value.state)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),h(be,{modelValue:r.value.state,"onUpdate:modelValue":x[6]||(x[6]=M=>r.value.state=M)},{default:b(()=>[h(je,{class:"my-card"},{default:b(()=>[h(J,null,{default:b(()=>[Ba]),_:1}),h(J,null,{default:b(()=>[h(fa,{onSubmit:f,class:"q-gutter-md"},{default:b(()=>[h(va,{dense:"","option-label":"name",modelValue:r.value.val,"onUpdate:modelValue":x[5]||(x[5]=M=>r.value.val=M),options:r.value.body,label:"Impresora",filled:"",autofocus:"",style:{width:"200px"}},null,8,["modelValue","options"]),N("div",null,[h(q,{label:"Enviar",type:"submit",color:"primary",style:{width:"200px"},disable:r.value.val===null||u.value},null,8,["disable"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),h(be,{modelValue:m.value,"onUpdate:modelValue":x[9]||(x[9]=M=>m.value=M)},{default:b(()=>[h(je,{class:"my-card"},{default:b(()=>[h(J,null,{default:b(()=>[N("div",La,[Za,h(Ta,{modelValue:C.value,"onUpdate:modelValue":x[7]||(x[7]=M=>C.value=M),range:"",minimal:""},null,8,["modelValue"])])]),_:1}),h(J,null,{default:b(()=>[h(ut,{align:"right"},{default:b(()=>[h(q,{flat:"",icon:"close",color:"negative",onClick:x[8]||(x[8]=M=>m.value=!m.value)}),h(q,{flat:"",icon:"check",color:"positive",onClick:R})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{vn as default};
