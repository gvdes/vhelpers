import{Q as S}from"./QSeparator.332e683a.js";import{u as w,r as c,o as r,a as E,w as s,e as t,f as l,a4 as b,Y as B,g as n,a5 as i,h as v,a2 as g,a1 as h}from"./index.88b0e408.js";import{Q as L}from"./QToolbar.47aa1402.js";import{Q as A}from"./QHeader.b3bb0a79.js";import{u as H,Q as p,a as u}from"./use-quasar.f8ef9c2a.js";import{Q as k}from"./QBadge.3a4b52f3.js";import{Q as N}from"./QLinearProgress.8f072e99.js";import{Q as P}from"./QSpinnerFacebook.09f82fcc.js";import{Q as $}from"./QTooltip.84dc2dd5.js";import{Q as q}from"./QDialog.fcfa48c1.js";import{Q as z}from"./QPage.72fb30b6.js";import{Q as O,a as j}from"./QLayout.d8587efb.js";import{u as I}from"./VDB.18de019a.js";import{_ as M}from"./UserToolbar.42c4b87a.js";import{a as U}from"./axios.9ab26c22.js";import"./QResizeObserver.0c0a6833.js";import"./position-engine.e84b4dfa.js";import"./QCardActions.f7144987.js";import"./ClosePopup.3afec617.js";const Y={key:0,class:"row justify-between"},R={class:"text-h4 text-center"},G={class:"text-h4 text-center"},J={class:"text-h4 text-center"},K={class:"text-h4 text-center"},W={class:"text-h4 text-center"},X={class:"text-h4 text-center"},Z={class:"text-h4 text-center"},ee={class:"text-h4 text-center"},te={key:1},ae={class:"absolute-full flex flex-center"},se={key:2},le={class:"absolute-full flex flex-center"},oe={key:0},Fe={__name:"SaleLayout",setup(re){const V=w(),m=I(),F=H(),Q=c(!1),f=c(!1),x=c(!1),a=c(null),d=c(!1),T=async()=>{d.value=!0;let e=`http://${m.session.store.ip}/access/public/reports/getSales`;U.get(e).then(o=>{console.log(o.data),a.value=o.data,console.log("datos obt"),Q.value=!0,f.value=!0,d.value=!1}).catch(o=>{console.log(o.response.data.message)})},C=()=>{f.value=!1,x.value=!0},_=()=>{f.value=!0,x.value=!1};return m.session.rol=="root"||m.session.rol=="gen"||m.session.rol=="aud"?T():(F.notify({message:"No tienes acceso a esta pagina",type:"negative",position:"center"}),V.replace("/")),(D,e)=>(r(),E(O,{view:"hHh Lpr fFf"},{default:s(()=>[t(A,{class:"transparent text-dark",bordered:""},{default:s(()=>[t(M),t(S),t(L,{class:"justify-between"},{default:s(()=>[l("div",null,[e[1]||(e[1]=b("Helpers ")),t(B,{name:"navigate_next",color:"primary"}),e[2]||(e[2]=b()),e[3]||(e[3]=l("span",{class:"text-h6"},"Consulta Ventas",-1))])]),_:1})]),_:1}),t(j,null,{default:s(()=>[t(z,{padding:""},{default:s(()=>[Q.value?(r(),n("div",Y,[t(p,{class:"my-card",onClick:_},{default:s(()=>[t(u,null,{default:s(()=>[e[4]||(e[4]=l("div",{class:"text-h6 text-center"},"Ventas 2023",-1)),l("div",R,i(Number(a.value.salesant/a.value.salesant*100)+"%"),1)]),_:1}),t(u,null,{default:s(()=>[e[5]||(e[5]=l("div",{class:"text-h6 text-center"},"Tickets 2023",-1)),l("div",G,i(a.value.tiketsant),1)]),_:1})]),_:1}),t(p,{class:"my-card",onClick:_},{default:s(()=>[t(u,null,{default:s(()=>[e[6]||(e[6]=l("div",{class:"text-h6 text-center"},"Ventas 2024",-1)),l("div",J,i(Number(a.value.salesact/Number(a.value.salesant*1.1)*100).toFixed(2)+"%"),1)]),_:1}),t(u,null,{default:s(()=>[e[7]||(e[7]=l("div",{class:"text-h6 text-center"},"Tickets 2024",-1)),l("div",K,i(a.value.tiketsact),1)]),_:1})]),_:1}),t(p,{class:"my-card",onClick:_},{default:s(()=>[t(u,null,{default:s(()=>[e[8]||(e[8]=l("div",{class:"text-h6 text-center"},"Diferencia",-1)),l("div",W,i(Number(Number(a.value.salesact/Number(a.value.salesant*1.1)*100)-Number(Number(a.value.salesant*1.1)/Number(a.value.salesant*1.1)*100)).toFixed(2)+"%"),1)]),_:1}),t(u,null,{default:s(()=>[e[9]||(e[9]=l("div",{class:"text-h6 text-center"},"Tickets Diferencia",-1)),l("div",X,i(a.value.tiketsact-a.value.tiketsant),1)]),_:1})]),_:1}),t(p,{class:"my-card",onClick:C},{default:s(()=>[t(u,null,{default:s(()=>[e[10]||(e[10]=l("div",{class:"text-h6 text-center"},"VENTA HOY ",-1)),l("div",Z,i(Number.parseFloat(a.value.saleshoy).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),_:1}),t(u,null,{default:s(()=>[e[11]||(e[11]=l("div",{class:"text-h6 text-center"},"Tickets Hoy",-1)),l("div",ee,i(a.value.hoytck),1)]),_:1})]),_:1})])):v("",!0),f.value?(r(),n("div",te,[(r(!0),n(g,null,h(a.value.ventasdepmonth,(o,y)=>(r(),n("div",{class:"q-pa-md",key:y},[t(N,{size:"25px",stripe:"",rounded:"",value:o.VENTA/a.value.salesact,color:"primary"},{default:s(()=>[l("div",ae,[t(k,{color:"white","text-color":"accent",label:o.NOMDEP+"   (% "+Number.parseFloat(o.VENTA/a.value.salesact*100).toFixed(2)+")"},null,8,["label"])])]),_:2},1032,["value"])]))),128))])):v("",!0),x.value?(r(),n("div",se,[(r(!0),n(g,null,h(a.value.ventasdepday,(o,y)=>(r(),n("div",{class:"q-pa-md",key:y},[t(N,{size:"25px",stripe:"",rounded:"",value:o.VENTA/a.value.saleshoy,color:"primary"},{default:s(()=>[l("div",le,[t(k,{color:"white","text-color":"accent",label:o.NOMDEP+"   (% "+Number.parseFloat(o.VENTA/a.value.saleshoy*100).toFixed(2)+")"},null,8,["label"])])]),_:2},1032,["value"])]))),128))])):v("",!0),t(q,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),persistent:""},{default:s(()=>[d.value?(r(),n("div",oe,[t(P,{color:"primary",size:"7.5em"}),t($,{offset:[0,8]},{default:s(()=>e[12]||(e[12]=[b("Cargando Informacion")])),_:1})])):v("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{Fe as default};
