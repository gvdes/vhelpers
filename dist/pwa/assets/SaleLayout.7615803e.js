import{Q as F}from"./QSeparator.c83f4ce8.js";import{u as U,r as f,o as r,a as w,w as a,e,f as s,a4 as h,Y as E,g as n,a5 as u,h as x,a2 as S,a1 as k}from"./index.cb849e3f.js";import{Q as L}from"./QToolbar.c0dd9952.js";import{Q as A}from"./QHeader.53ac2b1b.js";import{u as B,Q as p,a as i}from"./use-quasar.2b8e7c4c.js";import{Q as c}from"./QBadge.d67cb6ff.js";import{Q}from"./QLinearProgress.849ec4a0.js";import{Q as H}from"./QSpinnerFacebook.a9821ec3.js";import{Q as P}from"./QTooltip.5eb35c70.js";import{Q as I}from"./QDialog.1f39e965.js";import{Q as $}from"./QPage.8e85209b.js";import{Q as q,a as z}from"./QLayout.f2021ab6.js";import{u as O}from"./VDB.e021eecb.js";import{_ as j}from"./UserToolbar.d74f8248.js";import{a as K}from"./axios.9ab26c22.js";import"./QResizeObserver.6d9db52a.js";import"./position-engine.70ebb198.js";import"./QCardActions.cbd3de43.js";import"./ClosePopup.d8f5019d.js";const M={key:0,class:"row justify-between"},Y={class:"text-h4 text-center"},R={class:"text-h4 text-center"},G={class:"text-h4 text-center"},J={class:"text-h4 text-center"},W={class:"text-h4 text-center"},X={class:"text-h4 text-center"},Z={class:"text-h4 text-center"},ee={class:"text-h4 text-center"},te={key:1},ae={class:"absolute-full flex flex-center"},se={key:2},le={class:"absolute-full flex flex-center"},oe={key:0},Ve={__name:"SaleLayout",setup(re){const N=U(),d=O(),V=B(),g=f(!1),v=f(!1),y=f(!1),o=f(null),m=f(!1),T=async()=>{m.value=!0;let t=`http://${d.session.store.ip}/access/public/reports/getSales`;K.get(t).then(l=>{console.log(l.data),o.value=l.data,console.log("datos obt"),g.value=!0,v.value=!0,m.value=!1}).catch(l=>{console.log(l.response.data.message)})},D=()=>{v.value=!1,y.value=!0},_=()=>{v.value=!0,y.value=!1};return d.session.rol=="root"||d.session.rol=="gen"||d.session.rol=="aud"||d.session.rol=="rrhh"?T():(V.notify({message:"No tienes acceso a esta pagina",type:"negative",position:"center"}),N.replace("/")),(C,t)=>(r(),w(q,{view:"hHh Lpr fFf"},{default:a(()=>[e(A,{class:"transparent text-dark",bordered:""},{default:a(()=>[e(j),e(F),e(L,{class:"justify-between"},{default:a(()=>[s("div",null,[t[1]||(t[1]=h("Helpers ")),e(E,{name:"navigate_next",color:"primary"}),t[2]||(t[2]=h()),t[3]||(t[3]=s("span",{class:"text-h6"},"Consulta Ventas",-1))])]),_:1})]),_:1}),e(z,null,{default:a(()=>[e($,{padding:""},{default:a(()=>[g.value?(r(),n("div",M,[e(p,{class:"my-card",onClick:_},{default:a(()=>[e(i,null,{default:a(()=>[t[4]||(t[4]=s("div",{class:"text-h6 text-center"},"Ventas 2024",-1)),s("div",Y,u(Number(o.value.salesant*1.1).toLocaleString("en-US",{style:"currency",currency:"USD"})),1)]),_:1}),e(i,null,{default:a(()=>[t[5]||(t[5]=s("div",{class:"text-h6 text-center"},"Tickets 2024",-1)),s("div",R,u(o.value.tiketsant),1)]),_:1})]),_:1}),e(p,{class:"my-card",onClick:_},{default:a(()=>[e(i,null,{default:a(()=>[t[6]||(t[6]=s("div",{class:"text-h6 text-center"},"Ventas 2025",-1)),s("div",G,u(Number(o.value.salesact).toLocaleString("en-US",{style:"currency",currency:"USD"})),1)]),_:1}),e(i,null,{default:a(()=>[t[7]||(t[7]=s("div",{class:"text-h6 text-center"},"Tickets 2025",-1)),s("div",J,u(o.value.tiketsact),1)]),_:1})]),_:1}),e(p,{class:"my-card",onClick:_},{default:a(()=>[e(i,null,{default:a(()=>[t[8]||(t[8]=s("div",{class:"text-h6 text-center"},"Diferencia",-1)),s("div",W,u(Number(o.value.salesact-Number(o.value.salesant*1.1)).toLocaleString("en-US",{style:"currency",currency:"USD"})),1)]),_:1}),e(i,null,{default:a(()=>[t[9]||(t[9]=s("div",{class:"text-h6 text-center"},"Tickets Diferencia",-1)),s("div",X,u(o.value.tiketsact-o.value.tiketsant),1)]),_:1})]),_:1}),e(p,{class:"my-card",onClick:D},{default:a(()=>[e(i,null,{default:a(()=>[t[10]||(t[10]=s("div",{class:"text-h6 text-center"},"VENTA HOY ",-1)),s("div",Z,u(Number.parseFloat(o.value.saleshoy).toLocaleString("en-US",{style:"currency",currency:"USD"})),1)]),_:1}),e(i,null,{default:a(()=>[t[11]||(t[11]=s("div",{class:"text-h6 text-center"},"Tickets Hoy",-1)),s("div",ee,u(o.value.hoytck),1)]),_:1})]),_:1})])):x("",!0),v.value?(r(),n("div",te,[(r(!0),n(S,null,k(o.value.ventasdepmonth,(l,b)=>(r(),n("div",{class:"q-pa-md",key:b},[e(Q,{size:"25px",stripe:"",rounded:"",value:l.VENTA/o.value.salesact,color:"primary"},{default:a(()=>[s("div",ae,[e(c,{color:"white","text-color":"accent",label:l.NOMDEP+"   ( "+Number.parseFloat(l.VENTA).toLocaleString("en-US",{style:"currency",currency:"USD"})+")"},null,8,["label"]),e(c,{color:"white","text-color":"accent",label:"   (% "+Number.parseFloat(l.VENTA/o.value.salesact*100).toFixed(2)+")"},null,8,["label"]),e(c,{color:"white","text-color":"accent",label:"   ("+Number.parseFloat(l.TICKETS).toFixed(0)+" tcks)"},null,8,["label"])])]),_:2},1032,["value"])]))),128))])):x("",!0),y.value?(r(),n("div",se,[(r(!0),n(S,null,k(o.value.ventasdepday,(l,b)=>(r(),n("div",{class:"q-pa-md",key:b},[e(Q,{size:"25px",stripe:"",rounded:"",value:l.VENTA/o.value.saleshoy,color:"primary"},{default:a(()=>[s("div",le,[e(c,{color:"white","text-color":"accent",label:l.NOMDEP+"   ( "+Number(l.VENTA).toLocaleString("en-US",{style:"currency",currency:"USD"})+")"},null,8,["label"]),e(c,{color:"white","text-color":"accent",label:"   (% "+Number.parseFloat(l.VENTA/o.value.saleshoy*100).toFixed(2)+")"},null,8,["label"]),e(c,{color:"white","text-color":"accent",label:"   ("+Number.parseFloat(l.TICKETS).toFixed(0)+" tcks)"},null,8,["label"])])]),_:2},1032,["value"])]))),128))])):x("",!0),e(I,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=l=>m.value=l),persistent:""},{default:a(()=>[m.value?(r(),n("div",oe,[e(H,{color:"primary",size:"7.5em"}),e(P,{offset:[0,8]},{default:a(()=>t[12]||(t[12]=[h("Cargando Informacion")])),_:1})])):x("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{Ve as default};
