import{aY as r,aZ as o}from"./index.ef22d98d.js";const s={};function a(e){Object.assign(t,{request:e,exit:e,toggle:e})}function c(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||null}function i(){const e=t.activeEl=t.isActive===!1?null:c();o(e===null||e===document.documentElement?document.body:e)}function m(){t.isActive=t.isActive===!1,i()}function u(e,l){try{const n=e[l]();return n===void 0?Promise.resolve():n}catch(n){return Promise.reject(n)}}const t=r({isActive:!1,activeEl:null},{isCapable:!1,install({$q:e}){e.fullscreen=this}});s.request=["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"].find(e=>document.documentElement[e]!==void 0),t.isCapable=s.request!==void 0,t.isCapable===!1?a(()=>Promise.reject("Not capable")):(Object.assign(t,{request(e){const l=e||document.documentElement,{activeEl:n}=t;return l===n?Promise.resolve():(n!==null&&l.contains(n)===!0?t.exit():Promise.resolve()).finally(()=>u(l,s.request))},exit(){return t.isActive===!0?u(document,s.exit):Promise.resolve()},toggle(e){return t.isActive===!0?t.exit():t.request(e)}}),s.exit=["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"].find(e=>document[e]),t.isActive=Boolean(c()),t.isActive===!0&&i(),["onfullscreenchange","onmsfullscreenchange","onwebkitfullscreenchange"].forEach(e=>{document[e]=m}));
