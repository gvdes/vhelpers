import{u as y,a as S,r,o as k,g as w,e,w as s,a3 as D,f as n,S as _,Q as u,al as I,a4 as A}from"./index.facbd5a9.js";import{Q as B}from"./QToolbar.0aa66cfe.js";import{Q as m}from"./QCardSection.a4510a31.js";import{Q as f}from"./QCard.35f3f454.js";import{Q as N}from"./QPage.f742373b.js";import{Q as c}from"./QSelect.46d290c5.js";import{Q as $,b as v}from"./QList.c159a4d8.js";import{Q as U}from"./QInput.3e01aa1d.js";import{Q as q}from"./QCardActions.1a950a12.js";import{C as E}from"./ClosePopup.9beb9680.js";import"./QDrawer.664b253f.js";import"./QExpansionItem.5c861f08.js";import"./axios.47ec6515.js";import{u as R}from"./use-quasar.bfba16b4.js";import"./dayjs.min.cbcf888d.js";import"./jspdf.plugin.autotable.355e7505.js";import{$sktRestock as Q}from"./socket.05630e21.js";import{i as g}from"./invoicesApi.ca50b720.js";import"./use-key-composition.2bb03b15.js";import"./use-checkbox.d817fb73.js";import"./QResizeObserver.d627cc00.js";import"./QScrollObserver.da4858b9.js";import"./_commonjsHelpers.88e99c8f.js";const P={class:"row"},ne={__name:"invoice",setup(T){const V=y(),p=R(),b=S(),d=r([]);r([]);const i=r(!1),a=r({from:null,to:null,notes:null,created_by:null}),C=async()=>{const t=await g.index();t.fail?console.log(t):(console.log(t),d.value=t.stores)},x=async()=>{p.loading.show({message:"Creando Salida"}),a.value.created_by=V.session.credentials.staff,console.log(a.value);const t=await g.addInvoice(a.value);t.fail?console.log(t):(console.log(t),Q.emit("creating",{order:t.requisition}),Q.emit("partitionCreate",t.partition),b.push(`/distribute/invoice/${t.requisition.id}`),p.loading.hide())};return C(),(t,o)=>(k(),w(D,null,[e(N,{padding:""},{default:s(()=>[e(f,{class:"my-card",dense:""},{default:s(()=>[e(m,{dense:""},{default:s(()=>[e(B,{class:"justify-between"},{default:s(()=>[n("div",null,[o[5]||(o[5]=n("span",{class:"text-grey"},"Helpers",-1)),e(_,{name:"navigate_next",color:"primary"}),o[6]||(o[6]=n("span",{class:"text-h6"},"SALIDAS DE MERCANCIA",-1))]),n("div",P,[e(u,{icon:"add",flat:"",rounded:"",onClick:o[0]||(o[0]=l=>i.value=!i.value)})])]),_:1})]),_:1})]),_:1})]),_:1}),e($,{modelValue:i.value,"onUpdate:modelValue":o[4]||(o[4]=l=>i.value=l),persistent:""},{default:s(()=>[e(f,null,{default:s(()=>[e(m,{class:"text-center text-bold text-h5"},{default:s(()=>o[7]||(o[7]=[I(" Sucursal Destino ")])),_:1}),e(m,null,{default:s(()=>[e(c,{modelValue:a.value.to,"onUpdate:modelValue":o[1]||(o[1]=l=>a.value.to=l),options:d.value.filter(l=>l._type==1),label:"Oringen",filled:"",dense:"","option-label":"name"},null,8,["modelValue","options"]),e(v,{spaced:"",inset:"",vertical:"",dark:""}),e(c,{modelValue:a.value.from,"onUpdate:modelValue":o[2]||(o[2]=l=>a.value.from=l),options:d.value.filter(l=>l._type==2),label:"Destino",filled:"",dense:"","option-label":"name"},null,8,["modelValue","options"]),e(v,{spaced:"",inset:"",vertical:"",dark:""}),e(U,{modelValue:a.value.notes,"onUpdate:modelValue":o[3]||(o[3]=l=>a.value.notes=l),type:"text",label:"Notas",filled:"",dense:""},null,8,["modelValue"])]),_:1}),e(q,{align:"right"},{default:s(()=>[A(e(u,{flat:"",label:"Cancelar",color:"negative"},null,512),[[E]]),e(u,{flat:"",label:"Crear",color:"positive",onClick:x})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{ne as default};
