import{l as Se,bg as Ue,bh as Le,s as Ge,u as Me,r as p,c as H,o as g,d as N,w as t,e as l,a1 as w,g as o,Y as n,ae as je,j as x,a4 as me,h as $,i as G,k as E,aB as fe,Q as A,_ as v,b5 as qe,a2 as oe,f as _,$ as Be,a0 as He,a3 as X,aV as z,bi as ze,ag as Ye}from"./index.504c35c2.js";import{Q as Je}from"./QHeader.18960fc5.js";import{d as Ke,Q as M,a as S}from"./QSelect.4aa8ea70.js";import{Q as Z}from"./QForm.27a32a5e.js";import{Q as We}from"./QToolbar.6b77d82f.js";import{Q as be,a as V,b as r}from"./QList.0ff006d5.js";import{Q as Xe}from"./QTooltip.e9e31b89.js";import{Q as Ze}from"./QDrawer.c15a4823.js";import{Q as el}from"./QPage.7e16f176.js";import{Q as ll,a as tl}from"./QLayout.327d350b.js";import{C as ee}from"./ClosePopup.677ccf58.js";import{_ as al}from"./UserToolbar.11c68423.js";import{a as ol,b as R}from"./axios.4a57e5be.js";import{u as sl}from"./use-quasar.67494b23.js";import"./QResizeObserver.9bc3b086.js";import"./QScrollObserver.e07350e2.js";import"./QExpansionItem.500c9e37.js";import"./auth.17caf8be.js";const ul='<g><path fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10" d="M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"></path><clipPath id="uil-hourglass-clip1"><rect x="15" y="20" width="70" height="25"><animate attributeName="height" from="25" to="0" dur="1s" repeatCount="indefinite" values="25;0;0" keyTimes="0;0.5;1"></animate><animate attributeName="y" from="20" to="45" dur="1s" repeatCount="indefinite" values="20;45;45" keyTimes="0;0.5;1"></animate></rect></clipPath><clipPath id="uil-hourglass-clip2"><rect x="15" y="55" width="70" height="25"><animate attributeName="height" from="0" to="25" dur="1s" repeatCount="indefinite" values="0;25;25" keyTimes="0;0.5;1"></animate><animate attributeName="y" from="80" to="55" dur="1s" repeatCount="indefinite" values="80;55;55" keyTimes="0;0.5;1"></animate></rect></clipPath><path d="M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z" clip-path="url(#uil-hourglass-clip1)" fill="currentColor"></path><path d="M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z" clip-path="url(#uil-hourglass-clip2)" fill="currentColor"></path><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="180 50 50" repeatCount="indefinite" dur="1s" values="0 50 50;0 50 50;180 50 50" keyTimes="0;0.7;1"></animateTransform></g>';var il=Se({name:"QSpinnerHourglass",props:Ue,setup(de){const{cSize:C,classes:c}=Le(de);return()=>Ge("svg",{class:c.value,width:C.value,height:C.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:ul})}});const dl={key:0,class:"text-right"},nl={class:"row justify-center"},rl={key:1},vl={key:0},cl={class:"text-h6"},pl={class:"text-subtitle2"},ml={class:"row justify-between"},fl={class:"text-subtitle2"},bl={class:"text-subtitle2"},yl={class:"text-h6"},gl={class:"text-subtitle2"},_l={class:"row justify-between"},Cl={class:"text-subtitle2"},xl={class:"text-subtitle2"},hl={class:"text-h6 text-center text-bold"},kl={class:"bg-primary row items-center justify-between q-pa-md text-white"},Il={class:"text-h4"},El={class:"text-center"},Dl={class:"fw-bold text-h6"},Vl={class:"text-right"},Tl={class:"fw-bold text-h4"},wl={class:"row text-center items-center"},Al={class:"col"},Fl={class:"row text-center items-center"},Nl={class:"col"},Rl={class:"col"},Ol={class:"row flex justify-center"},Pl={class:"col flex justify-center"},Ql={key:0,class:"col"},$l={key:0,class:"row flex justify-center text-center"},Sl={class:"col"},Ul={class:"col"},Ll={class:"row items-center"},Gl={key:0,class:"col-3 bg-blue-grey-2"},Ml={class:"fs-dec3 row items-center justify-end q-pa-xs text-black"},jl={class:"bg-deep-purple-3 row items-center justify-between q-pa-md text-black"},ql={class:"text-h5"},Bl={key:0,class:"text-center"},rt={__name:"ModifyLayout",setup(de){const C=Me(),c=sl(),Y=p(!1),ye=C.series,U=p(null),le=p(!1),h=p(null),D=p(""),k=p({state:!1,body:null}),m=p({state:!1,body:null}),f=p({val:null,body:null}),te=p(!1),j=p(null),se=p(null),I=p({state:!1,body:null}),b=p({state:!1,body:null,account:0}),J=p({state:!1,body:null}),ne=p(null),F=p(null),K=p({val:null,opts:["SI","NO"]}),T=p({prc:null,body:null}),ue=p(0),L=p(""),O=p(null),d=p({EFE:{id:null,val:0},DIG:{id:null,val:0}}),re=[{id:"EFE",desc:"CONTADO EFECTIVO"},{id:"TBA",desc:"TARJETA C/D BANCOMER"},{id:"TSA",desc:"TARJETA C/D SANTANDER"},{id:"TDB",desc:"TRA/DEP BANCOMER"},{id:"TDA",desc:"TRA/DEP Santander"},{id:"C30",desc:"CREDITO"}],q=p(!1),y=p(null),ge=["Devolucion","Modificacion","Reimpresion"],_e=H(()=>h.value&&D.value.length),Ce=H(()=>m.value.body.product),xe=H(()=>f.value.val&&(y.value=="Devolucion"&&L.value.length>10||y.value=="Reimpresion")||y.value=="Modificacion"),ae=H(()=>Number.parseFloat(d.value.DIG.val)+Number.parseFloat(d.value.EFE.val)+Number.parseFloat(ue.value)-F.value),he=H(()=>{var s,e;return!!(((s=d.value.DIG.id)==null?void 0:s.id)!="EFE"&&Number.parseFloat(d.value.DIG.val)&&Number.parseFloat(d.value.DIG.val)>F.value&&Number.parseFloat(d.value.EFE.val)==0||((e=d.value.EFE.id)==null?void 0:e.id)!="EFE"&&Number.parseFloat(d.value.EFE.val)&&Number.parseFloat(d.value.EFE.val)>F.value&&Number.parseFloat(d.value.DIG.val)==0)}),ke=H(()=>{var s,e;return ae.value>=0&&(((s=d.value.EFE.id)==null?void 0:s.id)&&d.value.EFE.val>0||((e=d.value.DIG.id)==null?void 0:e.id)&&d.value.DIG.val>0)}),ve=async()=>{let s=C.session.store.id;console.log(s);try{let e=await ol.get(`/cashier/getPrinters/${s}`);e.status==200&&(f.value.body=e.data,console.log("Impresoras listas :)"))}catch(e){console.log(e),c.notify({message:"No se pudiron obtener las impresoras",type:"negative",position:"center",icon:"error"})}},Ie=async()=>{k.value.body=null;let s=h.value,e=D.value,u=`http://${C.session.store.ip_address}/access/public/modify/getTicket?serie=${s}&folio=${e}`;R.get(u).then(i=>{k.value.state=!0,k.value.body=i.data}).catch(i=>{console.log(i.response.data.message),c.notify({html:!0,message:i.response.data.message,color:"negative",position:"center"})})},Ee=async()=>{let s=C.session.store.ip_address,e=`${C.session.name} - ${C.session.store.alias}`;if(y.value=="Devolucion"){O.value=!0;let a={type:y.value,serie:h.value,folio:D.value,mot:L.value,create:e,print:f.value.val.ip_address};console.log(a);let u=`http://${s}/access/public/modify/newmod`;R.post(u,a).then(i=>{k.value.state=!1,console.log(i),i.status==200?c.notify({html:!0,message:i.data.original.mssg,color:"positive",position:"center"}):c.notify({html:!0,message:i.data.original.message,color:"negative",position:"center"}),y.value=null,L.value="",f.value.val=null,h.value=null,D.value="",O.value=!1}).catch(i=>{console.log(i.response.data.original.message),O.value=!1,c.notify({html:!0,message:i.response.data.original.message,color:"negative",position:"center"}),k.value.state=!1,y.value=null,L.value="",f.value.val=null,h.value=null,D.value="",O.value=!1})}else if(y.value=="Reimpresion"){console.log(f.value.val),O.value=!0;let a={type:y.value,serie:h.value,folio:D.value,print:f.value.val.ip_address},u=`http://${s}/access/public/modify/newmod`;R.post(u,a).then(i=>{k.value.state=!1,console.log(i),y.value=null,f.value.val=null,h.value=null,D.value="",O.value=!1}).catch(i=>i)}else if(y.value=="Modificacion"){console.log("modificado");let a={type:y.value,serie:h.value,folio:D.value};O.value=!0;let u=`http://${s}/access/public/modify/newmod`;R.post(u,a).then(i=>{console.log(i.data),m.value.state=!0,k.value.state=!1,m.value.body=i.data,F.value=Number(i.data.ticket.total),U.value=i.data.ticket.codcli,se.value=i.data.ticket.observacion,O.value=!1}).catch(i=>{console.log(i.response.data.message),O.value=!1,c.notify({html:!0,message:i.response.data.message,color:"negative",position:"center"})})}},De=async()=>{console.log("cambio de cliente");let s=U.value;console.log(s);let a=`http://${C.session.store.ip_address}/access/public/modify/getClient?client=${s}`;R.get(a).then(u=>{console.log(u.data),J.value.body=u.data,m.value.body.ticket.cliente=u.data.NOFCLI,J.value.state=!0}).catch(u=>{console.log(u.response.data),c.notify({html:!0,message:u.response.data,color:"negative",position:"center"})})},Ve=s=>{console.log(`Mostrando Articulo ${s.ARTICULO}`),I.value.state=!0,I.value.body=s},Te=async()=>{console.log("Buscando Producto Y propiedades");let s={product:j.value,price:U.value};if(m.value.body.product.findIndex(a=>a.ARTICULO==j.value)==-1){let u=`http://${C.session.store.ip_address}/access/public/modify/getProduct`;R.get(u,{params:s}).then(i=>{console.log(i.data),b.value.body=i.data,b.value.state=!0}).catch(i=>{console.log(i.response.data),c.notify({html:!0,message:i.response.data,color:"negative",position:"center"})})}else c.notify({html:!0,message:`El productos ${j.value} ya esta en el ticket`,color:"negative",position:"center"})},we=()=>{le.value=!0},Ae=()=>{console.log("Se eliminara el articulo");let s=I.value.body.ARTICULO,e=m.value.body.product.findIndex(a=>a.ARTICULO==s);console.log(e),m.value.body.product.splice(e,1),I.value.state=!1,F.value=m.value.body.product.reduce((a,u)=>a+Number(u.CANTIDAD)*Number(u.PRECIO),0)},Fe=()=>{let s={ARTICULO:b.value.body.CODART,DESCRIPCION:b.value.body.DESART,CANTIDAD:b.value.account,PRECIO:b.value.body.PRELTA,TOTAL:b.value.account*b.value.body.PRELTA};m.value.body.product.push(s),F.value=m.value.body.product.reduce((e,a)=>e+Number(a.CANTIDAD)*Number(a.PRECIO),0),b.value.account=0,j.value=null},Ne=()=>{console.log("recalculando ticket");let s=m.value.body.product,a={cliente:U.value,productos:s},i=`http://${C.session.store.ip_address}/access/public/modify/getPrices`;R.get(i,{params:a}).then(P=>{console.log(P.data),ne.value=P.data,ne.value.forEach(B=>{let Q=m.value.body.product.findIndex(ie=>ie.ARTICULO==B.CODART);m.value.body.product[Q].PRECIO=B.PRELTA}),F.value=m.value.body.product.reduce((B,Q)=>B+Number(Q.CANTIDAD)*Number(Q.PRECIO),0),c.notify({html:!0,message:"Total cambiado",color:"positive",position:"center"})}).catch(P=>{console.log(P.response.data),c.notify({html:!0,message:P.response.data,color:"negative",position:"center"})})},Re=()=>{F.value=m.value.body.product.reduce((s,e)=>s+Number(e.CANTIDAD)*Number(e.PRECIO),0)},Oe=async()=>{if(K.value.val=="SI"){console.log("Buscando vales");let e=`http://${C.session.store.ip_address}/access/public/modify/vales?price=${U.value}`;R.get(e).then(a=>{console.log(a.data),T.value.body=a.data}).catch(a=>{console.log(a.response.data),c.notify({html:!0,message:a.response.data,color:"negative",position:"center"})})}else console.log("No se buscan vales"),T.value.body=null,ue.value=0},ce=()=>te.value=!0,Pe=async()=>{c.loading.show({message:"Realizando Devolucion"});let s=C.session.store.ip_address,e=`${C.session.name} - ${C.session.store.alias}`;console.log("Realizando proceso de modificacion de tickeet");let a={type:y.value,serie:h.value,folio:D.value,mot:L.value,create:e,print:f.value.val.ip_address},u={serdev:h.value,foldev:D.value,fdp:{efedig:d.value,vale:T.value.prc},total:F.value,create:e,productos:m.value.body.product,print:f.value.val.ip_address,cliente:U.value,cambio:ae.value};console.log(T.value.prc),console.log(u);let i=`http://${s}/access/public/modify/modificacion`;R.post(i,a).then(P=>{k.value.state=!1,console.log(P),y.value=null,L.value="",D.value="",te.value=!1,le.value=!1,m.value.state=!1,m.value.body=null,c.notify({html:!0,message:P.data.mssg,color:"positive",position:"center"}),c.loading.hide(),c.loading.show({message:"Realizando Factura"});let B=`http://${s}/access/public/modify/nwtck`;R.post(B,u).then(Q=>{if(c.notify({html:!0,message:Q.data.mssg,color:"positive",position:"center"}),Y.value==!0){let ie=`http://${s}/access/public/modify/retirada`,pe={nota:Q.data.mssg,retiro:ae.value,serdev:h.value,print:f.value.val.ip_address,create:e};console.log(pe),R.post(ie,pe).then(W=>{console.log(W),c.notify({html:!0,message:W.data.mssg,color:"positive",postion:"center"}),f.value.val=null,h.value=null,Y.value=!1,d.value={EFE:{id:null,val:0},DIG:{id:null,val:0}},T.value={prc:null,body:null},q.value=!1}).catch(W=>{console.log(W),c.notify({html:!0,message:W.data,color:"negative",position:"center"})})}f.value.val=null,h.value=null,Y.value=!1,d.value={EFE:{id:null,val:0},DIG:{id:null,val:0}},T.value={prc:null,body:null},q.value=!1,c.loading.hide()}).catch(Q=>{console.log(Q),c.notify({html:!0,message:Q.data,color:"negative",position:"center"})})}).catch(P=>{c.notify({html:!0,message:P.data.mssg,color:"negative",position:"center"})})},Qe=s=>{var e;return s.id==((e=d.value.EFE.id)==null?void 0:e.id)},$e=s=>{var e;return s.id==((e=d.value.DIG.id)==null?void 0:e.id)};return ve(),ve(),(s,e)=>(g(),N(ll,{view:"hHh Lpr fFf"},{default:t(()=>[l(Je,{class:"transparent text-dark",bordered:""},{default:t(()=>[l(al),l(w)]),_:1}),l(tl,null,{default:t(()=>[l(We,{class:"justify-between"},{default:t(()=>[o("div",null,[e[27]||(e[27]=n("Helpers ")),l(je,{name:"navigate_next",color:"primary"}),e[28]||(e[28]=n()),e[29]||(e[29]=o("span",{class:"text-h6"},"TICKETS",-1))]),l(x,{color:"primary",icon:"add"},{default:t(()=>[l(Ke,null,{default:t(()=>[e[30]||(e[30]=o("div",{class:"q-pa-md text-primary"},"Buscar Folio",-1)),l(w),l(Z,{dense:"",onSubmit:Ie,class:"q-gutter-md q-pa-md"},{default:t(()=>[l(M,{modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=a=>h.value=a),options:me(ye),label:"Serie",autofocus:""},null,8,["modelValue","options"]),l($,{modelValue:D.value,"onUpdate:modelValue":e[1]||(e[1]=a=>D.value=a),type:"number",label:"Folio"},null,8,["modelValue"]),_e.value?(g(),G("div",dl,[l(x,{type:"submit",color:"primary",icon:"search"})])):E("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),l(el,{class:"",padding:""},{default:t(()=>[o("div",nl,[l(fe,{name:"bounce"},{default:t(()=>[k.value.state?(g(),N(A,{key:0,style:{"min-width":"400px"},flat:"",bordered:""},{default:t(()=>[l(be,{bordered:""},{default:t(()=>[l(V,null,{default:t(()=>[l(r,null,{default:t(()=>e[31]||(e[31]=[n("Ticket : ")])),_:1}),l(r,null,{default:t(()=>[n(v(k.value.body.ticket),1)]),_:1})]),_:1}),l(V,null,{default:t(()=>[l(r,null,{default:t(()=>e[32]||(e[32]=[n("Cliente : ")])),_:1}),l(r,null,{default:t(()=>[n(v(k.value.body.cliente),1)]),_:1})]),_:1}),l(V,null,{default:t(()=>[l(r,null,{default:t(()=>e[33]||(e[33]=[n("Fecha : ")])),_:1}),l(r,null,{default:t(()=>[n(v(k.value.body.fecha),1)]),_:1})]),_:1}),l(V,null,{default:t(()=>[l(r,null,{default:t(()=>e[34]||(e[34]=[n("Total : ")])),_:1}),l(r,null,{default:t(()=>[n("$ "+v(k.value.body.total),1)]),_:1})]),_:1}),l(w),l(V,{class:qe(["",me(c).dark.isActive?"text-white bg-indigo":"text-dark bg-indigo-2"])},{default:t(()=>[l(r,null,{default:t(()=>e[35]||(e[35]=[n("Movimiento")])),_:1}),l(r,null,{default:t(()=>[l(M,{dense:"",modelValue:y.value,"onUpdate:modelValue":e[2]||(e[2]=a=>y.value=a),options:ge,label:"Seleccione",filled:"",autofocus:""},null,8,["modelValue"])]),_:1})]),_:1},8,["class"]),y.value=="Devolucion"||y.value=="Reimpresion"?(g(),N(V,{key:0},{default:t(()=>[l(r,null,{default:t(()=>e[36]||(e[36]=[n("Impresora")])),_:1}),f.value.body?(g(),N(r,{key:1},{default:t(()=>[l(M,{dense:"","option-label":"name",modelValue:f.value.val,"onUpdate:modelValue":e[3]||(e[3]=a=>f.value.val=a),options:f.value.body,label:"Impresora",filled:"",autofocus:""},null,8,["modelValue","options"])]),_:1})):(g(),N(r,{key:0},{default:t(()=>[l(il,{color:"purple",size:"2em"}),l(Xe,{offset:[0,8]},{default:t(()=>e[37]||(e[37]=[n("Obteniendo Impresoras")])),_:1})]),_:1}))]),_:1})):E("",!0),y.value=="Devolucion"?(g(),G("div",rl,[l(V,null,{default:t(()=>[l(r,null,{default:t(()=>e[38]||(e[38]=[n("Motivo de la devolucion")])),_:1}),l(r,null,{default:t(()=>[l($,{modelValue:L.value,"onUpdate:modelValue":e[4]||(e[4]=a=>L.value=a),type:"text",label:"describe el motivo"},null,8,["modelValue"])]),_:1})]),_:1})])):E("",!0)]),_:1}),xe.value?(g(),G("div",vl,[l(oe,{align:"between"},{default:t(()=>[l(x,{flat:"",icon:"cancel"}),l(x,{flat:"",icon:"arrow_forward",onClick:Ee,disable:O.value},null,8,["disable"])]),_:1})])):E("",!0)]),_:1})):E("",!0)]),_:1})]),l(fe,{name:"bounce"},{default:t(()=>[m.value.state?(g(),N(A,{key:0,class:"my-card",style:{"min-width":"400px"},flat:"",bordered:""},{default:t(()=>[l(be,{bordered:""},{default:t(()=>[l(A,{class:"my-card"},{default:t(()=>[l(_,null,{default:t(()=>[l(V,{class:"text-center"},{default:t(()=>[l(r,null,{default:t(()=>[l(S,{caption:"",lines:"2"},{default:t(()=>e[39]||(e[39]=[n("Ticket")])),_:1}),l(S,{class:"text-h4"},{default:t(()=>[n(v(m.value.body.ticket.ticket),1)]),_:1})]),_:1}),l(r,null,{default:t(()=>[l(S,{caption:"",lines:"2"},{default:t(()=>e[40]||(e[40]=[n("Fecha")])),_:1}),l(S,{class:"text-h6"},{default:t(()=>[n(v(m.value.body.ticket.fecha),1)]),_:1})]),_:1}),l(r,null,{default:t(()=>[l(S,{caption:"",lines:"2"},{default:t(()=>e[41]||(e[41]=[n("Total")])),_:1}),l(S,{class:"text-h6"},{default:t(()=>[n(v(Number.parseFloat(F.value).toFixed(2)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(w,{spaced:"",inset:"",vertical:"",dark:""}),l(A,{class:"my-card"},{default:t(()=>[l(_,null,{default:t(()=>[l(V,{class:"text-h6"},{default:t(()=>[l(r,null,{default:t(()=>[l(S,{lines:"2"},{default:t(()=>e[42]||(e[42]=[n("Cliente")])),_:1}),l(S,null,{default:t(()=>[l(Z,{onSubmit:De,class:"q-gutter-md q-display-flex q-justify-center"},{default:t(()=>[l($,{modelValue:U.value,"onUpdate:modelValue":e[5]||(e[5]=a=>U.value=a),type:"number",style:{"max-width":"100px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(r,null,{default:t(()=>[n(v(m.value.body.ticket.cliente),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(w,{spaced:"",inset:"",vertical:"",dark:""}),l(A,{class:"my-card"},{default:t(()=>[l(_,null,{default:t(()=>[l(V,null,{default:t(()=>[l(r,null,{default:t(()=>[l(Z,{onSubmit:Te,class:"q-gutter-md"},{default:t(()=>[o("div",null,[l($,{modelValue:j.value,"onUpdate:modelValue":e[6]||(e[6]=a=>j.value=a),type:"text",label:"Agregar Modelo"},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(w,{spaced:"",inset:"",vertical:"",dark:""}),l(A,{class:"my-card"},{default:t(()=>[l(_,null,{default:t(()=>[l(V,null,{default:t(()=>[l(r,null,{default:t(()=>e[43]||(e[43]=[n("ARTICULO")])),_:1}),l(r,null,{default:t(()=>e[44]||(e[44]=[n("DESCRIPCION")])),_:1}),l(r,null,{default:t(()=>e[45]||(e[45]=[n("CANTIDAD")])),_:1}),l(r,null,{default:t(()=>e[46]||(e[46]=[n("PRECIO")])),_:1}),l(r,null,{default:t(()=>e[47]||(e[47]=[n("TOTAL")])),_:1})]),_:1}),l(Ze,{style:{height:"300px","max-width":"1700px"}},{default:t(()=>[(g(!0),G(He,null,Be(Ce.value,(a,u)=>z((g(),N(V,{class:"border",key:u,onClick:i=>Ve(a),clickable:""},{default:t(()=>[l(r,null,{default:t(()=>[n(v(a.ARTICULO),1)]),_:2},1024),l(r,null,{default:t(()=>[n(v(a.DESCRIPCION),1)]),_:2},1024),l(r,null,{default:t(()=>[n(v(Number.parseFloat(a.CANTIDAD).toFixed(2)),1)]),_:2},1024),l(r,null,{default:t(()=>[n("$ "+v(Number.parseFloat(a.PRECIO).toFixed(2)),1)]),_:2},1024),l(r,null,{default:t(()=>[n("$ "+v(Number.parseFloat(a.PRECIO*a.CANTIDAD).toFixed(2)),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Ye]])),128))]),_:1})]),_:1})]),_:1}),l(w,{spaced:"",inset:"",vertical:"",dark:""}),l(A,{class:"my-card"},{default:t(()=>[l(_,null,{default:t(()=>[l(V,null,{default:t(()=>[l(r,null,{default:t(()=>[l(S,null,{default:t(()=>e[48]||(e[48]=[n("Observaciones")])),_:1})]),_:1}),l(r,{side:"",top:""},{default:t(()=>[l($,{modelValue:se.value,"onUpdate:modelValue":e[7]||(e[7]=a=>se.value=a),type:"text",label:"observaciones",style:{"max-width":"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(x,{class:"full-width",color:"primary",icon:"receipt",label:"PAGAR",onClick:we})]),_:1})]),_:1})):E("",!0)]),_:1}),l(X,{modelValue:I.value.state,"onUpdate:modelValue":e[9]||(e[9]=a=>I.value.state=a),position:"right",persistent:""},{default:t(()=>[l(A,{class:"my-card"},{default:t(()=>[l(_,null,{default:t(()=>[o("div",cl,"Articulo : "+v(I.value.body.ARTICULO),1),o("div",pl,"Descripcion : "+v(I.value.body.DESCRIPCION),1)]),_:1}),l(_,{class:"row"},{default:t(()=>[o("div",ml,[l($,{modelValue:I.value.body.CANTIDAD,"onUpdate:modelValue":e[8]||(e[8]=a=>I.value.body.CANTIDAD=a),type:"number",label:"Cantidad",style:{"max-width":"50%"}},null,8,["modelValue"])])]),_:1}),l(_,{class:"row justify-between"},{default:t(()=>[o("div",fl,"Precio : "+v(Number.parseFloat(I.value.body.PRECIO).toFixed(2)),1),o("div",bl,"Total : "+v(Number.parseFloat(I.value.body.PRECIO*I.value.body.CANTIDAD).toFixed(2)),1)]),_:1}),l(oe,{class:"row justify-between"},{default:t(()=>[l(x,{flat:"",icon:"delete",color:"negative",onClick:Ae}),z(l(x,{flat:"",icon:"arrow_forward_ios",disable:I.value.body.CANTIDAD.length<=0,onClick:Re},null,8,["disable"]),[[ee]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(X,{modelValue:b.value.state,"onUpdate:modelValue":e[11]||(e[11]=a=>b.value.state=a),position:"left",persistent:""},{default:t(()=>[l(A,{class:"my-card"},{default:t(()=>[l(_,null,{default:t(()=>[o("div",yl,"Articulo : "+v(b.value.body.CODART),1),o("div",gl,"Descripcion : "+v(b.value.body.DESART),1)]),_:1}),l(_,{class:"row"},{default:t(()=>[o("div",_l,[l($,{modelValue:b.value.account,"onUpdate:modelValue":e[10]||(e[10]=a=>b.value.account=a),type:"number",label:"Cantidad",style:{"max-width":"50%"}},null,8,["modelValue"])])]),_:1}),l(_,{class:"row justify-between"},{default:t(()=>[o("div",Cl,"Precio : "+v(Number.parseFloat(b.value.body.PRELTA).toFixed(2)),1),o("div",xl,"Total : "+v(Number.parseFloat(b.value.body.PRELTA*b.value.account).toFixed(2)),1)]),_:1}),l(oe,{class:"row justify-between"},{default:t(()=>[z(l(x,{flat:"",icon:"close",color:"positive"},null,512),[[ee]]),z(l(x,{flat:"",icon:"arrow_forward_ios",disable:b.value.account<=0,onClick:Fe},null,8,["disable"]),[[ee]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(X,{modelValue:J.value.state,"onUpdate:modelValue":e[12]||(e[12]=a=>J.value.state=a)},{default:t(()=>[l(A,null,{default:t(()=>[l(_,{class:"items-center"},{default:t(()=>[e[49]||(e[49]=o("div",{class:"text-h5"},"Se cambiara el cliente a:",-1)),l(w,{spaced:"",inset:"",vertical:"",dark:""}),o("div",hl,v(J.value.body.NOFCLI),1),l(w,{spaced:"",inset:"",vertical:"",dark:""}),e[50]||(e[50]=o("div",{class:"q-ml-sm text-center"},"Desea recalcular el ticket ?",-1))]),_:1}),l(oe,{align:"center"},{default:t(()=>[z(l(x,{flat:"",icon:"close",color:"primary"},null,512),[[ee]]),z(l(x,{flat:"",icon:"check",color:"positive",onClick:Ne},null,512),[[ee]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(X,{modelValue:le.value,"onUpdate:modelValue":e[26]||(e[26]=a=>le.value=a)},{default:t(()=>[l(A,{class:"my-card",style:{width:"700px","max-width":"80vw"}},{default:t(()=>[o("div",kl,[o("div",null,[e[51]||(e[51]=o("div",{class:"fs-dec3"},"TICKET",-1)),o("div",Il,v(m.value.body.ticket.ticket),1)]),o("div",El,[e[52]||(e[52]=o("div",{class:"fs-dec3"},"Total Anterior",-1)),o("div",Dl,"$ "+v(k.value.body.total),1)]),o("div",Vl,[e[53]||(e[53]=o("div",{class:"fs-dec3"},"Total Actual",-1)),o("div",Tl,"$ "+v(F.value),1)])]),o("div",null,[l(Z,{onSubmit:ce,class:"q-gutter-md"},{default:t(()=>[l(_,null,{default:t(()=>{var a;return[o("div",wl,[e[54]||(e[54]=o("div",{class:"col"}," Forma de pago: ",-1)),o("div",Al,[l(M,{class:"col-3",modelValue:d.value.EFE.id,"onUpdate:modelValue":e[13]||(e[13]=u=>d.value.EFE.id=u),options:re,"option-value":"id","option-label":"desc",dense:"",filled:"",label:"Forma de pago","option-disable":u=>$e(u)},null,8,["modelValue","option-disable"])])]),l(w,{spaced:"",inset:"",vertical:"",dark:""}),o("div",Fl,[o("div",Nl,v(((a=d.value.EFE.id)==null?void 0:a.id)=="EFE"?"Efectivo":"Importe Cobrado"),1),o("div",Rl,[l($,{class:"col",modelValue:d.value.EFE.val,"onUpdate:modelValue":e[15]||(e[15]=u=>d.value.EFE.val=u),type:"number",autofocus:"",min:0,step:"any",dense:"","input-class":"q-pl-md fw-sbold fs-inc4",filled:""},{after:t(()=>[parseFloat(d.value.EFE.val)?(g(),N(x,{key:0,color:"primary",icon:"backspace",flat:"",dense:"",round:"",onClick:e[14]||(e[14]=u=>d.value.EFE.val=0)})):E("",!0)]),_:1},8,["modelValue"])])])]}),_:1}),l(_,null,{default:t(()=>{var a;return[o("div",Ol,[o("div",Pl,[l(x,{color:"primary",label:"2\xAA Forma de pago",onClick:e[16]||(e[16]=()=>{q.value=!q.value,d.value.DIG.val=0,d.value.DIG.id=null}),outline:"",rounded:"",dense:"",size:"md",style:{width:"70%"}})]),q.value?(g(),G("div",Ql,[l(M,{class:"col-3",modelValue:d.value.DIG.id,"onUpdate:modelValue":e[17]||(e[17]=u=>d.value.DIG.id=u),options:re,label:"Forma Pago","option-value":"id","option-label":"desc",dense:"",filled:"","option-disable":u=>Qe(u)},null,8,["modelValue","option-disable"])])):E("",!0)]),l(w,{spaced:"",inset:"",vertical:"",dark:""}),q.value?(g(),G("div",$l,[o("div",Sl,v(((a=d.value.DIG.id)==null?void 0:a.id)=="EFE"?"Efectivo":"Importe Cobrado"),1),o("div",Ul,[l($,{class:"col",modelValue:d.value.DIG.val,"onUpdate:modelValue":e[19]||(e[19]=u=>d.value.DIG.val=u),type:"number",autofocus:"",min:0,step:"any",dense:"","input-class":"q-pl-md fw-sbold fs-inc4",filled:""},{after:t(()=>[parseFloat(d.value.DIG.val)?(g(),N(x,{key:0,color:"primary",icon:"backspace",flat:"",dense:"",round:"",onClick:e[18]||(e[18]=u=>d.value.DIG.val=0)})):E("",!0)]),_:1},8,["modelValue"])])])):E("",!0)]}),_:1}),o("div",null,[l(_,null,{default:t(()=>[l(M,{modelValue:K.value.val,"onUpdate:modelValue":[e[20]||(e[20]=a=>K.value.val=a),Oe],options:K.value.opts,label:"Descontar Vale",filled:""},null,8,["modelValue","options"])]),_:1}),K.value.val=="SI"?(g(),N(_,{key:0},{default:t(()=>[o("div",Ll,[e[55]||(e[55]=o("div",{class:"col-3"},"No. Vale",-1)),l(M,{modelValue:T.value.prc,"onUpdate:modelValue":[e[21]||(e[21]=a=>T.value.prc=a),e[22]||(e[22]=a=>ue.value=T.value.prc.IMPANT)],options:T.value.body,"option-label":"CODANT",label:"Descontar Vale",filled:"",style:{width:"250px"}},null,8,["modelValue","options"]),l(w,{spaced:"",inset:"",vertical:"",dark:""}),T.value.prc?(g(),G("div",Gl," $ "+v(Number.parseFloat(T.value.prc.IMPANT).toFixed(2)),1)):E("",!0)])]),_:1})):E("",!0),he.value?(g(),N(_,{key:1},{default:t(()=>[o("div",Ml,[l(ze,{"left-label":"",modelValue:Y.value,"onUpdate:modelValue":e[23]||(e[23]=a=>Y.value=a),label:"Hacer Retirada de el sobrante"},null,8,["modelValue"])])]),_:1})):E("",!0)])]),_:1})]),o("div",jl,[o("div",null,[e[56]||(e[56]=o("div",{class:"fs-dec3"},"Cambio",-1)),o("div",ql," $ "+v(ae.value),1)]),ke.value?(g(),G("div",Bl,[l(x,{color:"primary",icon:"payment",label:"Pagar",onClick:ce})])):E("",!0)]),l(X,{modelValue:te.value,"onUpdate:modelValue":e[25]||(e[25]=a=>te.value=a)},{default:t(()=>[l(A,{class:"my-card"},{default:t(()=>[l(_,null,{default:t(()=>e[57]||(e[57]=[o("div",{class:"text-h6 text-center"},"Impresora",-1)])),_:1}),l(_,null,{default:t(()=>[l(Z,{onSubmit:Pe,class:"q-gutter-md"},{default:t(()=>[l(M,{dense:"","option-label":"name",modelValue:f.value.val,"onUpdate:modelValue":e[24]||(e[24]=a=>f.value.val=a),options:f.value.body,label:"Impresora",filled:"",autofocus:"",style:{width:"200px"}},null,8,["modelValue","options"]),o("div",null,[l(x,{label:"Enviar",type:"submit",color:"primary",style:{width:"200px"}})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{rt as default};
