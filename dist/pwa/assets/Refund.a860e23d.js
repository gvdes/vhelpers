import{E as x,a as d}from"./jspdf.plugin.autotable.d01f28de.js";import{d as S}from"./dayjs.min.cbcf888d.js";const A=async l=>{const e=new x({format:"letter"});let a=[];const n=l.bodie.map(r=>Object.values([r.product,r.description,r.to_delivered])),g=Math.ceil(n.length/20);for(var s=0;s<n.length;s+=20)a.push(n.slice(s,s+20));console.log(a);for(let r=0;r<2;r++){let f="ORIGINAL";r>0&&(f="COPIA",e.addPage()),a.forEach(function(o,i){i>0&&e.addPage();let c=0;for(let t=0;t<o.length;t++)o[t][0]=o[t][0],o[t][1]=o[t][1],o[t][2]=parseFloat(o[t][2]),c+=parseFloat(o[t][2]);for(let t=0;t<o.length;t++);e.setFontSize(25),e.setFont("helvetica","bold"),e.text("GRUPO VIZCARRA",105,10,"center"),e.setFontSize(8),e.setFontSize(12),e.text(f,185,10,"left"),e.text("LLUVIA LIGTH SA DE CV",10,25,"left"),e.setFontSize(8),e.text(l.createdby.complete_name,10,30,"left"),e.text(`Referencia ${l.reference}`,10,35,"left"),e.text("DELEG, CUAUHTEMOC CDMX",10,40,"left"),e.text("DOCUMENTO",10,55,"left"),e.text("DEVOLUCION",10,60,"left"),e.text("NUMERO",32,55,"left"),e.text(String(l.fs_id),32,60,"left"),e.text("PAGINA",54,55,"left"),e.text(`${i+1} de ${g}`,54,60,"left"),e.text("FECHA",76,55,"left");const m=S(l.created_at).format("YYYY-MM-DD");e.text(m,76,60,"left"),d(e,{startX:10,startY:65,theme:"plain",styles:{cellPadding:1,fontSize:12,halign:"center"},head:[["Sucursal de Origen","Sucursal de Destino"]],body:[[`(${l.storefrom.alias}) ${l.storefrom.name}`,`(${l.storeto.alias}) ${l.storeto.name}`]]}),d(e,{startX:10,startY:80,theme:"striped",styles:{cellPadding:.6,fontSize:8,halign:"center"},head:[["ARTICULO","DESCRIPCION","CANTIDAD"]],body:o,columnStyles:{0:{fontStyle:"bold",halign:"left"},1:{fontStyle:"bold",halign:"left"},4:{halign:"center"}}}),e.setFontSize(11),e.text("TOTAL UNIDADES:",150,200,"left"),e.text(c.toString(),190,200,"left"),e.text("Firma Sucursal Origen",12,224),e.text("Firma Sucursal Destino",82,224),e.text("Firma Chofer",152,224),e.rect(10,220,60,40),e.rect(80,220,60,40),e.rect(150,220,60,40)})}e.save(`Devolucion ${l.fs_id}`)};var p={refund:A};export{p};
