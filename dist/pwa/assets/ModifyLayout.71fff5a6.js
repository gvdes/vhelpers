import{f as Ye,v as Ee,g as Xe,h as We,i as Ke,j as Ie,s as Ge,c as ke,p as Ve,k as Je,l as pe,Q as B,b as Ze,a as ye}from"./QSelect.c0d32718.js";import{k as S,j as De,aL as et,aM as tt,r as C,c as w,v as Ae,y as Pe,au as fe,at as ue,A as lt,W as xe,m as Ue,l as at,O as Be,aa as ot,Y as ce,z as st,aA as ut,aB as ge,T as qe,Z as _e,av as Oe,L as it,R as nt,S as rt,J as ct,a2 as K,aN as Re,aO as Ce,o as N,a as Z,w as a,e,i as O,a3 as g,U as dt,Q as L,f as de,g as he,h as se,a4 as k,a0 as vt,a1 as ft,a6 as mt}from"./index.fdbc6478.js";import{Q as ee}from"./QInput.fd09a5af.js";import{u as pt,Q as Se}from"./use-quasar.7a70b695.js";import{a as W,Q as ht}from"./axios.f477f88b.js";import{_ as bt,Q as yt,a as be,C as ve}from"./UserToolbar.8326c71f.js";import{u as gt,f as _t,h as Ct,i as St,j as zt,k as Tt,l as wt,m as kt,Q as Me,a as V,b,c as Y,e as ze}from"./QDialog.95ee8c40.js";import{u as At,f as Pt,g as Ne,j as xt,Q as Ot,a as Dt,b as H,c as M,d as Et}from"./QLayout.5fb66f85.js";import{g as Le,s as Qe}from"./touch.70a9dd44.js";import{u as It}from"./VDB.4bbf8d5e.js";const Vt=[S("g",[S("path",{fill:"none",stroke:"currentColor","stroke-width":"5","stroke-miterlimit":"10",d:"M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"}),S("clipPath",{id:"uil-hourglass-clip1"},[S("rect",{x:"15",y:"20",width:" 70",height:"25"},[S("animate",{attributeName:"height",from:"25",to:"0",dur:"1s",repeatCount:"indefinite",values:"25;0;0",keyTimes:"0;0.5;1"}),S("animate",{attributeName:"y",from:"20",to:"45",dur:"1s",repeatCount:"indefinite",values:"20;45;45",keyTimes:"0;0.5;1"})])]),S("clipPath",{id:"uil-hourglass-clip2"},[S("rect",{x:"15",y:"55",width:" 70",height:"25"},[S("animate",{attributeName:"height",from:"0",to:"25",dur:"1s",repeatCount:"indefinite",values:"0;25;25",keyTimes:"0;0.5;1"}),S("animate",{attributeName:"y",from:"80",to:"55",dur:"1s",repeatCount:"indefinite",values:"80;55;55",keyTimes:"0;0.5;1"})])]),S("path",{d:"M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z","clip-path":"url(#uil-hourglass-clip1)",fill:"currentColor"}),S("path",{d:"M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z","clip-path":"url(#uil-hourglass-clip2)",fill:"currentColor"}),S("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"180 50 50",repeatCount:"indefinite",dur:"1s",values:"0 50 50;0 50 50;180 50 50",keyTimes:"0;0.7;1"})])];var qt=De({name:"QSpinnerHourglass",props:et,setup(n){const{cSize:v,classes:p}=tt(n);return()=>S("svg",{class:p.value,width:v.value,height:v.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},Vt)}}),Rt=De({name:"QTooltip",inheritAttrs:!1,props:{...Ye,...gt,..._t,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ee},self:{type:String,default:"top middle",validator:Ee},offset:{type:Array,default:()=>[14,14],validator:Xe},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Ct],setup(n,{slots:v,emit:p,attrs:A}){let t,o;const i=Ue(),{proxy:{$q:l}}=i,d=C(null),f=C(!1),x=w(()=>Ve(n.anchor,l.lang.rtl)),D=w(()=>Ve(n.self,l.lang.rtl)),_=w(()=>n.persistent!==!0),{registerTick:y,removeTick:E}=St(),{registerTimeout:q}=zt(),{transitionProps:Q,transitionStyle:P}=Tt(n),{localScrollTarget:G,changeScrollEvent:te,unconfigureScrollTarget:ie}=We(n,u),{anchorEl:I,canShow:$,anchorEvents:F}=Ke({showing:f,configureAnchorEl:r}),{show:le,hide:J}=wt({showing:f,canShow:$,handleShow:ne,handleHide:re,hideOnRouteChange:_,processOnMount:!0});Object.assign(F,{delayShow:m,delayHide:c});const{showPortal:ae,hidePortal:j,renderPortal:oe}=kt(i,d,h,"tooltip");if(l.platform.is.mobile===!0){const T={anchorEl:I,innerRef:d,onClickOutside(R){return J(R),R.target.classList.contains("q-dialog__backdrop")&&Be(R),!0}},X=w(()=>n.modelValue===null&&n.persistent!==!0&&f.value===!0);Ae(X,R=>{(R===!0?Je:Ie)(T)}),Pe(()=>{Ie(T)})}function ne(T){ae(),y(()=>{o=new MutationObserver(()=>s()),o.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),s(),u()}),t===void 0&&(t=Ae(()=>l.screen.width+"|"+l.screen.height+"|"+n.self+"|"+n.anchor+"|"+l.lang.rtl,s)),q(()=>{ae(!0),p("show",T)},n.transitionDuration)}function re(T){E(),j(),U(),q(()=>{j(!0),p("hide",T)},n.transitionDuration)}function U(){o!==void 0&&(o.disconnect(),o=void 0),t!==void 0&&(t(),t=void 0),ie(),fe(F,"tooltipTemp")}function s(){const T=d.value;I.value===null||!T||Ge({el:T,offset:n.offset,anchorEl:I.value,anchorOrigin:x.value,selfOrigin:D.value,maxHeight:n.maxHeight,maxWidth:n.maxWidth})}function m(T){if(l.platform.is.mobile===!0){ke(),document.body.classList.add("non-selectable");const X=I.value,R=["touchmove","touchcancel","touchend","click"].map(me=>[X,me,"delayHide","passiveCapture"]);ue(F,"tooltipTemp",R)}q(()=>{le(T)},n.delay)}function c(T){l.platform.is.mobile===!0&&(fe(F,"tooltipTemp"),ke(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),q(()=>{J(T)},n.hideDelay)}function r(){if(n.noParentEvent===!0||I.value===null)return;const T=l.platform.is.mobile===!0?[[I.value,"touchstart","delayShow","passive"]]:[[I.value,"mouseenter","delayShow","passive"],[I.value,"mouseleave","delayHide","passive"]];ue(F,"anchor",T)}function u(){if(I.value!==null||n.scrollTarget!==void 0){G.value=lt(I.value,n.scrollTarget);const T=n.noParentEvent===!0?s:J;te(G.value,T)}}function z(){return f.value===!0?S("div",{...A,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",A.class],style:[A.style,P.value],role:"tooltip"},at(v.default)):null}function h(){return S(xe,Q.value,z)}return Pe(U),Object.assign(i.proxy,{updatePosition:s}),oe}});function Te(n,v,p){const A=Oe(n);let t,o=A.left-v.event.x,i=A.top-v.event.y,l=Math.abs(o),d=Math.abs(i);const f=v.direction;f.horizontal===!0&&f.vertical!==!0?t=o<0?"left":"right":f.horizontal!==!0&&f.vertical===!0?t=i<0?"up":"down":f.up===!0&&i<0?(t="up",l>d&&(f.left===!0&&o<0?t="left":f.right===!0&&o>0&&(t="right"))):f.down===!0&&i>0?(t="down",l>d&&(f.left===!0&&o<0?t="left":f.right===!0&&o>0&&(t="right"))):f.left===!0&&o<0?(t="left",l<d&&(f.up===!0&&i<0?t="up":f.down===!0&&i>0&&(t="down"))):f.right===!0&&o>0&&(t="right",l<d&&(f.up===!0&&i<0?t="up":f.down===!0&&i>0&&(t="down")));let x=!1;if(t===void 0&&p===!1){if(v.event.isFirst===!0||v.event.lastDir===void 0)return{};t=v.event.lastDir,x=!0,t==="left"||t==="right"?(A.left-=o,l=0,o=0):(A.top-=i,d=0,i=0)}return{synthetic:x,payload:{evt:n,touch:v.event.mouse!==!0,mouse:v.event.mouse===!0,position:A,direction:t,isFirst:v.event.isFirst,isFinal:p===!0,duration:Date.now()-v.event.time,distance:{x:l,y:d},offset:{x:o,y:i},delta:{x:A.left-v.event.lastX,y:A.top-v.event.lastY}}}}let Mt=0;var Fe=ot({name:"touch-pan",beforeMount(n,{value:v,modifiers:p}){if(p.mouse!==!0&&ce.has.touch!==!0)return;function A(o,i){p.mouse===!0&&i===!0?Be(o):(p.stop===!0&&_e(o),p.prevent===!0&&qe(o))}const t={uid:"qvtp_"+Mt++,handler:v,modifiers:p,direction:Le(p),noop:st,mouseStart(o){Qe(o,t)&&ut(o)&&(ue(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(o,!0))},touchStart(o){if(Qe(o,t)){const i=o.target;ue(t,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","passiveCapture"],[i,"touchend","end","passiveCapture"]]),t.start(o)}},start(o,i){if(ce.is.firefox===!0&&ge(n,!0),t.lastEvt=o,i===!0||p.stop===!0){if(t.direction.all!==!0&&(i!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const f=o.type.indexOf("mouse")>-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&qe(f),o.cancelBubble===!0&&_e(f),Object.assign(f,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[t.uid]:o.qClonedBy.concat(t.uid)}),t.initialEvent={target:o.target,event:f}}_e(o)}const{left:l,top:d}=Oe(o);t.event={x:l,y:d,time:Date.now(),mouse:i===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:d}},move(o){if(t.event===void 0)return;const i=Oe(o),l=i.left-t.event.x,d=i.top-t.event.y;if(l===0&&d===0)return;t.lastEvt=o;const f=t.event.mouse===!0,x=()=>{A(o,f);let y;p.preserveCursor!==!0&&p.preservecursor!==!0&&(y=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),f===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ke(),t.styleCleanup=E=>{if(t.styleCleanup=void 0,y!==void 0&&(document.documentElement.style.cursor=y),document.body.classList.remove("non-selectable"),f===!0){const q=()=>{document.body.classList.remove("no-pointer-events--children")};E!==void 0?setTimeout(()=>{q(),E()},50):q()}else E!==void 0&&E()}};if(t.event.detected===!0){t.event.isFirst!==!0&&A(o,t.event.mouse);const{payload:y,synthetic:E}=Te(o,t,!1);y!==void 0&&(t.handler(y)===!1?t.end(o):(t.styleCleanup===void 0&&t.event.isFirst===!0&&x(),t.event.lastX=y.position.left,t.event.lastY=y.position.top,t.event.lastDir=E===!0?void 0:y.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||f===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){x(),t.event.detected=!0,t.move(o);return}const D=Math.abs(l),_=Math.abs(d);D!==_&&(t.direction.horizontal===!0&&D>_||t.direction.vertical===!0&&D<_||t.direction.up===!0&&D<_&&d<0||t.direction.down===!0&&D<_&&d>0||t.direction.left===!0&&D>_&&l<0||t.direction.right===!0&&D>_&&l>0?(t.event.detected=!0,t.move(o)):t.end(o,!0))},end(o,i){if(t.event!==void 0){if(fe(t,"temp"),ce.is.firefox===!0&&ge(n,!1),i===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Te(o===void 0?t.lastEvt:o,t).payload);const{payload:l}=Te(o===void 0?t.lastEvt:o,t,!0),d=()=>{t.handler(l)};t.styleCleanup!==void 0?t.styleCleanup(d):d()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(n.__qtouchpan=t,p.mouse===!0){const o=p.mouseCapture===!0||p.mousecapture===!0?"Capture":"";ue(t,"main",[[n,"mousedown","mouseStart",`passive${o}`]])}ce.has.touch===!0&&ue(t,"main",[[n,"touchstart","touchStart",`passive${p.capture===!0?"Capture":""}`],[n,"touchmove","noop","notPassiveCapture"]])},updated(n,v){const p=n.__qtouchpan;p!==void 0&&(v.oldValue!==v.value&&(typeof value!="function"&&p.end(),p.handler=v.value),p.direction=Le(v.modifiers))},beforeUnmount(n){const v=n.__qtouchpan;v!==void 0&&(v.event!==void 0&&v.end(),fe(v,"main"),fe(v,"temp"),ce.is.firefox===!0&&ge(n,!1),v.styleCleanup!==void 0&&v.styleCleanup(),delete n.__qtouchpan)}});const He=["vertical","horizontal"],we={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},$e={prevent:!0,mouse:!0,mouseAllDir:!0},je=n=>n>=250?50:Math.ceil(n/5);var Nt=De({name:"QScrollArea",props:{...At,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(n,{slots:v,emit:p}){const A=C(!1),t=C(!1),o=C(!1),i={vertical:C(0),horizontal:C(0)},l={vertical:{ref:C(null),position:C(0),size:C(0)},horizontal:{ref:C(null),position:C(0),size:C(0)}},{proxy:d}=Ue(),f=Pt(n,d.$q);let x=null,D;const _=C(null),y=w(()=>"q-scrollarea"+(f.value===!0?" q-scrollarea--dark":""));l.vertical.percentage=w(()=>{const s=l.vertical.size.value-i.vertical.value;if(s<=0)return 0;const m=pe(l.vertical.position.value/s,0,1);return Math.round(m*1e4)/1e4}),l.vertical.thumbHidden=w(()=>(n.visible===null?o.value:n.visible)!==!0&&A.value===!1&&t.value===!1||l.vertical.size.value<=i.vertical.value+1),l.vertical.thumbStart=w(()=>l.vertical.percentage.value*(i.vertical.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=w(()=>Math.round(pe(i.vertical.value*i.vertical.value/l.vertical.size.value,je(i.vertical.value),i.vertical.value))),l.vertical.style=w(()=>({...n.thumbStyle,...n.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`})),l.vertical.thumbClass=w(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=w(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=w(()=>{const s=l.horizontal.size.value-i.horizontal.value;if(s<=0)return 0;const m=pe(Math.abs(l.horizontal.position.value)/s,0,1);return Math.round(m*1e4)/1e4}),l.horizontal.thumbHidden=w(()=>(n.visible===null?o.value:n.visible)!==!0&&A.value===!1&&t.value===!1||l.horizontal.size.value<=i.horizontal.value+1),l.horizontal.thumbStart=w(()=>l.horizontal.percentage.value*(i.horizontal.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=w(()=>Math.round(pe(i.horizontal.value*i.horizontal.value/l.horizontal.size.value,je(i.horizontal.value),i.horizontal.value))),l.horizontal.style=w(()=>({...n.thumbStyle,...n.horizontalThumbStyle,[d.$q.lang.rtl===!0?"right":"left"]:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`})),l.horizontal.thumbClass=w(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=w(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const E=w(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?n.contentStyle:n.contentActiveStyle),q=[[Fe,s=>{F(s,"vertical")},void 0,{vertical:!0,...$e}]],Q=[[Fe,s=>{F(s,"horizontal")},void 0,{horizontal:!0,...$e}]];function P(){const s={};return He.forEach(m=>{const c=l[m];s[m+"Position"]=c.position.value,s[m+"Percentage"]=c.percentage.value,s[m+"Size"]=c.size.value,s[m+"ContainerSize"]=i[m].value}),s}const G=it(()=>{const s=P();s.ref=d,p("scroll",s)},0);function te(s,m,c){if(He.includes(s)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(s==="vertical"?Re:Ce)(_.value,m,c)}function ie({height:s,width:m}){let c=!1;i.vertical.value!==s&&(i.vertical.value=s,c=!0),i.horizontal.value!==m&&(i.horizontal.value=m,c=!0),c===!0&&j()}function I({position:s}){let m=!1;l.vertical.position.value!==s.top&&(l.vertical.position.value=s.top,m=!0),l.horizontal.position.value!==s.left&&(l.horizontal.position.value=s.left,m=!0),m===!0&&j()}function $({height:s,width:m}){l.horizontal.size.value!==m&&(l.horizontal.size.value=m,j()),l.vertical.size.value!==s&&(l.vertical.size.value=s,j())}function F(s,m){const c=l[m];if(s.isFirst===!0){if(c.thumbHidden.value===!0)return;D=c.position.value,t.value=!0}else if(t.value!==!0)return;s.isFinal===!0&&(t.value=!1);const r=we[m],u=i[m].value,z=(c.size.value-u)/(u-c.thumbSize.value),h=s.distance[r.dist],T=D+(s.direction===r.dir?1:-1)*h*z;oe(T,m)}function le(s,m){const c=l[m];if(c.thumbHidden.value!==!0){const r=s[we[m].offset];if(r<c.thumbStart.value||r>c.thumbStart.value+c.thumbSize.value){const u=r-c.thumbSize.value/2;oe(u/i[m].value*c.size.value,m)}c.ref.value!==null&&c.ref.value.dispatchEvent(new MouseEvent(s.type,s))}}function J(s){le(s,"vertical")}function ae(s){le(s,"horizontal")}function j(){A.value=!0,x!==null&&clearTimeout(x),x=setTimeout(()=>{x=null,A.value=!1},n.delay),n.onScroll!==void 0&&G()}function oe(s,m){_.value[we[m].scroll]=s}function ne(){o.value=!0}function re(){o.value=!1}let U=null;return Ae(()=>d.$q.lang.rtl,s=>{_.value!==null&&Ce(_.value,Math.abs(l.horizontal.position.value)*(s===!0?-1:1))}),nt(()=>{U={top:l.vertical.position.value,left:l.horizontal.position.value}}),rt(()=>{if(U===null)return;const s=_.value;s!==null&&(Ce(s,U.left),Re(s,U.top))}),Pe(G.cancel),Object.assign(d,{getScrollTarget:()=>_.value,getScroll:P,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:te,setScrollPercentage(s,m,c){te(s,m*(l[s].size.value-i[s].value)*(s==="horizontal"&&d.$q.lang.rtl===!0?-1:1),c)}}),()=>S("div",{class:y.value,onMouseenter:ne,onMouseleave:re},[S("div",{ref:_,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:n.tabindex!==void 0?n.tabindex:void 0},[S("div",{class:"q-scrollarea__content absolute",style:E.value},ct(v.default,[S(Ne,{debounce:0,onResize:$})])),S(xt,{axis:"both",onScroll:I})]),S(Ne,{debounce:0,onResize:ie}),S("div",{class:l.vertical.barClass.value,style:[n.barStyle,n.verticalBarStyle],"aria-hidden":"true",onMousedown:J}),S("div",{class:l.horizontal.barClass.value,style:[n.barStyle,n.horizontalBarStyle],"aria-hidden":"true",onMousedown:ae}),K(S("div",{ref:l.vertical.ref,class:l.vertical.thumbClass.value,style:l.vertical.style.value,"aria-hidden":"true"}),q),K(S("div",{ref:l.horizontal.ref,class:l.horizontal.thumbClass.value,style:l.horizontal.style.value,"aria-hidden":"true"}),Q)])}});const Lt=O("span",{class:"text-h6"},"TICKETS",-1),Qt=O("div",{class:"q-pa-md bg-grey-2 text-primary"},"Buscar Folio",-1),Ft={key:0,class:"text-right"},Ht={class:"row justify-center"},$t={key:1},jt={key:0},Ut={class:"text-h6"},Bt={class:"text-subtitle2"},Yt={class:"row justify-between"},Xt={class:"text-subtitle2"},Wt={class:"text-subtitle2"},Kt={class:"text-h6"},Gt={class:"text-subtitle2"},Jt={class:"row justify-between"},Zt={class:"text-subtitle2"},el={class:"text-subtitle2"},tl=O("div",{class:"text-h5"},"Se cambiara el cliente a:",-1),ll={class:"text-h6 text-center text-bold"},al=O("div",{class:"q-ml-sm text-center"},"Desea recalcular el ticket ?",-1),ml={__name:"ModifyLayout",setup(n){const v=It(),p=pt(),A=v.series,t=C(null),o=C(null),i=C(""),l=C({state:!1,body:null}),d=C({state:!1,body:null}),f=C({val:null,body:null}),x=C(null),D=C(null),_=C({state:!1,body:null}),y=C({state:!1,body:null,account:0}),E=C({state:!1,body:null}),q=C(null);let Q=C(null);const P=C(null),G=["Devolucion","Modificacion","Reimpresion"],te=w(()=>o.value&&i.value.length),ie=w(()=>d.value.body.product),I=w(()=>f.value.val&&(P.value=="Devolucion"&&$.value.length>10||P.value=="Reimpresion")||P.value=="Modificacion"),$=C(""),F=async()=>{let r=`http://${v.session.store.ip}/access/public/modify/getPrinter`;W.get(r).then(u=>{f.value.body=u.data,console.log("Impresoras listas :)")}).catch(u=>{console.log(u.response.data.message)})},le=async()=>{l.value.body=null;let c=o.value,r=i.value,z=`http://${v.session.store.ip}/access/public/modify/getTicket?serie=${c}&folio=${r}`;W.get(z).then(h=>{l.value.state=!0,l.value.body=h.data}).catch(h=>{console.log(h.response.data.message),p.notify({html:!0,message:h.response.data.message,color:"negative",position:"center"})})},J=async()=>{let c=v.session.store.ip,r=`${v.session.name} - ${v.session.store.alias}`;if(P.value=="Devolucion"){let u={type:P.value,serie:o.value,folio:i.value,mot:$.value,create:r,print:f.value.val.ip};console.log(u);let z=`http://${c}/access/public/modify/newmod`;W.post(z,u).then(h=>{l.value.state=!1,console.log(h),P.value=null,$.value="",f.value.val=null,o.value=null,i.value="",p.notify({html:!0,message:h.data.mssg,color:"positive",position:"center"})}).catch(h=>{console.log(h.response.data.message),p.notify({html:!0,message:h.response.data.message,color:"negative",position:"center"})})}else if(P.value=="Reimpresion"){let u={type:P.value,serie:o.value,folio:i.value,print:f.value.val.ip},z=`http://${c}/access/public/modify/newmod`;W.post(z,u).then(h=>{l.value.state=!1,console.log(h),P.value=null,f.value.val=null,o.value=null,i.value=""}).catch(h=>h)}else if(P.value=="Modificacion"){console.log("modificado");let u={type:P.value,serie:o.value,folio:i.value},z=`http://${c}/access/public/modify/newmod`;W.post(z,u).then(h=>{console.log(h),d.value.state=!0,l.value.state=!1,d.value.body=h.data,Q.value=Number(h.data.ticket.total),t.value=h.data.ticket.codcli,D.value=h.data.ticket.observacion}).catch(h=>h)}},ae=async()=>{console.log("cambio de cliente");let c=t.value;console.log(c);let u=`http://${v.session.store.ip}/access/public/modify/getClient?client=${c}`;W.get(u).then(z=>{console.log(z.data),E.value.body=z.data,d.value.body.ticket.cliente=z.data.NOFCLI,E.value.state=!0}).catch(z=>{console.log(z.response.data),p.notify({html:!0,message:z.response.data,color:"negative",position:"center"})})},j=c=>{console.log(`Mostrando Articulo ${c.ARTICULO}`),_.value.state=!0,_.value.body=c},oe=async()=>{console.log("Buscando Producto Y propiedades");let c={product:x.value,price:t.value};if(d.value.body.product.findIndex(u=>u.ARTICULO==x.value)==-1){let z=`http://${v.session.store.ip}/access/public/modify/getProduct`;W.get(z,{params:c}).then(h=>{console.log(h.data),y.value.body=h.data,y.value.state=!0}).catch(h=>{console.log(h.response.data),p.notify({html:!0,message:h.response.data,color:"negative",position:"center"})})}else p.notify({html:!0,message:`El productos ${x.value} ya esta en el ticket`,color:"negative",position:"center"})},ne=()=>console.log("Pasa a cobros"),re=()=>{console.log("Se eliminara el articulo");let c=_.value.body.ARTICULO,r=d.value.body.product.findIndex(u=>u.ARTICULO==c);console.log(r),d.value.body.product.splice(r,1),_.value.state=!1,Q.value=d.value.body.product.reduce((u,z)=>u+Number(z.TOTAL),0)},U=()=>{let c={ARTICULO:y.value.body.CODART,DESCRIPCION:y.value.body.DESART,CANTIDAD:y.value.account,PRECIO:y.value.body.PRELTA,TOTAL:y.value.account*y.value.body.PRELTA};d.value.body.product.push(c),Q.value=d.value.body.product.reduce((r,u)=>r+Number(u.TOTAL),0),y.value.account=0,x.value=null},s=()=>{console.log("recalculando ticket");let c=d.value.body.product,u={cliente:t.value,productos:c},h=`http://${v.session.store.ip}/access/public/modify/getPrices`;W.get(h,{params:u}).then(T=>{console.log(T.data),q.value=T.data,q.value.forEach(X=>{let R=d.value.body.product.findIndex(me=>me.ARTICULO==X.CODART);d.value.body.product[R].PRECIO=X.PRELTA}),Q.value=d.value.body.product.reduce((X,R)=>X+Number(R.CANTIDAD)*Number(R.PRECIO),0)}).catch(T=>{console.log(T.response.data),p.notify({html:!0,message:T.response.data,color:"negative",position:"center"})})},m=()=>{Q.value=d.value.body.product.reduce((c,r)=>c+Number(r.CANTIDAD)*Number(r.PRECIO),0)};return F(),(c,r)=>(N(),Z(Ot,{view:"hHh Lpr fFf"},{default:a(()=>[e(yt,{class:"transparent text-dark",bordered:""},{default:a(()=>[e(bt),e(B),e(ht,{class:"justify-between"},{default:a(()=>[O("div",null,[g("Helpers "),e(dt,{name:"navigate_next",color:"primary"}),g(),Lt]),e(L,{color:"primary",icon:"add"},{default:a(()=>[e(Ze,null,{default:a(()=>[Qt,e(B),e(Se,{dense:"",onSubmit:le,class:"q-gutter-md q-pa-md"},{default:a(()=>[e(ye,{modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=u=>o.value=u),options:de(A),label:"Serie",autofocus:""},null,8,["modelValue","options"]),e(ee,{modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=u=>i.value=u),type:"number",label:"Folio"},null,8,["modelValue"]),de(te)?(N(),he("div",Ft,[e(L,{type:"submit",color:"primary",icon:"search"})])):se("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(Et,null,{default:a(()=>[e(Dt,{class:"bg-grey-3",padding:""},{default:a(()=>[O("div",Ht,[e(xe,{name:"bounce"},{default:a(()=>[l.value.state?(N(),Z(H,{key:0,style:{"min-width":"400px"},flat:"",bordered:""},{default:a(()=>[e(Me,{bordered:""},{default:a(()=>[e(V,null,{default:a(()=>[e(b,null,{default:a(()=>[g("Ticket : ")]),_:1}),e(b,null,{default:a(()=>[g(k(l.value.body.ticket),1)]),_:1})]),_:1}),e(V,null,{default:a(()=>[e(b,null,{default:a(()=>[g("Cliente : ")]),_:1}),e(b,null,{default:a(()=>[g(k(l.value.body.cliente),1)]),_:1})]),_:1}),e(V,null,{default:a(()=>[e(b,null,{default:a(()=>[g("Fecha : ")]),_:1}),e(b,null,{default:a(()=>[g(k(l.value.body.fecha),1)]),_:1})]),_:1}),e(V,null,{default:a(()=>[e(b,null,{default:a(()=>[g("Total : ")]),_:1}),e(b,null,{default:a(()=>[g("$ "+k(l.value.body.total),1)]),_:1})]),_:1}),e(B),e(V,{class:"bg-indigo-2"},{default:a(()=>[e(b,null,{default:a(()=>[g("Movimiento")]),_:1}),e(b,null,{default:a(()=>[e(ye,{dense:"",modelValue:P.value,"onUpdate:modelValue":r[2]||(r[2]=u=>P.value=u),options:G,label:"Seleccione",filled:"",autofocus:""},null,8,["modelValue"])]),_:1})]),_:1}),P.value=="Devolucion"||P.value=="Reimpresion"?(N(),Z(V,{key:0},{default:a(()=>[e(b,null,{default:a(()=>[g("Impresora")]),_:1}),f.value.body?(N(),Z(b,{key:1},{default:a(()=>[e(ye,{dense:"","option-label":"name",modelValue:f.value.val,"onUpdate:modelValue":r[3]||(r[3]=u=>f.value.val=u),options:f.value.body,label:"Impresora",filled:"",autofocus:""},null,8,["modelValue","options"])]),_:1})):(N(),Z(b,{key:0},{default:a(()=>[e(qt,{color:"purple",size:"2em"}),e(Rt,{offset:[0,8]},{default:a(()=>[g("Obteniendo Impresoras")]),_:1})]),_:1}))]),_:1})):se("",!0),P.value=="Devolucion"?(N(),he("div",$t,[e(V,null,{default:a(()=>[e(b,null,{default:a(()=>[g("Motivo de la devolucion")]),_:1}),e(b,null,{default:a(()=>[e(ee,{modelValue:$.value,"onUpdate:modelValue":r[4]||(r[4]=u=>$.value=u),type:"text",label:"describe el motivo"},null,8,["modelValue"])]),_:1})]),_:1})])):se("",!0)]),_:1}),de(I)?(N(),he("div",jt,[e(be,{align:"between"},{default:a(()=>[e(L,{flat:"",icon:"cancel"}),e(L,{flat:"",icon:"arrow_forward",onClick:J})]),_:1})])):se("",!0)]),_:1})):se("",!0)]),_:1})]),e(xe,{name:"bounce"},{default:a(()=>[d.value.state?(N(),Z(H,{key:0,class:"my-card",style:{"min-width":"400px"},flat:"",bordered:""},{default:a(()=>[e(Me,{bordered:""},{default:a(()=>[e(H,{class:"my-card"},{default:a(()=>[e(M,null,{default:a(()=>[e(V,{class:"text-center"},{default:a(()=>[e(b,null,{default:a(()=>[e(Y,{caption:"",lines:"2"},{default:a(()=>[g("Ticket")]),_:1}),e(Y,{class:"text-h4"},{default:a(()=>[g(k(d.value.body.ticket.ticket),1)]),_:1})]),_:1}),e(b,null,{default:a(()=>[e(Y,{caption:"",lines:"2"},{default:a(()=>[g("Fecha")]),_:1}),e(Y,{class:"text-h6"},{default:a(()=>[g(k(d.value.body.ticket.fecha),1)]),_:1})]),_:1}),e(b,null,{default:a(()=>[e(Y,{caption:"",lines:"2"},{default:a(()=>[g("Total")]),_:1}),e(Y,{class:"text-h6"},{default:a(()=>[g(k(Number.parseFloat(de(Q)).toFixed(2)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(B,{spaced:"",inset:"",vertical:"",dark:""}),e(H,{class:"my-card"},{default:a(()=>[e(M,null,{default:a(()=>[e(V,{class:"text-h6"},{default:a(()=>[e(b,null,{default:a(()=>[e(Y,{lines:"2"},{default:a(()=>[g("Cliente")]),_:1}),e(Y,null,{default:a(()=>[e(Se,{onSubmit:ae,class:"q-gutter-md q-display-flex q-justify-center"},{default:a(()=>[e(ee,{modelValue:t.value,"onUpdate:modelValue":r[5]||(r[5]=u=>t.value=u),type:"number",style:{"max-width":"100px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(b,null,{default:a(()=>[g(k(d.value.body.ticket.cliente),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(B,{spaced:"",inset:"",vertical:"",dark:""}),e(V,null,{default:a(()=>[e(b,null,{default:a(()=>[e(H,{class:"my-card"},{default:a(()=>[e(M,null,{default:a(()=>[e(Se,{onSubmit:oe,class:"q-gutter-md"},{default:a(()=>[O("div",null,[e(ee,{modelValue:x.value,"onUpdate:modelValue":r[6]||(r[6]=u=>x.value=u),type:"text",label:"Agregar Modelo"},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(B,{spaced:"",inset:"",vertical:"",dark:""}),e(H,{class:"my-card"},{default:a(()=>[e(M,null,{default:a(()=>[e(V,null,{default:a(()=>[e(b,null,{default:a(()=>[g("ARTICULO")]),_:1}),e(b,null,{default:a(()=>[g("DESCRIPCION")]),_:1}),e(b,null,{default:a(()=>[g("CANTIDAD")]),_:1}),e(b,null,{default:a(()=>[g("PRECIO")]),_:1}),e(b,null,{default:a(()=>[g("TOTAL")]),_:1})]),_:1}),e(Nt,{style:{height:"300px","max-width":"1700px"}},{default:a(()=>[(N(!0),he(ft,null,vt(de(ie),(u,z)=>K((N(),Z(V,{key:z,onClick:h=>j(u),clickable:""},{default:a(()=>[e(b,null,{default:a(()=>[g(k(u.ARTICULO),1)]),_:2},1024),e(b,null,{default:a(()=>[g(k(u.DESCRIPCION),1)]),_:2},1024),e(b,null,{default:a(()=>[g(k(Number.parseFloat(u.CANTIDAD).toFixed(2)),1)]),_:2},1024),e(b,null,{default:a(()=>[g("$ "+k(Number.parseFloat(u.PRECIO).toFixed(2)),1)]),_:2},1024),e(b,null,{default:a(()=>[g("$ "+k(Number.parseFloat(u.PRECIO*u.CANTIDAD).toFixed(2)),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[mt]])),128))]),_:1})]),_:1})]),_:1}),e(V,null,{default:a(()=>[e(b)]),_:1}),e(B,{spaced:"",inset:"",vertical:"",dark:""}),e(H,{class:"my-card"},{default:a(()=>[e(M,null,{default:a(()=>[e(V,null,{default:a(()=>[e(b,null,{default:a(()=>[e(Y,null,{default:a(()=>[g("Observaciones")]),_:1})]),_:1}),e(b,{side:"",top:""},{default:a(()=>[e(ee,{modelValue:D.value,"onUpdate:modelValue":r[7]||(r[7]=u=>D.value=u),type:"text",label:"observaciones",style:{"max-width":"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(L,{class:"full-width",color:"primary",icon:"receipt",label:"PAGAR",onClick:ne}),e(ze,{modelValue:_.value.state,"onUpdate:modelValue":r[9]||(r[9]=u=>_.value.state=u),position:"right",persistent:""},{default:a(()=>[e(H,{class:"my-card"},{default:a(()=>[e(M,null,{default:a(()=>[O("div",Ut,"Articulo : "+k(_.value.body.ARTICULO),1),O("div",Bt,"Descripcion : "+k(_.value.body.DESCRIPCION),1)]),_:1}),e(M,{class:"row"},{default:a(()=>[O("div",Yt,[e(ee,{modelValue:_.value.body.CANTIDAD,"onUpdate:modelValue":r[8]||(r[8]=u=>_.value.body.CANTIDAD=u),type:"number",label:"Cantidad",style:{"max-width":"50%"}},null,8,["modelValue"])])]),_:1}),e(M,{class:"row justify-between"},{default:a(()=>[O("div",Xt,"Precio : "+k(Number.parseFloat(_.value.body.PRECIO).toFixed(2)),1),O("div",Wt,"Total : "+k(Number.parseFloat(_.value.body.PRECIO*_.value.body.CANTIDAD).toFixed(2)),1)]),_:1}),e(be,{class:"row justify-between"},{default:a(()=>[e(L,{flat:"",icon:"delete",color:"negative",onClick:re}),K(e(L,{flat:"",icon:"arrow_forward_ios",disable:_.value.body.CANTIDAD.length<=0,onClick:m},null,8,["disable"]),[[ve]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ze,{modelValue:y.value.state,"onUpdate:modelValue":r[11]||(r[11]=u=>y.value.state=u),position:"left",persistent:""},{default:a(()=>[e(H,{class:"my-card"},{default:a(()=>[e(M,null,{default:a(()=>[O("div",Kt,"Articulo : "+k(y.value.body.CODART),1),O("div",Gt,"Descripcion : "+k(y.value.body.DESART),1)]),_:1}),e(M,{class:"row"},{default:a(()=>[O("div",Jt,[e(ee,{modelValue:y.value.account,"onUpdate:modelValue":r[10]||(r[10]=u=>y.value.account=u),type:"number",label:"Cantidad",style:{"max-width":"50%"}},null,8,["modelValue"])])]),_:1}),e(M,{class:"row justify-between"},{default:a(()=>[O("div",Zt,"Precio : "+k(Number.parseFloat(y.value.body.PRELTA).toFixed(2)),1),O("div",el,"Total : "+k(Number.parseFloat(y.value.body.PRELTA*y.value.account).toFixed(2)),1)]),_:1}),e(be,{class:"row justify-between"},{default:a(()=>[K(e(L,{flat:"",icon:"close",color:"positive"},null,512),[[ve]]),K(e(L,{flat:"",icon:"arrow_forward_ios",disable:y.value.account<=0,onClick:U},null,8,["disable"]),[[ve]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ze,{modelValue:E.value.state,"onUpdate:modelValue":r[12]||(r[12]=u=>E.value.state=u)},{default:a(()=>[e(H,null,{default:a(()=>[e(M,{class:"items-center"},{default:a(()=>[tl,e(B,{spaced:"",inset:"",vertical:"",dark:""}),O("div",ll,k(E.value.body.NOFCLI),1),e(B,{spaced:"",inset:"",vertical:"",dark:""}),al]),_:1}),e(be,{align:"center"},{default:a(()=>[K(e(L,{flat:"",icon:"close",color:"primary"},null,512),[[ve]]),K(e(L,{flat:"",icon:"check",color:"positive",onClick:s},null,512),[[ve]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):se("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ml as default};
